var d2=Object.defineProperty,f2=Object.defineProperties;var h2=Object.getOwnPropertyDescriptors;var Xf=Object.getOwnPropertySymbols;var XT=Object.prototype.hasOwnProperty,eS=Object.prototype.propertyIsEnumerable;var JT=(n,e,t)=>e in n?d2(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,N=(n,e)=>{for(var t in e||={})XT.call(e,t)&&JT(n,t,e[t]);if(Xf)for(var t of Xf(e))eS.call(e,t)&&JT(n,t,e[t]);return n},re=(n,e)=>f2(n,h2(e));var $a=(n,e)=>{var t={};for(var r in n)XT.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&Xf)for(var r of Xf(n))e.indexOf(r)<0&&eS.call(n,r)&&(t[r]=n[r]);return t};var vn=null,eh=!1,Bv=1,p2=null,ln=Symbol("SIGNAL");function ce(n){let e=vn;return vn=n,e}function nh(){return vn}var Ha={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function za(n){if(eh)throw new Error("");if(vn===null)return;vn.consumerOnSignalRead(n);let e=vn.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=vn.recomputing;if(r&&(t=e!==void 0?e.nextProducer:vn.producers,t!==void 0&&t.producer===n)){vn.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===vn&&(!r||m2(i,vn)))return;let o=Wa(vn),s={producer:n,consumer:vn,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};vn.producersTail=s,e!==void 0?e.nextProducer=s:vn.producers=s,o&&iS(n,s)}function tS(){Bv++}function jv(n){if(!(Wa(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Bv)){if(!n.producerMustRecompute(n)&&!Ga(n)){Vv(n);return}n.producerRecomputeValue(n),Vv(n)}}function Uv(n){if(n.consumers===void 0)return;let e=eh;eh=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||g2(r)}}finally{eh=e}}function $v(){return vn?.consumerAllowSignalWrites!==!1}function g2(n){n.dirty=!0,Uv(n),n.consumerMarkedDirty?.(n)}function Vv(n){n.dirty=!1,n.lastCleanEpoch=Bv}function bs(n){return n&&nS(n),ce(n)}function nS(n){n.producersTail=void 0,n.recomputing=!0}function qa(n,e){ce(e),n&&rS(n)}function rS(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(Wa(n))do t=Hv(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function Ga(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(jv(t),r!==t.version))return!0}return!1}function _o(n){if(Wa(n)){let e=n.producers;for(;e!==void 0;)e=Hv(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function iS(n,e){let t=n.consumersTail,r=Wa(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)iS(i.producer,i)}function Hv(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Wa(e)){let o=e.producers;for(;o!==void 0;)o=Hv(o)}return t}function Wa(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function zv(n){p2?.(n)}function m2(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function qv(n,e){return Object.is(n,e)}function au(n,e){let t=Object.create(y2);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(jv(t),za(t),t.value===th)throw t.error;return t.value};return r[ln]=t,zv(t),r}var Fv=Symbol("UNSET"),Lv=Symbol("COMPUTING"),th=Symbol("ERRORED"),y2=re(N({},Ha),{value:Fv,dirty:!0,error:null,equal:qv,kind:"computed",producerMustRecompute(n){return n.value===Fv||n.value===Lv},producerRecomputeValue(n){if(n.value===Lv)throw new Error("");let e=n.value;n.value=Lv;let t=bs(n),r,i=!1;try{r=n.computation(),ce(null),i=e!==Fv&&e!==th&&r!==th&&n.equal(e,r)}catch(o){r=th,n.error=o}finally{qa(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function v2(){throw new Error}var oS=v2;function sS(n){oS(n)}function Gv(n){oS=n}var _2=null;function Wv(n,e){let t=Object.create(cu);t.value=n,e!==void 0&&(t.equal=e);let r=()=>aS(t);return r[ln]=t,zv(t),[r,s=>lu(t,s),s=>lS(t,s)]}function aS(n){return za(n),n.value}function lu(n,e){$v()||sS(n),n.equal(n.value,e)||(n.value=e,b2(n))}function lS(n,e){$v()||sS(n),lu(n,e(n.value))}var cu=re(N({},Ha),{equal:qv,value:void 0,kind:"signal"});function b2(n){n.version++,tS(),Uv(n),_2?.(n)}function Kv(n){let e=ce(null);try{return n()}finally{ce(e)}}var Qv=re(N({},Ha),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function Yv(n){if(n.dirty=!1,n.version>0&&!Ga(n))return;n.version++;let e=bs(n);try{n.cleanup(),n.fn()}finally{qa(n,e)}}function De(n){return typeof n=="function"}function Ka(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var rh=Ka(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function uu(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var cn=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(De(r))try{r()}catch(o){e=o instanceof rh?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{cS(o)}catch(s){e=e??[],s instanceof rh?e=[...e,...s.errors]:e.push(s)}}if(e)throw new rh(e)}}add(e){var t;if(e&&e!==this)if(this.closed)cS(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&uu(t,e)}remove(e){let{_finalizers:t}=this;t&&uu(t,e),e instanceof n&&e._removeParent(this)}};cn.EMPTY=(()=>{let n=new cn;return n.closed=!0,n})();var Zv=cn.EMPTY;function ih(n){return n instanceof cn||n&&"closed"in n&&De(n.remove)&&De(n.add)&&De(n.unsubscribe)}function cS(n){De(n)?n():n.unsubscribe()}var Cr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Qa={setTimeout(n,e,...t){let{delegate:r}=Qa;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Qa;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function oh(n){Qa.setTimeout(()=>{let{onUnhandledError:e}=Cr;if(e)e(n);else throw n})}function du(){}var uS=Jv("C",void 0,void 0);function dS(n){return Jv("E",void 0,n)}function fS(n){return Jv("N",n,void 0)}function Jv(n,e,t){return{kind:n,value:e,error:t}}var Es=null;function Ya(n){if(Cr.useDeprecatedSynchronousErrorHandling){let e=!Es;if(e&&(Es={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Es;if(Es=null,t)throw r}}else n()}function hS(n){Cr.useDeprecatedSynchronousErrorHandling&&Es&&(Es.errorThrown=!0,Es.error=n)}var ws=class extends cn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ih(e)&&e.add(this)):this.destination=C2}static create(e,t,r){return new Za(e,t,r)}next(e){this.isStopped?e_(fS(e),this):this._next(e)}error(e){this.isStopped?e_(dS(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?e_(uS,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},E2=Function.prototype.bind;function Xv(n,e){return E2.call(n,e)}var t_=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){sh(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){sh(r)}else sh(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){sh(t)}}},Za=class extends ws{constructor(e,t,r){super();let i;if(De(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Cr.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Xv(e.next,o),error:e.error&&Xv(e.error,o),complete:e.complete&&Xv(e.complete,o)}):i=e}this.destination=new t_(i)}};function sh(n){Cr.useDeprecatedSynchronousErrorHandling?hS(n):oh(n)}function w2(n){throw n}function e_(n,e){let{onStoppedNotification:t}=Cr;t&&Qa.setTimeout(()=>t(n,e))}var C2={closed:!0,next:du,error:w2,complete:du};var Ja=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ir(n){return n}function n_(...n){return r_(n)}function r_(n){return n.length===0?Ir:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Pe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=D2(t)?t:new Za(t,r,i);return Ya(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=pS(r),new r((i,o)=>{let s=new Za({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Ja](){return this}pipe(...t){return r_(t)(this)}toPromise(t){return t=pS(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function pS(n){var e;return(e=n??Cr.Promise)!==null&&e!==void 0?e:Promise}function I2(n){return n&&De(n.next)&&De(n.error)&&De(n.complete)}function D2(n){return n&&n instanceof ws||I2(n)&&ih(n)}function T2(n){return De(n?.lift)}function Ke(n){return e=>{if(T2(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Qe(n,e,t,r,i){return new i_(n,e,t,r,i)}var i_=class extends ws{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var gS=Ka(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Nt=(()=>{class n extends Pe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new ah(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new gS}next(t){Ya(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Ya(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ya(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Zv:(this.currentObservers=null,o.push(t),new cn(()=>{this.currentObservers=null,uu(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new Pe;return t.source=this,t}}return n.create=(e,t)=>new ah(e,t),n})(),ah=class extends Nt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Zv}};var un=class extends Nt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var dn=new Pe(n=>n.complete());function mS(n){return n&&De(n.schedule)}function yS(n){return n[n.length-1]}function lh(n){return De(yS(n))?n.pop():void 0}function bo(n){return mS(yS(n))?n.pop():void 0}function _S(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(f){s(f)}}function l(d){try{u(r.throw(d))}catch(f){s(f)}}function u(d){d.done?o(d.value):i(d.value).then(a,l)}u((r=r.apply(n,e||[])).next())})}function vS(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Cs(n){return this instanceof Cs?(this.v=n,this):new Cs(n)}function bS(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(v){return Promise.resolve(v).then(m,f)}}function a(m,v){r[m]&&(i[m]=function(w){return new Promise(function(M,O){o.push([m,w,M,O])>1||l(m,w)})},v&&(i[m]=v(i[m])))}function l(m,v){try{u(r[m](v))}catch(w){g(o[0][3],w)}}function u(m){m.value instanceof Cs?Promise.resolve(m.value.v).then(d,f):g(o[0][2],m)}function d(m){l("next",m)}function f(m){l("throw",m)}function g(m,v){m(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function ES(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof vS=="function"?vS(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}var ch=n=>n&&typeof n.length=="number"&&typeof n!="function";function uh(n){return De(n?.then)}function dh(n){return De(n[Ja])}function fh(n){return Symbol.asyncIterator&&De(n?.[Symbol.asyncIterator])}function hh(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function S2(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ph=S2();function gh(n){return De(n?.[ph])}function mh(n){return bS(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Cs(t.read());if(i)return yield Cs(void 0);yield yield Cs(r)}}finally{t.releaseLock()}})}function yh(n){return De(n?.getReader)}function kt(n){if(n instanceof Pe)return n;if(n!=null){if(dh(n))return A2(n);if(ch(n))return M2(n);if(uh(n))return N2(n);if(fh(n))return wS(n);if(gh(n))return x2(n);if(yh(n))return R2(n)}throw hh(n)}function A2(n){return new Pe(e=>{let t=n[Ja]();if(De(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function M2(n){return new Pe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function N2(n){return new Pe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,oh)})}function x2(n){return new Pe(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function wS(n){return new Pe(e=>{P2(n,e).catch(t=>e.error(t))})}function R2(n){return wS(mh(n))}function P2(n,e){var t,r,i,o;return _S(this,void 0,void 0,function*(){try{for(t=ES(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Vn(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function vh(n,e=0){return Ke((t,r)=>{t.subscribe(Qe(r,i=>Vn(r,n,()=>r.next(i),e),()=>Vn(r,n,()=>r.complete(),e),i=>Vn(r,n,()=>r.error(i),e)))})}function _h(n,e=0){return Ke((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function CS(n,e){return kt(n).pipe(_h(e),vh(e))}function IS(n,e){return kt(n).pipe(_h(e),vh(e))}function DS(n,e){return new Pe(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function TS(n,e){return new Pe(t=>{let r;return Vn(t,e,()=>{r=n[ph](),Vn(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>De(r?.return)&&r.return()})}function bh(n,e){if(!n)throw new Error("Iterable cannot be null");return new Pe(t=>{Vn(t,e,()=>{let r=n[Symbol.asyncIterator]();Vn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function SS(n,e){return bh(mh(n),e)}function AS(n,e){if(n!=null){if(dh(n))return CS(n,e);if(ch(n))return DS(n,e);if(uh(n))return IS(n,e);if(fh(n))return bh(n,e);if(gh(n))return TS(n,e);if(yh(n))return SS(n,e)}throw hh(n)}function Ft(n,e){return e?AS(n,e):kt(n)}function Le(...n){let e=bo(n);return Ft(n,e)}function o_(n,e){let t=De(n)?n:()=>n,r=i=>i.error(t());return new Pe(e?i=>e.schedule(r,0,i):r)}function Eh(n){return!!n&&(n instanceof Pe||De(n.lift)&&De(n.subscribe))}var Is=Ka(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function pt(n,e){return Ke((t,r)=>{let i=0;t.subscribe(Qe(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:O2}=Array;function k2(n,e){return O2(e)?n(...e):n(e)}function wh(n){return pt(e=>k2(n,e))}var{isArray:F2}=Array,{getPrototypeOf:L2,prototype:V2,keys:B2}=Object;function Ch(n){if(n.length===1){let e=n[0];if(F2(e))return{args:e,keys:null};if(j2(e)){let t=B2(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function j2(n){return n&&typeof n=="object"&&L2(n)===V2}function Ih(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function s_(...n){let e=bo(n),t=lh(n),{args:r,keys:i}=Ch(n);if(r.length===0)return Ft([],e);let o=new Pe(U2(r,e,i?s=>Ih(i,s):Ir));return t?o.pipe(wh(t)):o}function U2(n,e,t=Ir){return r=>{MS(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)MS(e,()=>{let u=Ft(n[l],e),d=!1;u.subscribe(Qe(r,f=>{o[l]=f,d||(d=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function MS(n,e,t){n?Vn(t,n,e):e()}function NS(n,e,t,r,i,o,s,a){let l=[],u=0,d=0,f=!1,g=()=>{f&&!l.length&&!u&&e.complete()},m=w=>u<r?v(w):l.push(w),v=w=>{o&&e.next(w),u++;let M=!1;kt(t(w,d++)).subscribe(Qe(e,O=>{i?.(O),o?m(O):e.next(O)},()=>{M=!0},void 0,()=>{if(M)try{for(u--;l.length&&u<r;){let O=l.shift();s?Vn(e,s,()=>v(O)):v(O)}g()}catch(O){e.error(O)}}))};return n.subscribe(Qe(e,m,()=>{f=!0,g()})),()=>{a?.()}}function Nn(n,e,t=1/0){return De(e)?Nn((r,i)=>pt((o,s)=>e(r,o,i,s))(kt(n(r,i))),t):(typeof e=="number"&&(t=e),Ke((r,i)=>NS(r,i,n,t)))}function xS(n=1/0){return Nn(Ir,n)}function RS(){return xS(1)}function Xa(...n){return RS()(Ft(n,bo(n)))}function fu(n){return new Pe(e=>{kt(n()).subscribe(e)})}function a_(...n){let e=lh(n),{args:t,keys:r}=Ch(n),i=new Pe(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,u=s;for(let d=0;d<s;d++){let f=!1;kt(t[d]).subscribe(Qe(o,g=>{f||(f=!0,u--),a[d]=g},()=>l--,void 0,()=>{(!l||!f)&&(u||o.next(r?Ih(r,a):a),o.complete())}))}});return e?i.pipe(wh(e)):i}function Ci(n,e){return Ke((t,r)=>{let i=0;t.subscribe(Qe(r,o=>n.call(e,o,i++)&&r.next(o)))})}function hu(n){return Ke((e,t)=>{let r=null,i=!1,o;r=e.subscribe(Qe(t,void 0,void 0,s=>{o=kt(n(s,hu(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Dh(n,e){return De(e)?Nn(n,e,1):Nn(n,1)}function PS(n){return Ke((e,t)=>{let r=!1;e.subscribe(Qe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Ii(n){return n<=0?()=>dn:Ke((e,t)=>{let r=0;e.subscribe(Qe(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function OS(n=$2){return Ke((e,t)=>{let r=!1;e.subscribe(Qe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function $2(){return new Is}function l_(n){return Ke((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Di(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ci((i,o)=>n(i,o,r)):Ir,Ii(1),t?PS(e):OS(()=>new Is))}function Th(n){return n<=0?()=>dn:Ke((e,t)=>{let r=[];e.subscribe(Qe(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function c_(...n){let e=bo(n);return Ke((t,r)=>{(e?Xa(n,t,e):Xa(n,t)).subscribe(r)})}function Ti(n,e){return Ke((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Qe(r,l=>{i?.unsubscribe();let u=0,d=o++;kt(n(l,d)).subscribe(i=Qe(r,f=>r.next(e?e(l,f,d,u++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function pu(n){return Ke((e,t)=>{kt(n).subscribe(Qe(t,()=>t.complete(),du)),!t.closed&&e.subscribe(t)})}function Xr(n,e,t){let r=De(n)||e||t?{next:n,error:e,complete:t}:n;return r?Ke((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Qe(o,l=>{var u;(u=r.next)===null||u===void 0||u.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,l),o.error(l)},()=>{var l,u;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Ir}var u_;function Sh(){return u_}function ei(n){let e=u_;return u_=n,e}var kS=Symbol("NotFound");function el(n){return n===kS||n?.name==="\u0275NotFound"}var C_="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",k=class extends Error{code;constructor(e,t){super(Io(e,t)),this.code=e}};function H2(n){return`NG0${Math.abs(n)}`}function Io(n,e){return`${H2(n)}${e?": "+e:""}`}var Ms=globalThis;function Ye(n){for(let e in n)if(n[e]===Ye)return e;throw Error("")}function jS(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ai(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Ai).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Oh(n,e){return n?e?`${n} ${e}`:n:e||""}var z2=Ye({__forward_ref__:Ye});function ar(n){return n.__forward_ref__=ar,n.toString=function(){return Ai(this())},n}function Gt(n){return I_(n)?n():n}function I_(n){return typeof n=="function"&&n.hasOwnProperty(z2)&&n.__forward_ref__===ar}function U(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function je(n){return{providers:n.providers||[],imports:n.imports||[]}}function Eu(n){return q2(n,kh)}function D_(n){return Eu(n)!==null}function q2(n,e){return n.hasOwnProperty(e)&&n[e]||null}function G2(n){let e=n?.[kh]??null;return e||null}function f_(n){return n&&n.hasOwnProperty(Mh)?n[Mh]:null}var kh=Ye({\u0275prov:Ye}),Mh=Ye({\u0275inj:Ye}),q=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=U({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function T_(n){return n&&!!n.\u0275providers}var S_=Ye({\u0275cmp:Ye}),A_=Ye({\u0275dir:Ye}),M_=Ye({\u0275pipe:Ye}),N_=Ye({\u0275mod:Ye}),mu=Ye({\u0275fac:Ye}),Ns=Ye({__NG_ELEMENT_ID__:Ye}),FS=Ye({__NG_ENV_ID__:Ye});function x_(n){return Lh(n,"@NgModule"),n[N_]||null}function Do(n){return Lh(n,"@Component"),n[S_]||null}function Fh(n){return Lh(n,"@Directive"),n[A_]||null}function US(n){return Lh(n,"@Pipe"),n[M_]||null}function Lh(n,e){if(n==null)throw new k(-919,!1)}function R_(n){return typeof n=="string"?n:n==null?"":String(n)}var $S=Ye({ngErrorCode:Ye}),W2=Ye({ngErrorMessage:Ye}),K2=Ye({ngTokenPath:Ye});function P_(n,e){return HS("",-200,e)}function Vh(n,e){throw new k(-201,!1)}function HS(n,e,t){let r=new k(e,n);return r[$S]=e,r[W2]=n,t&&(r[K2]=t),r}function Q2(n){return n[$S]}var h_;function zS(){return h_}function xn(n){let e=h_;return h_=n,e}function O_(n,e,t){let r=Eu(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;Vh(n,"")}var Y2={},Ds=Y2,Z2="__NG_DI_FLAG__",p_=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Ts(t)||0;try{return this.injector.get(e,r&8?null:Ds,r)}catch(i){if(el(i))return i;throw i}}};function J2(n,e=0){let t=Sh();if(t===void 0)throw new k(-203,!1);if(t===null)return O_(n,void 0,e);{let r=X2(e),i=t.retrieve(n,r);if(el(i)){if(r.optional)return null;throw i}return i}}function ve(n,e=0){return(zS()||J2)(Gt(n),e)}function T(n,e){return ve(n,Ts(e))}function Ts(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function X2(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function g_(n){let e=[];for(let t=0;t<n.length;t++){let r=Gt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new k(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],l=eB(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(ve(i,o))}else e.push(ve(r))}return e}function eB(n){return n[Z2]}function Eo(n,e){let t=n.hasOwnProperty(mu);return t?n[mu]:null}function qS(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function GS(n){return n.flat(Number.POSITIVE_INFINITY)}function Bh(n,e){n.forEach(t=>Array.isArray(t)?Bh(t,e):e(t))}function k_(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function wu(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function WS(n,e){let t=[];for(let r=0;r<n;r++)t.push(e);return t}function KS(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function Cu(n,e,t){let r=nl(n,e);return r>=0?n[r|1]=t:(r=~r,KS(n,r,e,t)),r}function jh(n,e){let t=nl(n,e);if(t>=0)return n[t|1]}function nl(n,e){return tB(n,e,1)}function tB(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Dr={},_n=[],xs=new q(""),F_=new q("",-1),L_=new q(""),yu=class{get(e,t=Ds){if(t===Ds){let i=HS("",-201);throw i.name="\u0275NotFound",i}return t}};function Rs(n){return{\u0275providers:n}}function QS(n){return Rs([{provide:xs,multi:!0,useValue:n}])}function YS(...n){return{\u0275providers:V_(!0,n),\u0275fromNgModule:!0}}function V_(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Bh(e,s=>{let a=s;Nh(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&ZS(i,o),t}function ZS(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];B_(i,o=>{e(o,r)})}}function Nh(n,e,t,r){if(n=Gt(n),!n)return!1;let i=null,o=f_(n),s=!o&&Do(n);if(!o&&!s){let l=n.ngModule;if(o=f_(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of l)Nh(u,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;Bh(o.imports,d=>{Nh(d,e,t,r)&&(u||=[],u.push(d))}),u!==void 0&&ZS(u,e)}if(!a){let u=Eo(i)||(()=>new i);e({provide:i,useFactory:u,deps:_n},i),e({provide:L_,useValue:i,multi:!0},i),e({provide:xs,useValue:()=>ve(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let u=n;B_(l,d=>{e(d,u)})}}else return!1;return i!==n&&n.providers!==void 0}function B_(n,e){for(let t of n)T_(t)&&(t=t.\u0275providers),Array.isArray(t)?B_(t,e):e(t)}var nB=Ye({provide:String,useValue:Ye});function JS(n){return n!==null&&typeof n=="object"&&nB in n}function rB(n){return!!(n&&n.useExisting)}function iB(n){return!!(n&&n.useFactory)}function Ss(n){return typeof n=="function"}function XS(n){return!!n.useClass}var Iu=new q(""),Ah={},LS={},d_;function Du(){return d_===void 0&&(d_=new yu),d_}var Wt=class{},As=class extends Wt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,y_(e,s=>this.processProvider(s)),this.records.set(F_,tl(void 0,this)),i.has("environment")&&this.records.set(Wt,tl(void 0,this));let o=this.records.get(Iu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(L_,_n,{self:!0}))}retrieve(e,t){let r=Ts(t)||0;try{return this.get(e,Ds,r)}catch(i){if(el(i))return i;throw i}}destroy(){gu(this),this._destroyed=!0;let e=ce(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ce(e)}}onDestroy(e){return gu(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){gu(this);let t=ei(this),r=xn(void 0),i;try{return e()}finally{ei(t),xn(r)}}get(e,t=Ds,r){if(gu(this),e.hasOwnProperty(FS))return e[FS](this);let i=Ts(r),o,s=ei(this),a=xn(void 0);try{if(!(i&4)){let u=this.records.get(e);if(u===void 0){let d=cB(e)&&Eu(e);d&&this.injectableDefInScope(d)?u=tl(m_(e),Ah):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,i)}let l=i&2?Du():this.parent;return t=i&8&&t===Ds?null:t,l.get(e,t)}catch(l){let u=Q2(l);throw u===-200||u===-201?new k(u,null):l}finally{xn(a),ei(s)}}resolveInjectorInitializers(){let e=ce(null),t=ei(this),r=xn(void 0),i;try{let o=this.get(xs,_n,{self:!0});for(let s of o)s()}finally{ei(t),xn(r),ce(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Ai(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Gt(e);let t=Ss(e)?e:Gt(e&&e.provide),r=sB(e);if(!Ss(e)&&e.multi===!0){let i=this.records.get(t);i||(i=tl(void 0,Ah,!0),i.factory=()=>g_(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=ce(null);try{if(t.value===LS)throw P_(Ai(e));return t.value===Ah&&(t.value=LS,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&lB(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ce(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Gt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function m_(n){let e=Eu(n),t=e!==null?e.factory:Eo(n);if(t!==null)return t;if(n instanceof q)throw new k(204,!1);if(n instanceof Function)return oB(n);throw new k(204,!1)}function oB(n){if(n.length>0)throw new k(204,!1);let t=G2(n);return t!==null?()=>t.factory(n):()=>new n}function sB(n){if(JS(n))return tl(void 0,n.useValue);{let e=j_(n);return tl(e,Ah)}}function j_(n,e,t){let r;if(Ss(n)){let i=Gt(n);return Eo(i)||m_(i)}else if(JS(n))r=()=>Gt(n.useValue);else if(iB(n))r=()=>n.useFactory(...g_(n.deps||[]));else if(rB(n))r=(i,o)=>ve(Gt(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Gt(n&&(n.useClass||n.provide));if(aB(n))r=()=>new i(...g_(n.deps));else return Eo(i)||m_(i)}return r}function gu(n){if(n.destroyed)throw new k(205,!1)}function tl(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function aB(n){return!!n.deps}function lB(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function cB(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function y_(n,e){for(let t of n)Array.isArray(t)?y_(t,e):t&&T_(t)?y_(t.\u0275providers,e):e(t)}function En(n,e){let t;n instanceof As?(gu(n),t=n):t=new p_(n);let r,i=ei(t),o=xn(void 0);try{return e()}finally{ei(i),xn(o)}}function eA(){return zS()!==void 0||Sh()!=null}var Tr=0,le=1,ue=2,en=3,lr=4,Rn=5,rl=6,il=7,fn=8,To=9,Ni=10,gt=11,ol=12,U_=13,Ps=14,Bn=15,So=16,Os=17,ti=18,Ao=19,$_=20,Si=21,Uh=22,wo=23,Yn=24,ks=25,Tu=26,_t=27,tA=1;var Mo=7,Su=8,Fs=9,wn=10;function ni(n){return Array.isArray(n)&&typeof n[tA]=="object"}function Sr(n){return Array.isArray(n)&&n[tA]===!0}function H_(n){return(n.flags&4)!==0}function No(n){return n.componentOffset>-1}function sl(n){return(n.flags&1)===1}function Ar(n){return!!n.template}function al(n){return(n[ue]&512)!==0}function Ls(n){return(n[ue]&256)===256}var z_="svg",nA="math";function cr(n){for(;Array.isArray(n);)n=n[Tr];return n}function q_(n,e){return cr(e[n])}function Mr(n,e){return cr(e[n.index])}function Au(n,e){return n.data[e]}function G_(n,e){return n[e]}function W_(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function ur(n,e){let t=e[n];return ni(t)?t:t[Tr]}function rA(n){return(n[ue]&4)===4}function $h(n){return(n[ue]&128)===128}function iA(n){return Sr(n[en])}function ri(n,e){return e==null?null:n[e]}function K_(n){n[Os]=0}function Q_(n){n[ue]&1024||(n[ue]|=1024,$h(n)&&Vs(n))}function oA(n,e){for(;n>0;)e=e[Ps],n--;return e}function Mu(n){return!!(n[ue]&9216||n[Yn]?.dirty)}function Hh(n){n[Ni].changeDetectionScheduler?.notify(8),n[ue]&64&&(n[ue]|=1024),Mu(n)&&Vs(n)}function Vs(n){n[Ni].changeDetectionScheduler?.notify(0);let e=Co(n);for(;e!==null&&!(e[ue]&8192||(e[ue]|=8192,!$h(e)));)e=Co(e)}function Y_(n,e){if(Ls(n))throw new k(911,!1);n[Si]===null&&(n[Si]=[]),n[Si].push(e)}function sA(n,e){if(n[Si]===null)return;let t=n[Si].indexOf(e);t!==-1&&n[Si].splice(t,1)}function Co(n){let e=n[en];return Sr(e)?e[en]:e}function Z_(n){return n[il]??=[]}function J_(n){return n.cleanup??=[]}function aA(n,e,t,r){let i=Z_(e);i.push(t),n.firstCreatePass&&J_(n).push(r,i.length-1)}var Me={lFrame:yA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var v_=!1;function lA(){return Me.lFrame.elementDepthCount}function cA(){Me.lFrame.elementDepthCount++}function X_(){Me.lFrame.elementDepthCount--}function zh(){return Me.bindingsEnabled}function eb(){return Me.skipHydrationRootTNode!==null}function tb(n){return Me.skipHydrationRootTNode===n}function nb(){Me.skipHydrationRootTNode=null}function _e(){return Me.lFrame.lView}function xt(){return Me.lFrame.tView}function Pn(n){return Me.lFrame.contextLView=n,n[fn]}function On(n){return Me.lFrame.contextLView=null,n}function Cn(){let n=rb();for(;n!==null&&n.type===64;)n=n.parent;return n}function rb(){return Me.lFrame.currentTNode}function uA(){let n=Me.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function ll(n,e){let t=Me.lFrame;t.currentTNode=n,t.isParent=e}function ib(){return Me.lFrame.isParent}function ob(){Me.lFrame.isParent=!1}function sb(){return v_}function vu(n){let e=v_;return v_=n,e}function cl(){let n=Me.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function dA(n){return Me.lFrame.bindingIndex=n}function ul(){return Me.lFrame.bindingIndex++}function ab(n){let e=Me.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function fA(){return Me.lFrame.inI18n}function hA(n,e){let t=Me.lFrame;t.bindingIndex=t.bindingRootIndex=n,qh(e)}function pA(){return Me.lFrame.currentDirectiveIndex}function qh(n){Me.lFrame.currentDirectiveIndex=n}function gA(n){let e=Me.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Gh(){return Me.lFrame.currentQueryIndex}function Nu(n){Me.lFrame.currentQueryIndex=n}function uB(n){let e=n[le];return e.type===2?e.declTNode:e.type===1?n[Rn]:null}function lb(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=uB(o),i===null||(o=o[Ps],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=Me.lFrame=mA();return r.currentTNode=e,r.lView=n,!0}function Wh(n){let e=mA(),t=n[le];Me.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function mA(){let n=Me.lFrame,e=n===null?null:n.child;return e===null?yA(n):e}function yA(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function vA(){let n=Me.lFrame;return Me.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var cb=vA;function Kh(){let n=vA();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function _A(n){return(Me.lFrame.contextLView=oA(n,Me.lFrame.contextLView))[fn]}function xo(){return Me.lFrame.selectedIndex}function Ro(n){Me.lFrame.selectedIndex=n}function Qh(){let n=Me.lFrame;return Au(n.tView,n.selectedIndex)}function nn(){Me.lFrame.currentNamespace=z_}function bA(){return Me.lFrame.currentNamespace}var EA=!0;function Yh(){return EA}function xu(n){EA=n}function __(n,e=null,t=null,r){let i=ub(n,e,t,r);return i.resolveInjectorInitializers(),i}function ub(n,e=null,t=null,r,i=new Set){let o=[t||_n,YS(n)];return r=r||(typeof n=="object"?void 0:Ai(n)),new As(o,e||Du(),r||null,i)}var bn=class n{static THROW_IF_NOT_FOUND=Ds;static NULL=new yu;static create(e,t){if(Array.isArray(e))return __({name:""},t,e,"");{let r=e.name??"";return __({name:r},e.parent,e.providers,r)}}static \u0275prov=U({token:n,providedIn:"any",factory:()=>ve(F_)});static __NG_ELEMENT_ID__=-1},et=new q(""),Zn=(()=>{class n{static __NG_ELEMENT_ID__=dB;static __NG_ENV_ID__=t=>t}return n})(),xh=class extends Zn{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Ls(this._lView)}onDestroy(e){let t=this._lView;return Y_(t,e),()=>sA(t,e)}};function dB(){return new xh(_e())}var wA=!1,CA=new q(""),Po=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new un(!1);debugTaskTracker=T(CA,{optional:!0});get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Pe(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),this.debugTaskTracker?.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.debugTaskTracker?.remove(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}return n})(),b_=class extends Nt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,eA()&&(this.destroyRef=T(Zn,{optional:!0})??void 0,this.pendingTasks=T(Po,{optional:!0})??void 0)}emit(e){let t=ce(null);try{super.next(e)}finally{ce(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof cn&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},ke=b_;function Rh(...n){}function db(n){let e,t;function r(){n=Rh;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function IA(n){return queueMicrotask(()=>n()),()=>{n=Rh}}var fb="isAngularZone",_u=fb+"_ID",fB=0,tn=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ke(!1);onMicrotaskEmpty=new ke(!1);onStable=new ke(!1);onError=new ke(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=wA}=e;if(typeof Zone>"u")throw new k(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,gB(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(fb)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new k(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new k(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,hB,Rh,Rh);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},hB={};function hb(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function pB(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){db(()=>{n.callbackScheduled=!1,E_(n),n.isCheckStableRunning=!0,hb(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),E_(n)}function gB(n){let e=()=>{pB(n)},t=fB++;n._inner=n._inner.fork({name:"angular",properties:{[fb]:!0,[_u]:t,[_u+t]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(mB(l))return r.invokeTask(o,s,a,l);try{return VS(n),r.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),BS(n)}},onInvoke:(r,i,o,s,a,l,u)=>{try{return VS(n),r.invoke(o,s,a,l,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!yB(l)&&e(),BS(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,E_(n),hb(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function E_(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function VS(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function BS(n){n._nesting--,hb(n)}var bu=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ke;onMicrotaskEmpty=new ke;onStable=new ke;onError=new ke;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function mB(n){return DA(n,"__ignore_ng_zone__")}function yB(n){return DA(n,"__scheduler_tick__")}function DA(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var sr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},dr=new q("",{factory:()=>{let n=T(tn),e=T(Wt),t;return r=>{n.runOutsideAngular(()=>{e.destroyed&&!t?setTimeout(()=>{throw r}):(t??=e.get(sr),t.handleError(r))})}}}),TA={provide:xs,useValue:()=>{let n=T(sr,{optional:!0})},multi:!0},vB=new q("",{factory:()=>{let n=T(et).defaultView;if(!n)return;let e=T(dr),t=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),T(Zn).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function pb(){return Rs([QS(()=>{T(vB)})])}function Te(n,e){let[t,r,i]=Wv(n,e?.equal),o=t,s=o[ln];return o.set=r,o.update=i,o.asReadonly=gb.bind(o),o}function gb(){let n=this[ln];if(n.readonlyFn===void 0){let e=()=>this();e[ln]=n,n.readonlyFn=e}return n.readonlyFn}var Ru=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=_B}return n})();function _B(){return new Ru(_e(),Cn())}var Mi=class{},Pu=new q("",{factory:()=>!0});var mb=new q("");var Zh=(()=>{class n{static \u0275prov=U({token:n,providedIn:"root",factory:()=>new w_})}return n})(),w_=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}},Ph=class{[ln];constructor(e){this[ln]=e}destroy(){this[ln].destroy()}};function qe(n,e){let t=e?.injector??T(bn),r=e?.manualCleanup!==!0?t.get(Zn):null,i,o=t.get(Ru,null,{optional:!0}),s=t.get(Mi);return o!==null?(i=wB(o.view,s,n),r instanceof xh&&r._lView===o.view&&(r=null)):i=CB(n,t.get(Zh),s),i.injector=t,r!==null&&(i.onDestroyFns=[r.onDestroy(()=>i.destroy())]),new Ph(i)}var SA=re(N({},Qv),{cleanupFns:void 0,zone:null,onDestroyFns:null,run(){let n=vu(!1);try{Yv(this)}finally{vu(n)}},cleanup(){if(!this.cleanupFns?.length)return;let n=ce(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],ce(n)}}}),bB=re(N({},SA),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){if(_o(this),this.onDestroyFns!==null)for(let n of this.onDestroyFns)n();this.cleanup(),this.scheduler.remove(this)}}),EB=re(N({},SA),{consumerMarkedDirty(){this.view[ue]|=8192,Vs(this.view),this.notifier.notify(13)},destroy(){if(_o(this),this.onDestroyFns!==null)for(let n of this.onDestroyFns)n();this.cleanup(),this.view[wo]?.delete(this)}});function wB(n,e,t){let r=Object.create(EB);return r.view=n,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=AA(r,t),n[wo]??=new Set,n[wo].add(r),r.consumerMarkedDirty(r),r}function CB(n,e,t){let r=Object.create(bB);return r.fn=AA(r,n),r.scheduler=e,r.notifier=t,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function AA(n,e){return()=>{e(t=>(n.cleanupFns??=[]).push(t))}}function bt(n){return Kv(n)}function Uu(n){return{toString:n}.toString()}function NB(n){return typeof n=="function"}function sM(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var rp=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}},fr=(()=>{let n=()=>aM;return n.ngInherit=!0,n})();function aM(n){return n.type.prototype.ngOnChanges&&(n.setInput=RB),xB}function xB(){let n=cM(this),e=n?.current;if(e){let t=n.previous;if(t===Dr)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function RB(n,e,t,r,i){let o=this.declaredInputs[r],s=cM(n)||PB(n,{previous:Dr,current:null}),a=s.current||(s.current={}),l=s.previous,u=l[o];a[o]=new rp(u&&u.currentValue,t,l===Dr),sM(n,e,i,t)}var lM="__ngSimpleChanges__";function cM(n){return n[lM]||null}function PB(n,e){return n[lM]=e}var MA=[];var Ze=function(n,e=null,t){for(let r=0;r<MA.length;r++){let i=MA[r];i(n,e,t)}},Ue=(function(n){return n[n.TemplateCreateStart=0]="TemplateCreateStart",n[n.TemplateCreateEnd=1]="TemplateCreateEnd",n[n.TemplateUpdateStart=2]="TemplateUpdateStart",n[n.TemplateUpdateEnd=3]="TemplateUpdateEnd",n[n.LifecycleHookStart=4]="LifecycleHookStart",n[n.LifecycleHookEnd=5]="LifecycleHookEnd",n[n.OutputStart=6]="OutputStart",n[n.OutputEnd=7]="OutputEnd",n[n.BootstrapApplicationStart=8]="BootstrapApplicationStart",n[n.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",n[n.BootstrapComponentStart=10]="BootstrapComponentStart",n[n.BootstrapComponentEnd=11]="BootstrapComponentEnd",n[n.ChangeDetectionStart=12]="ChangeDetectionStart",n[n.ChangeDetectionEnd=13]="ChangeDetectionEnd",n[n.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",n[n.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",n[n.AfterRenderHooksStart=16]="AfterRenderHooksStart",n[n.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",n[n.ComponentStart=18]="ComponentStart",n[n.ComponentEnd=19]="ComponentEnd",n[n.DeferBlockStateStart=20]="DeferBlockStateStart",n[n.DeferBlockStateEnd=21]="DeferBlockStateEnd",n[n.DynamicComponentStart=22]="DynamicComponentStart",n[n.DynamicComponentEnd=23]="DynamicComponentEnd",n[n.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",n[n.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",n})(Ue||{});function OB(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=aM(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function uM(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function Xh(n,e,t){dM(n,e,3,t)}function ep(n,e,t,r){(n[ue]&3)===t&&dM(n,e,t,r)}function yb(n,e){let t=n[ue];(t&3)===e&&(t&=16383,t+=1,n[ue]=t)}function dM(n,e,t,r){let i=r!==void 0?n[Os]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(n[Os]+=65536),(a<o||o==-1)&&(kB(n,t,e,l),n[Os]=(n[Os]&4294901760)+l+2),l++}function NA(n,e){Ze(Ue.LifecycleHookStart,n,e);let t=ce(null);try{e.call(n)}finally{ce(t),Ze(Ue.LifecycleHookEnd,n,e)}}function kB(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ue]>>14<n[Os]>>16&&(n[ue]&3)===e&&(n[ue]+=16384,NA(a,o)):NA(a,o)}var fl=-1,js=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function FB(n){return(n.flags&8)!==0}function LB(n){return(n.flags&16)!==0}function VB(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];jB(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function BB(n){return n===3||n===4||n===6}function jB(n){return n.charCodeAt(0)===64}function hl(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?xA(n,t,i,null,e[++r]):xA(n,t,i,null,null))}}return n}function xA(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function fM(n){return n!==fl}function ip(n){return n&32767}function UB(n){return n>>16}function op(n,e){let t=UB(n),r=e;for(;t>0;)r=r[Ps],t--;return r}var Ab=!0;function sp(n){let e=Ab;return Ab=n,e}var $B=256,hM=$B-1,pM=5,HB=0,ii={};function zB(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ns)&&(r=t[Ns]),r==null&&(r=t[Ns]=HB++);let i=r&hM,o=1<<i;e.data[n+(i>>pM)]|=o}function ap(n,e){let t=gM(n,e);if(t!==-1)return t;let r=e[le];r.firstCreatePass&&(n.injectorIndex=e.length,vb(r.data,n),vb(e,null),vb(r.blueprint,null));let i=Zb(n,e),o=n.injectorIndex;if(fM(i)){let s=ip(i),a=op(i,e),l=a[le].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|l[s+u]}return e[o+8]=i,o}function vb(n,e){n.push(0,0,0,0,0,0,0,0,e)}function gM(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Zb(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=bM(i),r===null)return fl;if(t++,i=i[Ps],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return fl}function Mb(n,e,t){zB(n,e,t)}function mM(n,e,t){if(t&8||n!==void 0)return n;Vh(e,"NodeInjector")}function yM(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[To],o=xn(void 0);try{return i?i.get(e,r,t&8):O_(e,r,t&8)}finally{xn(o)}}return mM(r,e,t)}function vM(n,e,t,r=0,i){if(n!==null){if(e[ue]&2048&&!(r&2)){let s=KB(n,e,t,r,ii);if(s!==ii)return s}let o=_M(n,e,t,r,ii);if(o!==ii)return o}return yM(e,t,r,i)}function _M(n,e,t,r,i){let o=GB(t);if(typeof o=="function"){if(!lb(e,n,r))return r&1?mM(i,t,r):yM(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Vh(t);else return s}finally{cb()}}else if(typeof o=="number"){let s=null,a=gM(n,e),l=fl,u=r&1?e[Bn][Rn]:null;for((a===-1||r&4)&&(l=a===-1?Zb(n,e):e[a+8],l===fl||!PA(r,!1)?a=-1:(s=e[le],a=ip(l),e=op(l,e)));a!==-1;){let d=e[le];if(RA(o,a,d.data)){let f=qB(a,e,t,s,r,u);if(f!==ii)return f}l=e[a+8],l!==fl&&PA(r,e[le].data[a+8]===u)&&RA(o,a,e)?(s=d,a=ip(l),e=op(l,e)):a=-1}}return i}function qB(n,e,t,r,i,o){let s=e[le],a=s.data[n+8],l=r==null?No(a)&&Ab:r!=s&&(a.type&3)!==0,u=i&1&&o===a,d=tp(a,s,t,l,u);return d!==null?Lu(e,s,d,a,i):ii}function tp(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,l=n.directiveStart,u=n.directiveEnd,d=o>>20,f=r?a:a+d,g=i?a+d:u;for(let m=f;m<g;m++){let v=s[m];if(m<l&&t===v||m>=l&&v.type===t)return m}if(i){let m=s[l];if(m&&Ar(m)&&m.type===t)return l}return null}function Lu(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof js){let a=o;if(a.resolving)throw P_("");let l=sp(a.canSeeViewProviders);a.resolving=!0;let u=s[t].type||s[t],d,f=a.injectImpl?xn(a.injectImpl):null,g=lb(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&OB(t,s[t],e)}finally{f!==null&&xn(f),sp(l),a.resolving=!1,cb()}}return o}function GB(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Ns)?n[Ns]:void 0;return typeof e=="number"?e>=0?e&hM:WB:e}function RA(n,e,t){let r=1<<n;return!!(t[e+(n>>pM)]&r)}function PA(n,e){return!(n&2)&&!(n&1&&e)}var Bs=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return vM(this._tNode,this._lView,e,Ts(r),t)}};function WB(){return new Bs(Cn(),_e())}function ee(n){return Uu(()=>{let e=n.prototype.constructor,t=e[mu]||Nb(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[mu]||Nb(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Nb(n){return I_(n)?()=>{let e=Nb(Gt(n));return e&&e()}:Eo(n)}function KB(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ue]&2048&&!al(s);){let a=_M(o,s,t,r|2,ii);if(a!==ii)return a;let l=o.parent;if(!l){let u=s[$_];if(u){let d=u.get(t,ii,r);if(d!==ii)return d}l=bM(s),s=s[Ps]}o=l}return i}function bM(n){let e=n[le],t=e.type;return t===2?e.declTNode:t===1?n[Rn]:null}function QB(){return _l(Cn(),_e())}function _l(n,e){return new hn(Mr(n,e))}var hn=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=QB}return n})();function EM(n){return n instanceof hn?n.nativeElement:n}function YB(){return this._results[Symbol.iterator]()}var lp=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Nt}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=GS(e);(this._changesDetected=!qS(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=YB};function wM(n){return(n.flags&128)===128}var Jb=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(Jb||{}),CM=new Map,ZB=0;function JB(){return ZB++}function XB(n){CM.set(n[Ao],n)}function xb(n){CM.delete(n[Ao])}var OA="__ngContext__";function pl(n,e){ni(e)?(n[OA]=e[Ao],XB(e)):n[OA]=e}function IM(n){return TM(n[ol])}function DM(n){return TM(n[lr])}function TM(n){for(;n!==null&&!Sr(n);)n=n[lr];return n}var ej;function Xb(n){ej=n}var Ep=new q("",{factory:()=>tj}),tj="ng";var wp=new q(""),Or=new q("",{providedIn:"platform",factory:()=>"unknown"}),Cp=new q(""),Ip=new q("",{factory:()=>T(et).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var SM=!1,AM=new q("",{factory:()=>SM});var nj=(n,e,t,r)=>{};function rj(n,e,t,r){nj(n,e,t,r)}function Dp(n){return(n.flags&32)===32}var ij=()=>null;function MM(n,e,t=!1){return ij(n,e,t)}function NM(n,e){let t=n.contentQueries;if(t!==null){let r=ce(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Nu(o),a.contentQueries(2,e[s],s)}}}finally{ce(r)}}}function Rb(n,e,t){Nu(0);let r=ce(null);try{e(n,t)}finally{ce(r)}}function eE(n,e,t){if(H_(e)){let r=ce(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{ce(r)}}}var xr=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n[n.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",n})(xr||{});var Pb=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${C_})`}};function Tp(n){return n instanceof Pb?n.changingThisBreaksApplicationSecurity:n}var oj=/^>|^->|<!--|-->|--!>|<!-$/g,sj=/(<|>)/g,aj="\u200B$1\u200B";function lj(n){return n.replace(oj,e=>e.replace(sj,aj))}function cj(n,e){return n.createText(e)}function uj(n,e,t){n.setValue(e,t)}function dj(n,e){return n.createComment(lj(e))}function xM(n,e,t){return n.createElement(e,t)}function cp(n,e,t,r,i){n.insertBefore(e,t,r,i)}function RM(n,e,t){n.appendChild(e,t)}function kA(n,e,t,r,i){r!==null?cp(n,e,t,r,i):RM(n,e,t)}function fj(n,e,t,r){n.removeChild(null,e,t,r)}function hj(n,e,t){n.setAttribute(e,"style",t)}function pj(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function PM(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&VB(n,e,r),i!==null&&pj(n,e,i),o!==null&&hj(n,e,o)}function OM(n){return n instanceof Function?n():n}function gj(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var kM="ng-template";function mj(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&gj(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(tE(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function tE(n){return n.type===4&&n.value!==kM}function yj(n,e,t){let r=n.type===4&&!t?kM:n.value;return e===r}function vj(n,e,t){let r=4,i=n.attrs,o=i!==null?Ej(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!Nr(r)&&!Nr(l))return!1;if(s&&Nr(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!yj(n,l,t)||l===""&&e.length===1){if(Nr(r))return!1;s=!0}}else if(r&8){if(i===null||!mj(n,i,l,t)){if(Nr(r))return!1;s=!0}}else{let u=e[++a],d=_j(l,i,tE(n),t);if(d===-1){if(Nr(r))return!1;s=!0;continue}if(u!==""){let f;if(d>o?f="":f=i[d+1].toLowerCase(),r&2&&u!==f){if(Nr(r))return!1;s=!0}}}}return Nr(r)||s}function Nr(n){return(n&1)===0}function _j(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return wj(e,n)}function FM(n,e,t=!1){for(let r=0;r<e.length;r++)if(vj(n,e[r],t))return!0;return!1}function bj(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if((t&1)===0)return e[t+1]}return null}function Ej(n){for(let e=0;e<n.length;e++){let t=n[e];if(BB(t))return e}return n.length}function wj(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function Cj(n,e){e:for(let t=0;t<e.length;t++){let r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function FA(n,e){return n?":not("+e.trim()+")":e}function Ij(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Nr(s)&&(e+=FA(o,i),i=""),r=s,o=o||!Nr(r);t++}return i!==""&&(e+=FA(o,i)),e}function Dj(n){return n.map(Ij).join(",")}function Tj(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Nr(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var hr={};function nE(n,e,t,r,i,o,s,a,l,u,d){let f=_t+r,g=f+i,m=Sj(f,g),v=typeof u=="function"?u():u;return m[le]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:v,incompleteFirstPass:!1,ssrId:d}}function Sj(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:hr);return t}function Aj(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=nE(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function rE(n,e,t,r,i,o,s,a,l,u,d){let f=e.blueprint.slice();return f[Tr]=i,f[ue]=r|4|128|8|64|1024,(u!==null||n&&n[ue]&2048)&&(f[ue]|=2048),K_(f),f[en]=f[Ps]=n,f[fn]=t,f[Ni]=s||n&&n[Ni],f[gt]=a||n&&n[gt],f[To]=l||n&&n[To]||null,f[Rn]=o,f[Ao]=JB(),f[rl]=d,f[$_]=u,f[Bn]=e.type==2?n[Bn]:f,f}function Mj(n,e,t){let r=Mr(e,n),i=Aj(t),o=n[Ni].rendererFactory,s=iE(n,rE(n,i,null,LM(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function LM(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function VM(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function iE(n,e){return n[ol]?n[U_][lr]=e:n[ol]=e,n[U_]=e,e}function V(n=1){BM(xt(),_e(),xo()+n,!1)}function BM(n,e,t,r){if(!r)if((e[ue]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Xh(e,o,t)}else{let o=n.preOrderHooks;o!==null&&ep(e,o,0,t)}Ro(t)}var Sp=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Sp||{});function Ob(n,e,t,r){let i=ce(null);try{let[o,s,a]=n.inputs[t],l=null;(s&Sp.SignalBased)!==0&&(l=e[o][ln]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,l,r,t,o):sM(e,l,o,r)}finally{ce(i)}}var Rr=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Rr||{}),Nj;function oE(n,e){return Nj(n,e)}var gl=new Set,Ap=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(Ap||{}),Hs=new q(""),LA=new Set;function ko(n){LA.has(n)||(LA.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var sE=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}return n})(),aE=[0,1,2,3],jM=(()=>{class n{ngZone=T(tn);scheduler=T(Mi);errorHandler=T(sr,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){T(Hs,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Ze(Ue.AfterRenderHooksStart),this.executing=!0;for(let r of aE)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Ze(Ue.AfterRenderHooksEnd)}register(t){let{view:r}=t;r!==void 0?((r[ks]??=[]).push(t),Vs(r),r[ue]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Ap.AFTER_NEXT_RENDER,t):t()}static \u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}return n})(),up=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[ks];e&&(this.view[ks]=e.filter(t=>t!==this))}};var UM=new q("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:T(Wt)})});function $M(n,e,t){let r=n.get(UM);if(Array.isArray(e))for(let i of e)r.queue.add(i),t?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),t?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(n)}function xj(n,e){for(let[t,r]of e)$M(n,r.animateFns)}function Rj(n,e){let t=n.get(UM);if(Array.isArray(e))for(let r of e)t.queue.delete(r);else t.queue.delete(e)}function VA(n,e,t,r){let i=n?.[Tu]?.enter;e!==null&&i&&i.has(t.index)&&xj(r,i)}function dl(n,e,t,r,i,o,s,a){if(i!=null){let l,u=!1;Sr(i)?l=i:ni(i)&&(u=!0,i=i[Tr]);let d=cr(i);n===0&&r!==null?(VA(a,r,o,t),s==null?RM(e,r,d):cp(e,r,d,s||null,!0)):n===1&&r!==null?(VA(a,r,o,t),cp(e,r,d,s||null,!0)):n===2?BA(a,o,t,f=>{fj(e,d,u,f)}):n===3&&BA(a,o,t,()=>{e.destroyNode(d)}),l!=null&&Hj(e,n,t,l,o,r,s)}}function Pj(n,e){HM(n,e),e[Tr]=null,e[Rn]=null}function Oj(n,e,t,r,i,o){r[Tr]=i,r[Rn]=e,Mp(n,r,t,1,i,o)}function HM(n,e){e[Ni].changeDetectionScheduler?.notify(9),Mp(n,e,e[gt],2,null,null)}function kj(n){let e=n[ol];if(!e)return _b(n[le],n);for(;e;){let t=null;if(ni(e))t=e[ol];else{let r=e[wn];r&&(t=r)}if(!t){for(;e&&!e[lr]&&e!==n;)ni(e)&&_b(e[le],e),e=e[en];e===null&&(e=n),ni(e)&&_b(e[le],e),t=e&&e[lr]}e=t}}function lE(n,e){let t=n[Fs],r=t.indexOf(e);t.splice(r,1)}function cE(n,e){if(Ls(e))return;let t=e[gt];t.destroyNode&&Mp(n,e,t,3,null,null),kj(e)}function _b(n,e){if(Ls(e))return;let t=ce(null);try{e[ue]&=-129,e[ue]|=256,e[Yn]&&_o(e[Yn]),Vj(n,e),Lj(n,e),e[le].type===1&&e[gt].destroy();let r=e[So];if(r!==null&&Sr(e[en])){r!==e[en]&&lE(r,e);let i=e[ti];i!==null&&i.detachView(n)}xb(e)}finally{ce(t)}}function BA(n,e,t,r){let i=n?.[Tu];if(i?.enter?.has(e.index)&&Rj(t,i.enter.get(e.index).animateFns),i==null||i.leave==null||!i.leave.has(e.index))return r(!1);n&&gl.add(n[Ao]),$M(t,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s){for(let l=0;l<s.animateFns.length;l++){let u=s.animateFns[l],{promise:d}=u();a.push(d)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),Fj(n,r)}else n&&gl.delete(n[Ao]),r(!1)},i)}function Fj(n,e){let t=n[Tu]?.running;if(t){t.then(()=>{n[Tu].running=void 0,gl.delete(n[Ao]),e(!0)});return}e(!1)}function Lj(n,e){let t=n.cleanup,r=e[il];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[il]=null);let i=e[Si];if(i!==null){e[Si]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[wo];if(o!==null){e[wo]=null;for(let s of o)s.destroy()}}function Vj(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof js)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];Ze(Ue.LifecycleHookStart,a,l);try{l.call(a)}finally{Ze(Ue.LifecycleHookEnd,a,l)}}else{Ze(Ue.LifecycleHookStart,i,o);try{o.call(i)}finally{Ze(Ue.LifecycleHookEnd,i,o)}}}}}function zM(n,e,t){return Bj(n,e.parent,t)}function Bj(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Tr];if(No(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===xr.None||i===xr.Emulated)return null}return Mr(r,t)}function qM(n,e,t){return Uj(n,e,t)}function jj(n,e,t){return n.type&40?Mr(n,t):null}var Uj=jj,jA;function uE(n,e,t,r){let i=zM(n,r,e),o=e[gt],s=r.parent||e[Rn],a=qM(s,r,e);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)kA(o,i,t[l],a,!1);else kA(o,i,t,a,!1);jA!==void 0&&jA(o,r,e,t,i)}function ku(n,e){if(e!==null){let t=e.type;if(t&3)return Mr(e,n);if(t&4)return kb(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return ku(n,r);{let i=n[e.index];return Sr(i)?kb(-1,i):cr(i)}}else{if(t&128)return ku(n,e.next);if(t&32)return oE(e,n)()||cr(n[e.index]);{let r=GM(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Co(n[Bn]);return ku(i,r)}else return ku(n,e.next)}}}return null}function GM(n,e){if(e!==null){let r=n[Bn][Rn],i=e.projection;return r.projection[i]}return null}function kb(n,e){let t=wn+n+1;if(t<e.length){let r=e[t],i=r[le].firstChild;if(i!==null)return ku(r,i)}return e[Mo]}function dE(n,e,t,r,i,o,s){for(;t!=null;){let a=r[To];if(t.type===128){t=t.next;continue}let l=r[t.index],u=t.type;if(s&&e===0&&(l&&pl(cr(l),r),t.flags|=2),!Dp(t))if(u&8)dE(n,e,t.child,r,i,o,!1),dl(e,n,a,i,l,t,o,r);else if(u&32){let d=oE(t,r),f;for(;f=d();)dl(e,n,a,i,f,t,o,r);dl(e,n,a,i,l,t,o,r)}else u&16?WM(n,e,r,t,i,o):dl(e,n,a,i,l,t,o,r);t=s?t.projectionNext:t.next}}function Mp(n,e,t,r,i,o){dE(t,r,n.firstChild,e,i,o,!1)}function $j(n,e,t){let r=e[gt],i=zM(n,t,e),o=t.parent||e[Rn],s=qM(o,t,e);WM(r,0,e,t,i,s)}function WM(n,e,t,r,i,o){let s=t[Bn],l=s[Rn].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let d=l[u];dl(e,n,t[To],i,d,r,o,t)}else{let u=l,d=s[en];wM(r)&&(u.flags|=128),dE(n,e,u,d,i,o,!0)}}function Hj(n,e,t,r,i,o,s){let a=r[Mo],l=cr(r);a!==l&&dl(e,n,t,o,a,i,s);for(let u=wn;u<r.length;u++){let d=r[u];Mp(d[le],d,n,e,o,a)}}function zj(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Rr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Rr.Important),n.setStyle(t,r,i,o))}}function KM(n,e,t,r,i){let o=xo(),s=r&2;try{Ro(-1),s&&e.length>_t&&BM(n,e,_t,!1);let a=s?Ue.TemplateUpdateStart:Ue.TemplateCreateStart;Ze(a,i,t),t(r,i)}finally{Ro(o);let a=s?Ue.TemplateUpdateEnd:Ue.TemplateCreateEnd;Ze(a,i,t)}}function Np(n,e,t){Zj(n,e,t),(t.flags&64)===64&&Jj(n,e,t)}function $u(n,e,t=Mr){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function qj(n,e,t,r){let o=r.get(AM,SM)||t===xr.ShadowDom||t===xr.ExperimentalIsolatedShadowDom,s=n.selectRootElement(e,o);return Gj(s),s}function Gj(n){Wj(n)}var Wj=()=>null;function Kj(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Qj(n,e,t,r,i,o){let s=e[le];if(gE(n,s,e,t,r)){No(n)&&Yj(e,n.index);return}n.type&3&&(t=Kj(t)),QM(n,e,t,r,i,o)}function QM(n,e,t,r,i,o){if(n.type&3){let s=Mr(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function Yj(n,e){let t=ur(e,n);t[ue]&16||(t[ue]|=64)}function Zj(n,e,t){let r=t.directiveStart,i=t.directiveEnd;No(t)&&Mj(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||ap(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],l=Lu(e,n,s,t);if(pl(l,e),o!==null&&nU(e,s-r,l,a,t,o),Ar(a)){let u=ur(t.index,e);u[fn]=Lu(e,n,s,t)}}}function Jj(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=pA();try{Ro(o);for(let a=r;a<i;a++){let l=n.data[a],u=e[a];qh(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&Xj(l,u)}}finally{Ro(-1),qh(s)}}function Xj(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function fE(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];FM(e,o.selectors,!1)&&(r??=[],Ar(o)?r.unshift(o):r.push(o))}return r}function eU(n,e,t,r,i,o){let s=Mr(n,e);tU(e[gt],s,o,n.value,t,r,i)}function tU(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?R_(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function nU(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],u=s[a+1];Ob(r,t,l,u)}}function hE(n,e,t,r,i){let o=_t+t,s=e[le],a=i(s,e,n,r,t);e[o]=a,ll(n,!0);let l=n.type===2;return l?(PM(e[gt],a,n),(lA()===0||sl(n))&&pl(a,e),cA()):pl(a,e),Yh()&&(!l||!Dp(n))&&uE(s,e,a,n),n}function pE(n){let e=n;return ib()?ob():(e=e.parent,ll(e,!1)),e}function rU(n,e){let t=n[To];if(!t)return;let r;try{r=t.get(dr,null)}catch{r=null}r?.(e)}function gE(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let u=s[l],d=s[l+1],f=e.data[u];Ob(f,t[u],d,i),a=!0}if(o)for(let l of o){let u=t[l],d=e.data[l];Ob(d,u,r,i),a=!0}return a}function iU(n,e){let t=ur(e,n),r=t[le];oU(r,t);let i=t[Tr];i!==null&&t[rl]===null&&(t[rl]=MM(i,t[To])),Ze(Ue.ComponentStart);try{mE(r,t,t[fn])}finally{Ze(Ue.ComponentEnd,t[fn])}}function oU(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function mE(n,e,t){Wh(e);try{let r=n.viewQuery;r!==null&&Rb(1,r,t);let i=n.template;i!==null&&KM(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[ti]?.finishViewCreation(n),n.staticContentQueries&&NM(n,e),n.staticViewQueries&&Rb(2,n.viewQuery,t);let o=n.components;o!==null&&sU(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ue]&=-5,Kh()}}function sU(n,e){for(let t=0;t<e.length;t++)iU(n,e[t])}function yE(n,e,t,r){let i=ce(null);try{let o=e.tView,a=n[ue]&4096?4096:16,l=rE(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=n[e.index];l[So]=u;let d=n[ti];return d!==null&&(l[ti]=d.createEmbeddedView(o)),mE(o,l,t),l}finally{ce(i)}}function dp(n,e){return!e||e.firstChild===null||wM(n)}function Vu(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(cr(o)),Sr(o)&&YM(o,r);let s=t.type;if(s&8)Vu(n,e,t.child,r);else if(s&32){let a=oE(t,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=GM(e,t);if(Array.isArray(a))r.push(...a);else{let l=Co(e[Bn]);Vu(l[le],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function YM(n,e){for(let t=wn;t<n.length;t++){let r=n[t],i=r[le].firstChild;i!==null&&Vu(r[le],r,i,e)}n[Mo]!==n[Tr]&&e.push(n[Mo])}function ZM(n){if(n[ks]!==null){for(let e of n[ks])e.impl.addSequence(e);n[ks].length=0}}var JM=[];function aU(n){return n[Yn]??lU(n)}function lU(n){let e=JM.pop()??Object.create(uU);return e.lView=n,e}function cU(n){n.lView[Yn]!==n&&(n.lView=null,JM.push(n))}var uU=re(N({},Ha),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Vs(n.lView)},consumerOnSignalRead(){this.lView[Yn]=this}});function dU(n){let e=n[Yn]??Object.create(fU);return e.lView=n,e}var fU=re(N({},Ha),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Co(n.lView);for(;e&&!XM(e[le]);)e=Co(e);e&&Q_(e)},consumerOnSignalRead(){this.lView[Yn]=this}});function XM(n){return n.type!==2}function eN(n){if(n[wo]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[wo])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[ue]&8192)}}var hU=100;function tN(n,e=0){let r=n[Ni].rendererFactory,i=!1;i||r.begin?.();try{pU(n,e)}finally{i||r.end?.()}}function pU(n,e){let t=sb();try{vu(!0),Fb(n,e);let r=0;for(;Mu(n);){if(r===hU)throw new k(103,!1);r++,Fb(n,1)}}finally{vu(t)}}function gU(n,e,t,r){if(Ls(e))return;let i=e[ue],o=!1,s=!1;Wh(e);let a=!0,l=null,u=null;o||(XM(n)?(u=aU(e),l=bs(u)):nh()===null?(a=!1,u=dU(e),l=bs(u)):e[Yn]&&(_o(e[Yn]),e[Yn]=null));try{K_(e),dA(n.bindingStartIndex),t!==null&&KM(n,e,t,2,r);let d=(i&3)===3;if(!o)if(d){let m=n.preOrderCheckHooks;m!==null&&Xh(e,m,null)}else{let m=n.preOrderHooks;m!==null&&ep(e,m,0,null),yb(e,0)}if(s||mU(e),eN(e),nN(e,0),n.contentQueries!==null&&NM(n,e),!o)if(d){let m=n.contentCheckHooks;m!==null&&Xh(e,m)}else{let m=n.contentHooks;m!==null&&ep(e,m,1),yb(e,1)}vU(n,e);let f=n.components;f!==null&&iN(e,f,0);let g=n.viewQuery;if(g!==null&&Rb(2,g,r),!o)if(d){let m=n.viewCheckHooks;m!==null&&Xh(e,m)}else{let m=n.viewHooks;m!==null&&ep(e,m,2),yb(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Uh]){for(let m of e[Uh])m();e[Uh]=null}o||(ZM(e),e[ue]&=-73)}catch(d){throw o||Vs(e),d}finally{u!==null&&(qa(u,l),a&&cU(u)),Kh()}}function nN(n,e){for(let t=IM(n);t!==null;t=DM(t))for(let r=wn;r<t.length;r++){let i=t[r];rN(i,e)}}function mU(n){for(let e=IM(n);e!==null;e=DM(e)){if(!(e[ue]&2))continue;let t=e[Fs];for(let r=0;r<t.length;r++){let i=t[r];Q_(i)}}}function yU(n,e,t){Ze(Ue.ComponentStart);let r=ur(e,n);try{rN(r,t)}finally{Ze(Ue.ComponentEnd,r[fn])}}function rN(n,e){$h(n)&&Fb(n,e)}function Fb(n,e){let r=n[le],i=n[ue],o=n[Yn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Ga(o)),s||=!1,o&&(o.dirty=!1),n[ue]&=-9217,s)gU(r,n,r.template,n[fn]);else if(i&8192){let a=ce(null);try{eN(n),nN(n,1);let l=r.components;l!==null&&iN(n,l,1),ZM(n)}finally{ce(a)}}}function iN(n,e,t){for(let r=0;r<e.length;r++)yU(n,e[r],t)}function vU(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Ro(~i);else{let o=i,s=t[++r],a=t[++r];hA(s,o);let l=e[o];Ze(Ue.HostBindingsUpdateStart,l);try{a(2,l)}finally{Ze(Ue.HostBindingsUpdateEnd,l)}}}}finally{Ro(-1)}}function vE(n,e){let t=sb()?64:1088;for(n[Ni].changeDetectionScheduler?.notify(e);n;){n[ue]|=t;let r=Co(n);if(al(n)&&!r)return n;n=r}return null}function oN(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function _U(n,e){let t=wn+e;if(t<n.length)return n[t]}function _E(n,e,t,r=!0){let i=e[le];if(EU(i,e,n,t),r){let s=kb(t,n),a=e[gt],l=a.parentNode(n[Mo]);l!==null&&Oj(i,n[Rn],a,e,l,s)}let o=e[rl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function bU(n,e){let t=fp(n,e);return t!==void 0&&cE(t[le],t),t}function fp(n,e){if(n.length<=wn)return;let t=wn+e,r=n[t];if(r){let i=r[So];i!==null&&i!==n&&lE(i,r),e>0&&(n[t-1][lr]=r[lr]);let o=wu(n,wn+e);Pj(r[le],r);let s=o[ti];s!==null&&s.detachView(o[le]),r[en]=null,r[lr]=null,r[ue]&=-129}return r}function EU(n,e,t,r){let i=wn+r,o=t.length;r>0&&(t[i-1][lr]=e),r<o-wn?(e[lr]=t[i],k_(t,wn+r,e)):(t.push(e),e[lr]=null),e[en]=t;let s=e[So];s!==null&&t!==s&&sN(s,e);let a=e[ti];a!==null&&a.insertView(n),Hh(e),e[ue]|=128}function sN(n,e){let t=n[Fs],r=e[en];if(ni(r))n[ue]|=2;else{let i=r[en][Bn];e[Bn]!==i&&(n[ue]|=2)}t===null?n[Fs]=[e]:t.push(e)}var Oo=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[le];return Vu(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[fn]}set context(e){this._lView[fn]=e}get destroyed(){return Ls(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[en];if(Sr(e)){let t=e[Su],r=t?t.indexOf(this):-1;r>-1&&(fp(e,r),wu(t,r))}this._attachedToViewContainer=!1}cE(this._lView[le],this._lView)}onDestroy(e){Y_(this._lView,e)}markForCheck(){vE(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ue]&=-129}reattach(){Hh(this._lView),this._lView[ue]|=128}detectChanges(){this._lView[ue]|=1024,tN(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new k(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=al(this._lView),t=this._lView[So];t!==null&&!e&&lE(t,this._lView),HM(this._lView[le],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new k(902,!1);this._appRef=e;let t=al(this._lView),r=this._lView[So];r!==null&&!t&&sN(r,this._lView),Hh(this._lView)}};var oi=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=wU;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=yE(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Oo(o)}}return n})();function wU(){return xp(Cn(),_e())}function xp(n,e){return n.type&4?new oi(e,n,_l(n,e)):null}function bl(n,e,t,r,i){let o=n.data[e];if(o===null)o=CU(n,e,t,r,i),fA()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=uA();o.injectorIndex=s===null?-1:s.injectorIndex}return ll(o,!0),o}function CU(n,e,t,r,i){let o=rb(),s=ib(),a=s?o:o&&o.parent,l=n.data[e]=DU(n,a,t,e,r,i);return IU(n,l,o,s),l}function IU(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function DU(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return eb()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var TU=()=>null,SU=()=>null;function Lb(n,e){return TU(n,e)}function AU(n,e,t){return SU(n,e,t)}var aN=class{},Rp=class{},Vb=class{resolveComponentFactory(e){throw new k(917,!1)}},Hu=class{static NULL=new Vb},xi=class{},kr=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>MU()}return n})();function MU(){let n=_e(),e=Cn(),t=ur(e.index,n);return(ni(t)?t:n)[gt]}var lN=(()=>{class n{static \u0275prov=U({token:n,providedIn:"root",factory:()=>null})}return n})();var np={},Bb=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,np,r);return i!==np||t===np?i:this.parentInjector.get(e,t,r)}};function hp(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Oh(i,a);else if(o==2){let l=a,u=e[++s];r=Oh(r,l+": "+u+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function te(n,e=0){let t=_e();if(t===null)return ve(n,e);let r=Cn();return vM(r,t,Gt(n),e)}function cN(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,l=null,u=null;for(let d of s)if(d.resolveHostDirectives!==null){[a,l,u]=d.resolveHostDirectives(s);break}RU(n,e,t,a,o,l,u)}o!==null&&r!==null&&NU(t,r,o)}function NU(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new k(-301,!1);r.push(e[i],o)}}function xU(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function RU(n,e,t,r,i,o,s){let a=r.length,l=null;for(let g=0;g<a;g++){let m=r[g];l===null&&Ar(m)&&(l=m,xU(n,t,g)),Mb(ap(t,e),n,m.type)}VU(t,n.data.length,a),l?.viewProvidersResolver&&l.viewProvidersResolver(l);for(let g=0;g<a;g++){let m=r[g];m.providersResolver&&m.providersResolver(m)}let u=!1,d=!1,f=VM(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let g=0;g<a;g++){let m=r[g];if(t.mergedAttrs=hl(t.mergedAttrs,m.hostAttrs),OU(n,t,e,f,m),LU(f,m,i),s!==null&&s.has(m)){let[w,M]=s.get(m);t.directiveToIndex.set(m.type,[f,w+t.directiveStart,M+t.directiveStart])}else(o===null||!o.has(m))&&t.directiveToIndex.set(m.type,f);m.contentQueries!==null&&(t.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(t.flags|=64);let v=m.type.prototype;!u&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),u=!0),!d&&(v.ngOnChanges||v.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),d=!0),f++}PU(n,t,o)}function PU(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))UA(0,e,i,r),UA(1,e,i,r),HA(e,r,!1);else{let o=t.get(i);$A(0,e,o,r),$A(1,e,o,r),HA(e,r,!0)}}}function UA(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),uN(e,o)}}function $A(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),uN(e,s)}}function uN(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function HA(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||tE(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!t&&i.hasOwnProperty(l)){let u=i[l];for(let d of u)if(d===e){s??=[],s.push(l,r[a+1]);break}}else if(t&&o.hasOwnProperty(l)){let u=o[l];for(let d=0;d<u.length;d+=2)if(u[d]===e){s??=[],s.push(u[d+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function OU(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Eo(i.type,!0)),s=new js(o,Ar(i),te,null);n.blueprint[r]=s,t[r]=s,kU(n,e,r,VM(n,t,i.hostVars,hr),i)}function kU(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;FU(s)!=a&&s.push(a),s.push(t,r,o)}}function FU(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function LU(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Ar(e)&&(t[""]=n)}}function VU(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function bE(n,e,t,r,i,o,s,a){let l=e[le],u=l.consts,d=ri(u,s),f=bl(l,n,t,r,d);return o&&cN(l,e,f,ri(u,a),i),f.mergedAttrs=hl(f.mergedAttrs,f.attrs),f.attrs!==null&&hp(f,f.attrs,!1),f.mergedAttrs!==null&&hp(f,f.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,f),f}function EE(n,e){uM(n,e),H_(e)&&n.queries.elementEnd(e)}function BU(n,e,t,r,i,o){let s=e.consts,a=ri(s,i),l=bl(e,n,t,r,a);if(l.mergedAttrs=hl(l.mergedAttrs,l.attrs),o!=null){let u=ri(s,o);l.localNames=[];for(let d=0;d<u.length;d+=2)l.localNames.push(u[d],-1)}return l.attrs!==null&&hp(l,l.attrs,!1),l.mergedAttrs!==null&&hp(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function wE(n){return Pp(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function dN(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function Pp(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function CE(n,e,t){return n[e]=t}function Pr(n,e,t){if(t===hr)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function fN(n,e,t,r){let i=Pr(n,e,t);return Pr(n,e+1,r)||i}function jU(n,e,t,r,i){let o=fN(n,e,t,r);return Pr(n,e+2,i)||o}function bb(n,e,t){return function r(i){let o=No(n)?ur(n.index,e):e;vE(o,5);let s=e[fn],a=zA(e,s,t,i),l=r.__ngNextListenerFn__;for(;l;)a=zA(e,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function zA(n,e,t,r){let i=ce(null);try{return Ze(Ue.OutputStart,e,t),t(r)!==!1}catch(o){return rU(n,o),!1}finally{Ze(Ue.OutputEnd,e,t),ce(i)}}function UU(n,e,t,r,i,o,s,a){let l=sl(n),u=!1,d=null;if(!r&&l&&(d=HU(e,t,o,n.index)),d!==null){let f=d.__ngLastListenerFn__||d;f.__ngNextListenerFn__=s,d.__ngLastListenerFn__=s,u=!0}else{let f=Mr(n,t),g=r?r(f):f;rj(t,g,o,a);let m=i.listen(g,o,a);if(!$U(o)){let v=r?w=>r(cr(w[n.index])):n.index;hN(v,e,t,o,a,m,!1)}}return u}function $U(n){return n.startsWith("animation")||n.startsWith("transition")}function HU(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[il],l=i[o+2];return a&&a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function hN(n,e,t,r,i,o,s){let a=e.firstCreatePass?J_(e):null,l=Z_(t),u=l.length;l.push(i,o),a&&a.push(r,n,u,(u+1)*(s?-1:1))}function qA(n,e,t,r,i,o){let s=e[t],a=e[le],u=a.data[t].outputs[r],f=s[u].subscribe(o);hN(n.index,a,e,i,o,f,!0)}var jb=Symbol("BINDING");var pp=class extends Hu{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Do(e);return new ml(t,this.ngModule)}};function zU(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Sp.SignalBased)!==0};return i&&(o.transform=i),o})}function qU(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function GU(n,e,t){let r=e instanceof Wt?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Bb(t,r):t}function WU(n){let e=n.get(xi,null);if(e===null)throw new k(407,!1);let t=n.get(lN,null),r=n.get(Mi,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function KU(n,e){let t=pN(n);return xM(e,t,t==="svg"?z_:t==="math"?nA:null)}function pN(n){return(n.selectors[0][0]||"div").toLowerCase()}var ml=class extends Rp{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=zU(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=qU(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=Dj(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){Ze(Ue.DynamicComponentStart);let a=ce(null);try{let l=this.componentDef,u=QU(r,l,s,o),d=GU(l,i||this.ngModule,e),f=WU(d),g=f.rendererFactory.createRenderer(null,l),m=r?qj(g,r,l.encapsulation,d):KU(l,g),v=s?.some(GA)||o?.some(O=>typeof O!="function"&&O.bindings.some(GA)),w=rE(null,u,null,512|LM(l),null,null,f,g,d,null,MM(m,d,!0));w[_t]=m,Wh(w);let M=null;try{let O=bE(_t,w,2,"#host",()=>u.directiveRegistry,!0,0);PM(g,m,O),pl(m,w),Np(u,w,O),eE(u,O,w),EE(u,O),t!==void 0&&ZU(O,this.ngContentSelectors,t),M=ur(O.index,w),w[fn]=M[fn],mE(u,w,null)}catch(O){throw M!==null&&xb(M),xb(w),O}finally{Ze(Ue.DynamicComponentEnd),Kh()}return new gp(this.componentType,w,!!v)}finally{ce(a)}}};function QU(n,e,t,r){let i=n?["ng-version","21.1.3"]:Tj(e.selectors[0]),o=null,s=null,a=0;if(t)for(let d of t)a+=d[jb].requiredVars,d.create&&(d.targetIdx=0,(o??=[]).push(d)),d.update&&(d.targetIdx=0,(s??=[]).push(d));if(r)for(let d=0;d<r.length;d++){let f=r[d];if(typeof f!="function")for(let g of f.bindings){a+=g[jb].requiredVars;let m=d+1;g.create&&(g.targetIdx=m,(o??=[]).push(g)),g.update&&(g.targetIdx=m,(s??=[]).push(g))}}let l=[e];if(r)for(let d of r){let f=typeof d=="function"?d:d.type,g=Fh(f);l.push(g)}return nE(0,null,YU(o,s),1,a,l,null,null,null,[i],null)}function YU(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function GA(n){let e=n[jb].kind;return e==="input"||e==="twoWay"}var gp=class extends aN{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Au(t[le],_t),this.location=_l(this._tNode,t),this.instance=ur(this._tNode.index,t)[fn],this.hostView=this.changeDetectorRef=new Oo(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=gE(r,i[le],i,e,t);this.previousInputValues.set(e,t);let s=ur(r.index,i);vE(s,1)}get injector(){return new Bs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function ZU(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var si=(()=>{class n{static __NG_ELEMENT_ID__=JU}return n})();function JU(){let n=Cn();return mN(n,_e())}var XU=si,gN=class extends XU{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return _l(this._hostTNode,this._hostLView)}get injector(){return new Bs(this._hostTNode,this._hostLView)}get parentInjector(){let e=Zb(this._hostTNode,this._hostLView);if(fM(e)){let t=op(e,this._hostLView),r=ip(e),i=t[le].data[r+8];return new Bs(i,t)}else return new Bs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=WA(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-wn}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Lb(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,dp(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let l=e&&!NB(e),u;if(l)u=t;else{let M=t||{};u=M.index,r=M.injector,i=M.projectableNodes,o=M.environmentInjector||M.ngModuleRef,s=M.directives,a=M.bindings}let d=l?e:new ml(Do(e)),f=r||this.parentInjector;if(!o&&d.ngModule==null){let O=(l?f:this.parentInjector).get(Wt,null);O&&(o=O)}let g=Do(d.componentType??{}),m=Lb(this._lContainer,g?.id??null),v=m?.firstChild??null,w=d.create(f,i,v,o,s,a);return this.insertImpl(w.hostView,u,dp(this._hostTNode,m)),w}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(iA(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[en],u=new gN(l,l[Rn],l[en]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return _E(s,i,o,r),e.attachToViewContainerRef(),k_(Eb(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=WA(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=fp(this._lContainer,t);r&&(wu(Eb(this._lContainer),t),cE(r[le],r))}detach(e){let t=this._adjustIndex(e,-1),r=fp(this._lContainer,t);return r&&wu(Eb(this._lContainer),t)!=null?new Oo(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function WA(n){return n[Su]}function Eb(n){return n[Su]||(n[Su]=[])}function mN(n,e){let t,r=e[n.index];return Sr(r)?t=r:(t=oN(r,e,null,n),e[n.index]=t,iE(e,t)),t$(t,e,n,r),new gN(t,n,e)}function e$(n,e){let t=n[gt],r=t.createComment(""),i=Mr(e,n),o=t.parentNode(i);return cp(t,o,r,t.nextSibling(i),!1),r}var t$=i$,n$=()=>!1;function r$(n,e,t){return n$(n,e,t)}function i$(n,e,t,r){if(n[Mo])return;let i;t.type&8?i=cr(r):i=e$(e,t),n[Mo]=i}var Ub=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},$b=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)DE(e,t).matches!==null&&this.queries[t].setDirty()}},mp=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=u$(e):this.predicate=e}},Hb=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},zb=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,o$(t,o)),this.matchTNodeWithReadOption(e,t,tp(t,e,o,!1,!1))}else r===oi?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,tp(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===hn||i===si||i===oi&&t.type&4)this.addMatch(t.index,-2);else{let o=tp(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function o$(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function s$(n,e){return n.type&11?_l(n,e):n.type&4?xp(n,e):null}function a$(n,e,t,r){return t===-1?s$(e,n):t===-2?l$(n,e,r):Lu(n,n[le],t,e)}function l$(n,e,t){if(t===hn)return _l(e,n);if(t===oi)return xp(e,n);if(t===si)return mN(e,n)}function yN(n,e,t,r){let i=e[ti].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let u=s[l];if(u<0)a.push(null);else{let d=o[u];a.push(a$(e,d,s[l+1],t.metadata.read))}}i.matches=a}return i.matches}function qb(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=yN(n,e,i,t);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let u=o[a+1],d=e[-l];for(let f=wn;f<d.length;f++){let g=d[f];g[So]===g[en]&&qb(g[le],g,u,r)}if(d[Fs]!==null){let f=d[Fs];for(let g=0;g<f.length;g++){let m=f[g];qb(m[le],m,u,r)}}}}}return r}function IE(n,e){return n[ti].queries[e].queryList}function vN(n,e,t){let r=new lp((t&4)===4);return aA(n,e,r,r.destroy),(e[ti]??=new $b).queries.push(new Ub(r))-1}function c$(n,e,t){let r=xt();return r.firstCreatePass&&(bN(r,new mp(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),vN(r,_e(),e)}function _N(n,e,t,r){let i=xt();if(i.firstCreatePass){let o=Cn();bN(i,new mp(e,t,r),o.index),d$(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return vN(i,_e(),t)}function u$(n){return n.split(",").map(e=>e.trim())}function bN(n,e,t){n.queries===null&&(n.queries=new Hb),n.queries.track(new zb(e,t))}function d$(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function DE(n,e){return n.queries.getByIndex(e)}function EN(n,e){let t=n[le],r=DE(t,e);return r.crossesNgTemplate?qb(t,n,e,[]):yN(t,n,r,e)}function wN(n,e,t){let r,i=au(()=>{r._dirtyCounter();let o=h$(r,n);if(e&&o===void 0)throw new k(-951,!1);return o});return r=i[ln],r._dirtyCounter=Te(0),r._flatValue=void 0,i}function CN(n){return wN(!0,!1,n)}function IN(n){return wN(!0,!0,n)}function f$(n,e){let t=n[ln];t._lView=_e(),t._queryIndex=e,t._queryList=IE(t._lView,e),t._queryList.onDirty(()=>t._dirtyCounter.update(r=>r+1))}function h$(n,e){let t=n._lView,r=n._queryIndex;if(t===void 0||r===void 0||t[ue]&4)return e?void 0:_n;let i=IE(t,r),o=EN(t,r);return i.reset(o,EM),e?i.first:i._changesDetected||n._flatValue===void 0?n._flatValue=i.toArray():n._flatValue}var Us=class{},Op=class{};var yp=class extends Us{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new pp(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=x_(e);this._bootstrapComponents=OM(o.bootstrap),this._r3Injector=ub(e,t,[{provide:Us,useValue:this},{provide:Hu,useValue:this.componentFactoryResolver},...r],Ai(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},vp=class extends Op{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new yp(this.moduleType,e,[])}};var Bu=class extends Us{injector;componentFactoryResolver=new pp(this);instance=null;constructor(e){super();let t=new As([...e.providers,{provide:Us,useValue:this},{provide:Hu,useValue:this.componentFactoryResolver}],e.parent||Du(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function zu(n,e,t=null){return new Bu({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var p$=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=V_(!1,t.type),i=r.length>0?zu([r],this._injector,""):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=U({token:n,providedIn:"environment",factory:()=>new n(ve(Wt))})}return n})();function Oe(n){return Uu(()=>{let e=DN(n),t=re(N({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Jb.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(p$).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||xr.Emulated,styles:n.styles||_n,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&ko("NgStandalone"),TN(t);let r=n.dependencies;return t.directiveDefs=KA(r,g$),t.pipeDefs=KA(r,US),t.id=v$(t),t})}function g$(n){return Do(n)||Fh(n)}function $e(n){return Uu(()=>({type:n.type,bootstrap:n.bootstrap||_n,declarations:n.declarations||_n,imports:n.imports||_n,exports:n.exports||_n,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function m$(n,e){if(n==null)return Dr;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=Sp.None,l=null),t[o]=[r,a,l],e[o]=s}return t}function y$(n){if(n==null)return Dr;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function de(n){return Uu(()=>{let e=DN(n);return TN(e),e})}function kp(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function DN(n){let e={};return{type:n.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Dr,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||_n,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:m$(n.inputs,e),outputs:y$(n.outputs),debugInfo:null}}function TN(n){n.features?.forEach(e=>e(n))}function KA(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function v$(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function At(n){let e=t=>{let r=Array.isArray(n);t.hostDirectives===null?(t.resolveHostDirectives=_$,t.hostDirectives=r?n.map(Gb):[n]):r?t.hostDirectives.unshift(...n.map(Gb)):t.hostDirectives.unshift(n)};return e.ngInherit=!0,e}function _$(n){let e=[],t=!1,r=null,i=null;for(let o=0;o<n.length;o++){let s=n[o];if(s.hostDirectives!==null){let a=e.length;r??=new Map,i??=new Map,SN(s,e,r),i.set(s,[a,e.length-1])}o===0&&Ar(s)&&(t=!0,e.push(s))}for(let o=t?1:0;o<n.length;o++)e.push(n[o]);return[e,r,i]}function SN(n,e,t){if(n.hostDirectives!==null)for(let r of n.hostDirectives)if(typeof r=="function"){let i=r();for(let o of i)QA(Gb(o),e,t)}else QA(r,e,t)}function QA(n,e,t){let r=Fh(n.directive);b$(r.declaredInputs,n.inputs),SN(r,e,t),t.set(r,n),e.push(r)}function Gb(n){return typeof n=="function"?{directive:Gt(n),inputs:Dr,outputs:Dr}:{directive:Gt(n.directive),inputs:YA(n.inputs),outputs:YA(n.outputs)}}function YA(n){if(n===void 0||n.length===0)return Dr;let e={};for(let t=0;t<n.length;t+=2)e[n[t]]=n[t+1];return e}function b$(n,e){for(let t in e)if(e.hasOwnProperty(t)){let r=e[t],i=n[t];n[r]=i}}function E$(n){return Object.getPrototypeOf(n.prototype).constructor}function oe(n){let e=E$(n.type),t=!0,r=[n];for(;e;){let i;if(Ar(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new k(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=wb(n.inputs),s.declaredInputs=wb(n.declaredInputs),s.outputs=wb(n.outputs);let a=i.hostBindings;a&&T$(n,a);let l=i.viewQuery,u=i.contentQueries;if(l&&I$(n,l),u&&D$(n,u),w$(n,i),jS(n.outputs,i.outputs),Ar(i)&&i.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===oe&&(t=!1)}}e=Object.getPrototypeOf(e)}C$(r)}function w$(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function C$(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=hl(i.hostAttrs,t=hl(t,i.hostAttrs))}}function wb(n){return n===Dr?{}:n===_n?[]:n}function I$(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function D$(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function T$(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function AN(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=hl(n.mergedAttrs,n.attrs);let d=n.tView=nE(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),d.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),ll(n,!1);let l=A$(t,e,n,r);Yh()&&uE(t,e,l,n),pl(l,e);let u=oN(l,e,l,n);e[r+_t]=u,iE(e,u),r$(u,n,e)}function S$(n,e,t,r,i,o,s,a,l,u,d){let f=t+_t,g;return e.firstCreatePass?(g=bl(e,f,4,s||null,a||null),zh()&&cN(e,n,g,ri(e.consts,u),fE),uM(e,g)):g=e.data[f],AN(g,n,e,t,r,i,o,l),sl(g)&&Np(e,n,g),u!=null&&$u(n,g,d),g}function TE(n,e,t,r,i,o,s,a,l,u,d){let f=t+_t,g;if(e.firstCreatePass){if(g=bl(e,f,4,s||null,a||null),u!=null){let m=ri(e.consts,u);g.localNames=[];for(let v=0;v<m.length;v+=2)g.localNames.push(m[v],-1)}}else g=e.data[f];return AN(g,n,e,t,r,i,o,l),u!=null&&$u(n,g,d),g}function be(n,e,t,r,i,o,s,a){let l=_e(),u=xt(),d=ri(u.consts,o);return S$(l,u,n,e,t,r,i,d,void 0,s,a),be}var A$=M$;function M$(n,e,t,r){return xu(!0),e[gt].createComment("")}var SE=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var AE=new q("");function Ri(n){return!!n&&typeof n.then=="function"}function Fp(n){return!!n&&typeof n.subscribe=="function"}var MN=new q("");var ME=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=T(MN,{optional:!0})??[];injector=T(bn);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=En(this.injector,i);if(Ri(o))t.push(o);else if(Fp(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Lp=new q("");function NN(){Gv(()=>{let n="";throw new k(600,n)})}function xN(n){return n.isBoundToModule}var N$=10;var zs=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=T(dr);afterRenderManager=T(sE);zonelessEnabled=T(Pu);rootEffectScheduler=T(Zh);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Nt;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=T(Po);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(pt(t=>!t))}constructor(){T(Hs,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=T(Wt);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=bn.NULL){return this._injector.get(tn).run(()=>{Ze(Ue.BootstrapComponentStart);let s=t instanceof Rp;if(!this._injector.get(ME).done){let v="";throw new k(405,v)}let l;s?l=t:l=this._injector.get(Hu).resolveComponentFactory(t),this.componentTypes.push(l.componentType);let u=xN(l)?void 0:this._injector.get(Us),d=r||l.selector,f=l.create(i,[],d,u),g=f.location.nativeElement,m=f.injector.get(AE,null);return m?.registerApplication(g),f.onDestroy(()=>{this.detachView(f.hostView),Fu(this.components,f),m?.unregisterApplication(g)}),this._loadComponent(f),Ze(Ue.BootstrapComponentEnd,f),f})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ze(Ue.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(Ap.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw Ze(Ue.ChangeDetectionEnd),new k(101,!1);let t=ce(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ce(t),this.afterTick.next(),Ze(Ue.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(xi,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<N$;){Ze(Ue.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{Ze(Ue.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Mu(i))continue;let o=r&&!this.zonelessEnabled?0:1;tN(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Mu(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Fu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(Lp,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Fu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new k(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Fu(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Ge(n,e,t,r){let i=_e(),o=ul();if(Pr(i,o,e)){let s=xt(),a=Qh();eU(a,i,n,e,t,r)}return Ge}var nee=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function NE(n,e,t,r,i,o,s,a){ko("NgControlFlow");let l=_e(),u=xt(),d=ri(u.consts,o);return TE(l,u,n,e,t,r,i,d,256,s,a),xE}function xE(n,e,t,r,i,o,s,a){ko("NgControlFlow");let l=_e(),u=xt(),d=ri(u.consts,o);return TE(l,u,n,e,t,r,i,d,512,s,a),xE}function RE(n,e){ko("NgControlFlow");let t=_e(),r=ul(),i=t[r]!==hr?t[r]:-1,o=i!==-1?ZA(t,_t+i):void 0,s=0;if(Pr(t,r,n)){let a=ce(null);try{if(o!==void 0&&bU(o,s),n!==-1){let l=_t+n,u=ZA(t,l),d=x$(t[le],l),f=AU(u,d,t),g=yE(t,d,e,{dehydratedView:f});_E(u,g,s,dp(d,f))}}finally{ce(a)}}else if(o!==void 0){let a=_U(o,s);a!==void 0&&(a[fn]=e)}}function ZA(n,e){return n[e]}function x$(n,e){return Au(n,e)}function F(n,e,t){let r=_e(),i=ul();if(Pr(r,i,e)){let o=xt(),s=Qh();Qj(s,r,n,e,r[gt],t)}return F}function Wb(n,e,t,r,i){gE(e,n,t,i?"class":"style",r)}function G(n,e,t,r){let i=_e(),o=i[le],s=n+_t,a=o.firstCreatePass?bE(s,i,2,e,fE,zh(),t,r):o.data[s];if(hE(a,i,n,e,RN),sl(a)){let l=i[le];Np(l,i,a),eE(l,a,i)}return r!=null&&$u(i,a),G}function L(){let n=xt(),e=Cn(),t=pE(e);return n.firstCreatePass&&EE(n,t),tb(t)&&nb(),X_(),t.classesWithoutHost!=null&&FB(t)&&Wb(n,t,_e(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&LB(t)&&Wb(n,t,_e(),t.stylesWithoutHost,!1),L}function pe(n,e,t,r){return G(n,e,t,r),L(),pe}function Pi(n,e,t,r){let i=_e(),o=i[le],s=n+_t,a=o.firstCreatePass?BU(s,o,2,e,t,r):o.data[s];return hE(a,i,n,e,RN),r!=null&&$u(i,a),Pi}function Oi(){let n=Cn(),e=pE(n);return tb(e)&&nb(),X_(),Oi}function pr(n,e,t,r){return Pi(n,e,t,r),Oi(),pr}var RN=(n,e,t,r,i)=>(xu(!0),xM(e[gt],r,bA()));function Et(n,e,t){let r=_e(),i=r[le],o=n+_t,s=i.firstCreatePass?bE(o,r,8,"ng-container",fE,zh(),e,t):i.data[o];if(hE(s,r,n,"ng-container",R$),sl(s)){let a=r[le];Np(a,r,s),eE(a,s,r)}return t!=null&&$u(r,s),Et}function wt(){let n=xt(),e=Cn(),t=pE(e);return n.firstCreatePass&&EE(n,t),wt}function jn(n,e,t){return Et(n,e,t),wt(),jn}var R$=(n,e,t,r,i)=>(xu(!0),dj(e[gt],""));function ki(){return _e()}function Fo(n,e,t){let r=_e(),i=ul();if(Pr(r,i,e)){let o=xt(),s=Qh();QM(s,r,n,e,r[gt],t)}return Fo}var Ou=void 0;function P$(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var O$=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ou,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ou,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202Fa","h:mm:ss\u202Fa","h:mm:ss\u202Fa z","h:mm:ss\u202Fa zzzz"],["{1}, {0}",Ou,Ou,Ou],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",P$],Cb={};function Jn(n){let e=k$(n),t=JA(e);if(t)return t;let r=e.split("-")[0];if(t=JA(r),t)return t;if(r==="en")return O$;throw new k(701,!1)}function JA(n){return n in Cb||(Cb[n]=Ms.ng&&Ms.ng.common&&Ms.ng.common.locales&&Ms.ng.common.locales[n]),Cb[n]}var Rt=(function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n})(Rt||{});function k$(n){return n.toLowerCase().replace(/_/g,"-")}var qu="en-US";var F$=qu;function PN(n){typeof n=="string"&&(F$=n.toLowerCase().replace(/_/g,"-"))}function lt(n,e,t){let r=_e(),i=xt(),o=Cn();return L$(i,r,r[gt],o,n,e,t),lt}function L$(n,e,t,r,i,o,s){let a=!0,l=null;if((r.type&3||s)&&(l??=bb(r,e,o),UU(r,n,e,s,t,i,o,l)&&(a=!1)),a){let u=r.outputs?.[i],d=r.hostDirectiveOutputs?.[i];if(d&&d.length)for(let f=0;f<d.length;f+=2){let g=d[f],m=d[f+1];l??=bb(r,e,o),qA(r,e,g,m,i,l)}if(u&&u.length)for(let f of u)l??=bb(r,e,o),qA(r,e,f,i,i,l)}}function fe(n=1){return _A(n)}function V$(n,e){let t=null,r=bj(n);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){t=i;continue}if(r===null?FM(n,o,!0):Cj(r,o))return i}return t}function In(n){let e=_e()[Bn][Rn];if(!e.projection){let t=n?n.length:1,r=e.projection=WS(t,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=n?V$(o,n):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function Lt(n,e=0,t,r,i,o){let s=_e(),a=xt(),l=r?n+1:null;l!==null&&TE(s,a,l,r,i,o,null,t);let u=bl(a,_t+n,16,null,t||null);u.projection===null&&(u.projection=e),ob();let f=!s[rl]||eb();s[Bn][Rn].projection[u.projection]===null&&l!==null?B$(s,a,l):f&&!Dp(u)&&$j(a,s,u)}function B$(n,e,t){let r=_t+t,i=e.data[r],o=n[r],s=Lb(o,i.tView.ssrId),a=yE(n,i,void 0,{dehydratedView:s});_E(o,a,0,dp(i,s))}function ai(n,e,t,r){return _N(n,e,t,r),ai}function El(n,e,t){return c$(n,e,t),El}function tt(n){let e=_e(),t=xt(),r=Gh();Nu(r+1);let i=DE(t,r);if(n.dirty&&rA(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=EN(e,r);n.reset(o,EM),n.notifyOnChanges()}return!0}return!1}function nt(){return IE(_e(),Gh())}function Vp(n,e,t,r,i){return f$(e,_N(n,t,r,i)),Vp}function PE(n=1){Nu(Gh()+n)}function Jh(n,e){return n<<17|e<<2}function $s(n){return n>>17&32767}function j$(n){return(n&2)==2}function U$(n,e){return n&131071|e<<17}function Kb(n){return n|2}function yl(n){return(n&131068)>>2}function Ib(n,e){return n&-131069|e<<2}function $$(n){return(n&1)===1}function Qb(n){return n|1}function H$(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=$s(s),l=yl(s);n[r]=t;let u=!1,d;if(Array.isArray(t)){let f=t;d=f[1],(d===null||nl(f,d)>0)&&(u=!0)}else d=t;if(i)if(l!==0){let g=$s(n[a+1]);n[r+1]=Jh(g,a),g!==0&&(n[g+1]=Ib(n[g+1],r)),n[a+1]=U$(n[a+1],r)}else n[r+1]=Jh(a,0),a!==0&&(n[a+1]=Ib(n[a+1],r)),a=r;else n[r+1]=Jh(l,0),a===0?a=r:n[l+1]=Ib(n[l+1],r),l=r;u&&(n[r+1]=Kb(n[r+1])),XA(n,d,r,!0),XA(n,d,r,!1),z$(e,d,n,r,o),s=Jh(a,l),o?e.classBindings=s:e.styleBindings=s}function z$(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&nl(o,e)>=0&&(t[r+1]=Qb(t[r+1]))}function XA(n,e,t,r){let i=n[t+1],o=e===null,s=r?$s(i):yl(i),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],u=n[s+1];q$(l,e)&&(a=!0,n[s+1]=r?Qb(u):Kb(u)),s=r?$s(u):yl(u)}a&&(n[t+1]=r?Kb(i):Qb(i))}function q$(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?nl(n,e)>=0:!1}var Kt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ON(n){return n.substring(Kt.key,Kt.keyEnd)}function G$(n){return n.substring(Kt.value,Kt.valueEnd)}function W$(n){return LN(n),kN(n,vl(n,0,Kt.textEnd))}function kN(n,e){let t=Kt.textEnd;return t===e?-1:(e=Kt.keyEnd=Q$(n,Kt.key=e,t),vl(n,e,t))}function K$(n){return LN(n),FN(n,vl(n,0,Kt.textEnd))}function FN(n,e){let t=Kt.textEnd,r=Kt.key=vl(n,e,t);return t===r?-1:(r=Kt.keyEnd=Y$(n,r,t),r=eM(n,r,t,58),r=Kt.value=vl(n,r,t),r=Kt.valueEnd=Z$(n,r,t),eM(n,r,t,59))}function LN(n){Kt.key=0,Kt.keyEnd=0,Kt.value=0,Kt.valueEnd=0,Kt.textEnd=n.length}function vl(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Q$(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function Y$(n,e,t){let r;for(;e<t&&((r=n.charCodeAt(e))===45||r===95||(r&-33)>=65&&(r&-33)<=90||r>=48&&r<=57);)e++;return e}function eM(n,e,t,r){return e=vl(n,e,t),e<t&&e++,e}function Z$(n,e,t){let r=-1,i=-1,o=-1,s=e,a=s;for(;s<t;){let l=n.charCodeAt(s++);if(l===59)return a;l===34||l===39?a=s=tM(n,l,s,t):e===s-4&&o===85&&i===82&&r===76&&l===40?a=s=tM(n,41,s,t):l>32&&(a=s),o=i,i=r,r=l&-33}return a}function tM(n,e,t,r){let i=-1,o=t;for(;o<r;){let s=n.charCodeAt(o++);if(s==e&&i!==92)return o;s==92&&i===92?i=0:i=s}throw new Error}function Bp(n,e,t){return VN(n,e,t,!1),Bp}function Fi(n,e){return VN(n,e,null,!0),Fi}function qs(n){BN($N,J$,n,!1)}function J$(n,e){for(let t=K$(e);t>=0;t=FN(e,t))$N(n,ON(e),G$(e))}function ge(n){BN(o4,X$,n,!0)}function X$(n,e){for(let t=W$(e);t>=0;t=kN(e,t))Cu(n,ON(e),!0)}function VN(n,e,t,r){let i=_e(),o=xt(),s=ab(2);if(o.firstUpdatePass&&UN(o,n,s,r),e!==hr&&Pr(i,s,e)){let a=o.data[xo()];HN(o,a,i,i[gt],n,i[s+1]=a4(e,t),r,s)}}function BN(n,e,t,r){let i=xt(),o=ab(2);i.firstUpdatePass&&UN(i,null,o,r);let s=_e();if(t!==hr&&Pr(s,o,t)){let a=i.data[xo()];if(zN(a,r)&&!jN(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=Oh(l,t||"")),Wb(i,a,s,t,r)}else s4(i,a,s,s[gt],s[o+1],s[o+1]=i4(n,e,t),r,o)}}function jN(n,e){return e>=n.expandoStartIndex}function UN(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[xo()],s=jN(n,t);zN(o,r)&&e===null&&!s&&(e=!1),e=e4(i,o,e,r),H$(i,o,e,t,s,r)}}function e4(n,e,t,r){let i=gA(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Db(null,n,e,t,r),t=ju(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Db(i,n,e,t,r),o===null){let l=t4(n,e,r);l!==void 0&&Array.isArray(l)&&(l=Db(null,n,e,l[1],r),l=ju(l,e.attrs,r),n4(n,e,r,l))}else o=r4(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function t4(n,e,t){let r=t?e.classBindings:e.styleBindings;if(yl(r)!==0)return n[$s(r)]}function n4(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[$s(i)]=r}function r4(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=ju(r,s,t)}return ju(r,e.attrs,t)}function Db(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=ju(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function ju(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Cu(n,s,t?!0:e[++o]))}return n===void 0?null:n}function i4(n,e,t){if(t==null||t==="")return _n;let r=[],i=Tp(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(i instanceof Set)for(let o of i)n(r,o,!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function $N(n,e,t){Cu(n,e,Tp(t))}function o4(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&Cu(n,r,t)}function s4(n,e,t,r,i,o,s,a){i===hr&&(i=_n);let l=0,u=0,d=0<i.length?i[0]:null,f=0<o.length?o[0]:null;for(;d!==null||f!==null;){let g=l<i.length?i[l+1]:void 0,m=u<o.length?o[u+1]:void 0,v=null,w;d===f?(l+=2,u+=2,g!==m&&(v=f,w=m)):f===null||d!==null&&d<f?(l+=2,v=d):(u+=2,v=f,w=m),v!==null&&HN(n,e,t,r,v,w,s,a),d=l<i.length?i[l]:null,f=u<o.length?o[u]:null}}function HN(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let l=n.data,u=l[a+1],d=$$(u)?nM(l,e,t,i,yl(u),s):void 0;if(!_p(d)){_p(o)||j$(u)&&(o=nM(l,null,t,i,a,s));let f=q_(xo(),t);zj(r,s,f,i,o)}}function nM(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let l=n[i],u=Array.isArray(l),d=u?l[1]:l,f=d===null,g=t[i+1];g===hr&&(g=f?_n:void 0);let m=f?jh(g,r):d===r?g:void 0;if(u&&!_p(m)&&(m=jh(l,r)),_p(m)&&(a=m,s))return a;let v=n[i+1];i=s?$s(v):yl(v)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=jh(l,r))}return a}function _p(n){return n!==void 0}function a4(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Ai(Tp(n)))),n}function zN(n,e){return(n.flags&(e?8:16))!==0}function ie(n,e=""){let t=_e(),r=xt(),i=n+_t,o=r.firstCreatePass?bl(r,i,1,e,null):r.data[i],s=l4(r,t,o,e);t[i]=s,Yh()&&uE(r,t,s,o),ll(o,!1)}var l4=(n,e,t,r)=>(xu(!0),cj(e[gt],r));function c4(n,e,t,r=""){return Pr(n,ul(),t)?e+R_(t)+r:hr}function Pt(n){return OE("",n),Pt}function OE(n,e,t){let r=_e(),i=c4(r,n,e,t);return i!==hr&&u4(r,xo(),i),OE}function u4(n,e,t){let r=q_(e,n);uj(n[gt],r,t)}function rM(n,e,t){let r=xt();r.firstCreatePass&&qN(e,r.data,r.blueprint,Ar(n),t)}function qN(n,e,t,r,i){if(n=Gt(n),Array.isArray(n))for(let o=0;o<n.length;o++)qN(n[o],e,t,r,i);else{let o=xt(),s=_e(),a=Cn(),l=Ss(n)?n:Gt(n.provide),u=j_(n),d=a.providerIndexes&1048575,f=a.directiveStart,g=a.providerIndexes>>20;if(Ss(n)||!n.multi){let m=new js(u,i,te,null),v=Sb(l,e,i?d:d+g,f);v===-1?(Mb(ap(a,s),o,l),Tb(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(m),s.push(m)):(t[v]=m,s[v]=m)}else{let m=Sb(l,e,d+g,f),v=Sb(l,e,d,d+g),w=m>=0&&t[m],M=v>=0&&t[v];if(i&&!M||!i&&!w){Mb(ap(a,s),o,l);let O=h4(i?f4:d4,t.length,i,r,u,n);!i&&M&&(t[v].providerFactory=O),Tb(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(O),s.push(O)}else{let O=GN(t[i?v:m],u,!i&&r);Tb(o,n,m>-1?m:v,O)}!i&&r&&M&&t[v].componentProviders++}}}function Tb(n,e,t,r){let i=Ss(e),o=XS(e);if(i||o){let l=(o?Gt(e.useClass):e).prototype.ngOnDestroy;if(l){let u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let d=u.indexOf(t);d===-1?u.push(t,[r,l]):u[d+1].push(r,l)}else u.push(t,l)}}}function GN(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Sb(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function d4(n,e,t,r,i){return Yb(this.multi,[])}function f4(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=Lu(r,r[le],this.providerFactory.index,i);s=l.slice(0,a),Yb(o,s);for(let u=a;u<l.length;u++)s.push(l[u])}else s=[],Yb(o,s);return s}function Yb(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function h4(n,e,t,r,i,o){let s=new js(n,t,te,null);return s.multi=[],s.index=e,s.componentProviders=0,GN(s,i,r&&!t),s}function Fe(n,e){return t=>{t.providersResolver=(r,i)=>rM(r,i?i(n):n,!1),e&&(t.viewProvidersResolver=(r,i)=>rM(r,i?i(e):e,!0))}}function kE(n,e,t){return WN(_e(),cl(),n,e,t)}function jp(n,e,t,r){return KN(_e(),cl(),n,e,t,r)}function FE(n,e,t,r,i){return p4(_e(),cl(),n,e,t,r,i)}function LE(n,e){let t=n[e];return t===hr?void 0:t}function WN(n,e,t,r,i,o){let s=e+t;return Pr(n,s,i)?CE(n,s+1,o?r.call(o,i):r(i)):LE(n,s+1)}function KN(n,e,t,r,i,o,s){let a=e+t;return fN(n,a,i,o)?CE(n,a+2,s?r.call(s,i,o):r(i,o)):LE(n,a+2)}function p4(n,e,t,r,i,o,s,a){let l=e+t;return jU(n,l,i,o,s)?CE(n,l+3,a?r.call(a,i,o,s):r(i,o,s)):LE(n,l+3)}function Up(n,e){let t=xt(),r,i=n+_t;t.firstCreatePass?(r=g4(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Eo(r.type,!0)),s,a=xn(te);try{let l=sp(!1),u=o();return sp(l),W_(t,_e(),i,u),u}finally{xn(a)}}function g4(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function VE(n,e,t){let r=n+_t,i=_e(),o=G_(i,r);return QN(i,r)?WN(i,cl(),e,o.transform,t,o):o.transform(t)}function BE(n,e,t,r){let i=n+_t,o=_e(),s=G_(o,i);return QN(o,i)?KN(o,cl(),e,s.transform,t,r,s):s.transform(t,r)}function QN(n,e){return n[le].data[e].pure}function jE(n,e){return xp(n,e)}var bp=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},UE=(()=>{class n{compileModuleSync(t){return new vp(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=x_(t),o=OM(i.declarations).reduce((s,a)=>{let l=Do(a);return l&&s.push(new ml(l)),s},[]);return new bp(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var YN=(()=>{class n{applicationErrorHandler=T(dr);appRef=T(zs);taskService=T(Po);ngZone=T(tn);zonelessEnabled=T(Pu);tracing=T(Hs,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new cn;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(_u):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(T(mb,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{let t=this.taskService.add();if(!this.runningTick&&(this.cleanup(),!this.zonelessEnabled||this.appRef.includeAllTestViews)){this.taskService.remove(t);return}this.switchToMicrotaskScheduler(),this.taskService.remove(t)})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}switchToMicrotaskScheduler(){this.ngZone.runOutsideAngular(()=>{let t=this.taskService.add();this.useMicrotaskScheduler=!0,queueMicrotask(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})})}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?IA:db;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(_u+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.applicationErrorHandler(r)}finally{this.taskService.remove(t),this.cleanup()}}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ZN(){return[{provide:Mi,useExisting:YN},{provide:tn,useClass:bu},{provide:Pu,useValue:!0}]}function m4(){return typeof $localize<"u"&&$localize.locale||qu}var Gu=new q("",{factory:()=>T(Gu,{optional:!0,skipSelf:!0})||m4()});var $p=class{destroyed=!1;listeners=null;errorHandler=T(sr,{optional:!0});destroyRef=T(Zn);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new k(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let t=this.listeners?.indexOf(e);t!==void 0&&t!==-1&&this.listeners?.splice(t,1)}}}emit(e){if(this.destroyed){console.warn(Io(953,!1));return}if(this.listeners===null)return;let t=ce(null);try{for(let r of this.listeners)try{r(e)}catch(i){this.errorHandler?.handleError(i)}}finally{ce(t)}}};function He(n,e){return au(n,e?.equal)}var ix=Symbol("InputSignalNode#UNSET"),x4=re(N({},cu),{transformFn:void 0,applyValueToInputSignal(n,e){lu(n,e)}});function ox(n,e){let t=Object.create(x4);t.value=n,t.transformFn=e?.transform;function r(){if(za(t),t.value===ix){let i=null;throw new k(-950,i)}return t.value}return r[ln]=t,r}function pn(n){return new $p}function JN(n,e){return ox(n,e)}function R4(n){return ox(ix,n)}var $=(JN.required=R4,JN);function XN(n,e){return CN(e)}function P4(n,e){return IN(e)}var ew=(XN.required=P4,XN);var HE=new q(""),O4=new q("");function Wu(n){return!n.moduleRef}function k4(n){let e=Wu(n)?n.r3Injector:n.moduleRef.injector,t=e.get(tn);return t.run(()=>{Wu(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(dr),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),Wu(n)){let o=()=>e.destroy(),s=n.platformInjector.get(HE);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(HE);s.add(o),n.moduleRef.onDestroy(()=>{Fu(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return L4(r,t,()=>{let o=e.get(Po),s=o.add(),a=e.get(ME);return a.runInitializers(),a.donePromise.then(()=>{let l=e.get(Gu,qu);if(PN(l||qu),!e.get(O4,!0))return Wu(n)?e.get(zs):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Wu(n)){let d=e.get(zs);return n.rootComponent!==void 0&&d.bootstrap(n.rootComponent),d}else return F4?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>{o.remove(s)})})})}var F4;function L4(n,e,t){try{let r=t();return Ri(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Hp=null;function V4(n=[],e){return bn.create({name:e,providers:[{provide:Iu,useValue:"platform"},{provide:HE,useValue:new Set([()=>Hp=null])},...n]})}function B4(n=[]){if(Hp)return Hp;let e=V4(n);return Hp=e,NN(),j4(e),e}function j4(n){let e=n.get(wp,null);En(n,()=>{e?.forEach(t=>t())})}var U4=1e4;var pse=U4-1e3;var Gs=(()=>{class n{static __NG_ELEMENT_ID__=$4}return n})();function $4(n){return H4(Cn(),_e(),(n&16)===16)}function H4(n,e,t){if(No(n)&&!t){let r=ur(n.index,e);return new Oo(r,r)}else if(n.type&175){let r=e[Bn];return new Oo(r,e)}return null}var zE=class{supports(e){return wE(e)}create(e){return new qE(e)}},z4=(n,e)=>e,qE=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||z4}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<ex(r,i,o)?t:r,a=ex(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,d=l-i;if(u!=d){for(let g=0;g<u;g++){let m=g<o.length?o[g]:o[g]=0,v=m+g;d<=v&&v<u&&(o[g]=m+1)}let f=s.previousIndex;o[f]=d-u}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!wE(e))throw new k(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,dN(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new GE(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new zp),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new zp),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},GE=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},WE=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},zp=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new WE,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function ex(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}var KE=class{supports(e){return e instanceof Map||Pp(e)}create(){return new QE}},QE=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||Pp(e)))throw new k(900,!1);return this.check(e)?this:null}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,t);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new YE(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}},YE=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(e){this.key=e}};function tx(){return new tw([new zE])}var tw=(()=>{class n{factories;static \u0275prov=U({token:n,providedIn:"root",factory:tx});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=T(n,{optional:!0,skipSelf:!0});return n.create(t,r||tx())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new k(901,!1)}}return n})();function nx(){return new nw([new KE])}var nw=(()=>{class n{static \u0275prov=U({token:n,providedIn:"root",factory:nx});factories;constructor(t){this.factories=t}static create(t,r){if(r){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=T(n,{optional:!0,skipSelf:!0});return n.create(t,r||nx())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r)return r;throw new k(901,!1)}}return n})();function sx(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;Ze(Ue.BootstrapApplicationStart);try{let o=i?.injector??B4(r),s=[ZN(),TA,...t||[]],a=new Bu({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return k4({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Ze(Ue.BootstrapApplicationEnd)}}function Ee(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function qp(n,e=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):e}var $E=Symbol("NOT_SET"),ax=new Set,q4=re(N({},cu),{kind:"afterRenderEffectPhase",consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,value:$E,cleanup:null,consumerMarkedDirty(){if(this.sequence.impl.executing){if(this.sequence.lastPhase===null||this.sequence.lastPhase<this.phase)return;this.sequence.erroredOrDestroyed=!0}this.sequence.scheduler.notify(7)},phaseFn(n){if(this.sequence.lastPhase=this.phase,!this.dirty)return this.signal;if(this.dirty=!1,this.value!==$E&&!Ga(this))return this.signal;try{for(let i of this.cleanup??ax)i()}finally{this.cleanup?.clear()}let e=[];n!==void 0&&e.push(n),e.push(this.registerCleanupFn);let t=bs(this),r;try{r=this.userFn.apply(null,e)}finally{qa(this,t)}return(this.value===$E||!this.equal(this.value,r))&&(this.value=r,this.version++),this.signal}}),ZE=class extends up{scheduler;lastPhase=null;nodes=[void 0,void 0,void 0,void 0];onDestroyFns=null;constructor(e,t,r,i,o,s=null){super(e,[void 0,void 0,void 0,void 0],r,!1,o.get(Zn),s),this.scheduler=i;for(let a of aE){let l=t[a];if(l===void 0)continue;let u=Object.create(q4);u.sequence=this,u.phase=a,u.userFn=l,u.dirty=!0,u.signal=()=>(za(u),u.value),u.signal[ln]=u,u.registerCleanupFn=d=>(u.cleanup??=new Set).add(d),this.nodes[a]=u,this.hooks[a]=d=>u.phaseFn(d)}}afterRun(){super.afterRun(),this.lastPhase=null}destroy(){if(this.onDestroyFns!==null)for(let e of this.onDestroyFns)e();super.destroy();for(let e of this.nodes)if(e)try{for(let t of e.cleanup??ax)t()}finally{_o(e)}}};function rw(n,e){let t=e?.injector??T(bn),r=t.get(Mi),i=t.get(sE),o=t.get(Hs,null,{optional:!0});i.impl??=t.get(jM);let s=n;typeof s=="function"&&(s={mixedReadWrite:n});let a=t.get(Ru,null,{optional:!0}),l=new ZE(i.impl,[s.earlyRead,s.write,s.mixedReadWrite,s.read],a?.view,r,t,o?.snapshot(null));return i.impl.register(l),l}var lx=null;function gr(){return lx}function iw(n){lx??=n}var Ku=class{},Gp=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>T(cx),providedIn:"platform"})}return n})();var cx=(()=>{class n extends Gp{_location;_history;_doc=T(et);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return gr().getBaseHref(this._doc)}onPopState(t){let r=gr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=gr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function fx(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function ux(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Lo(n){return n&&n[0]!=="?"?`?${n}`:n}var Wp=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>T(W4),providedIn:"root"})}return n})(),G4=new q(""),W4=(()=>{class n extends Wp{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??T(et).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return fx(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Lo(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Lo(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Lo(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(ve(Gp),ve(G4,8))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wl=(()=>{class n{_subject=new Nt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=Y4(ux(dx(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Lo(r))}normalize(t){return n.stripTrailingSlash(Q4(this._basePath,dx(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Lo(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Lo(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Lo;static joinWithSlash=fx;static stripTrailingSlash=ux;static \u0275fac=function(r){return new(r||n)(ve(Wp))};static \u0275prov=U({token:n,factory:()=>K4(),providedIn:"root"})}return n})();function K4(){return new wl(ve(Wp))}function Q4(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function dx(n){return n.replace(/\/index.html$/,"")}function Y4(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Dn=(function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n})(Dn||{}),rt=(function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n})(rt||{}),Un=(function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n})(Un||{}),Vi={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function yx(n){return Jn(n)[Rt.LocaleId]}function vx(n,e,t){let r=Jn(n),i=[r[Rt.DayPeriodsFormat],r[Rt.DayPeriodsStandalone]],o=mr(i,e);return mr(o,t)}function _x(n,e,t){let r=Jn(n),i=[r[Rt.DaysFormat],r[Rt.DaysStandalone]],o=mr(i,e);return mr(o,t)}function bx(n,e,t){let r=Jn(n),i=[r[Rt.MonthsFormat],r[Rt.MonthsStandalone]],o=mr(i,e);return mr(o,t)}function Ex(n,e){let r=Jn(n)[Rt.Eras];return mr(r,e)}function Qu(n,e){let t=Jn(n);return mr(t[Rt.DateFormat],e)}function Yu(n,e){let t=Jn(n);return mr(t[Rt.TimeFormat],e)}function Zu(n,e){let r=Jn(n)[Rt.DateTimeFormat];return mr(r,e)}function Ju(n,e){let t=Jn(n),r=t[Rt.NumberSymbols][e];if(typeof r>"u"){if(e===Vi.CurrencyDecimal)return t[Rt.NumberSymbols][Vi.Decimal];if(e===Vi.CurrencyGroup)return t[Rt.NumberSymbols][Vi.Group]}return r}function wx(n){if(!n[Rt.ExtraData])throw new k(2303,!1)}function Cx(n){let e=Jn(n);return wx(e),(e[Rt.ExtraData][2]||[]).map(r=>typeof r=="string"?ow(r):[ow(r[0]),ow(r[1])])}function Ix(n,e,t){let r=Jn(n);wx(r);let i=[r[Rt.ExtraData][0],r[Rt.ExtraData][1]],o=mr(i,e)||[];return mr(o,t)||[]}function mr(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new k(2304,!1)}function ow(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var Z4=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Kp={},J4=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function Dx(n,e,t,r){let i=aH(n);e=Li(t,e)||e;let s=[],a;for(;e;)if(a=J4.exec(e),a){s=s.concat(a.slice(1));let d=s.pop();if(!d)break;e=d}else{s.push(e);break}let l=i.getTimezoneOffset();r&&(l=Sx(r,l),i=sH(i,r));let u="";return s.forEach(d=>{let f=iH(d);u+=f?f(i,t,l):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Xp(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Li(n,e){let t=yx(n);if(Kp[t]??={},Kp[t][e])return Kp[t][e];let r="";switch(e){case"shortDate":r=Qu(n,Un.Short);break;case"mediumDate":r=Qu(n,Un.Medium);break;case"longDate":r=Qu(n,Un.Long);break;case"fullDate":r=Qu(n,Un.Full);break;case"shortTime":r=Yu(n,Un.Short);break;case"mediumTime":r=Yu(n,Un.Medium);break;case"longTime":r=Yu(n,Un.Long);break;case"fullTime":r=Yu(n,Un.Full);break;case"short":let i=Li(n,"shortTime"),o=Li(n,"shortDate");r=Qp(Zu(n,Un.Short),[i,o]);break;case"medium":let s=Li(n,"mediumTime"),a=Li(n,"mediumDate");r=Qp(Zu(n,Un.Medium),[s,a]);break;case"long":let l=Li(n,"longTime"),u=Li(n,"longDate");r=Qp(Zu(n,Un.Long),[l,u]);break;case"full":let d=Li(n,"fullTime"),f=Li(n,"fullDate");r=Qp(Zu(n,Un.Full),[d,f]);break}return r&&(Kp[t][e]=r),r}function Qp(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function Fr(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function X4(n,e){return Fr(n,3).substring(0,e)}function Vt(n,e,t=0,r=!1,i=!1){return function(o,s){let a=eH(n,o);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return X4(a,e);let l=Ju(s,Vi.MinusSign);return Fr(a,e,l,r,i)}}function eH(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new k(2301,!1)}}function ct(n,e,t=Dn.Format,r=!1){return function(i,o){return tH(i,o,n,e,t,r)}}function tH(n,e,t,r,i,o){switch(t){case 2:return bx(e,i,r)[n.getMonth()];case 1:return _x(e,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let u=Cx(e),d=Ix(e,i,r),f=u.findIndex(g=>{if(Array.isArray(g)){let[m,v]=g,w=s>=m.hours&&a>=m.minutes,M=s<v.hours||s===v.hours&&a<v.minutes;if(m.hours<v.hours){if(w&&M)return!0}else if(w||M)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(f!==-1)return d[f]}return vx(e,i,r)[s<12?0:1];case 3:return Ex(e,r)[n.getFullYear()<=0?0:1];default:let l=t;throw new k(2302,!1)}}function Yp(n){return function(e,t,r){let i=-1*r,o=Ju(t,Vi.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+Fr(s,2,o)+Fr(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Fr(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Fr(s,2,o)+":"+Fr(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Fr(s,2,o)+":"+Fr(Math.abs(i%60),2,o);default:throw new k(2310,!1)}}}var nH=0,Jp=4;function rH(n){let e=Xp(n,nH,1).getDay();return Xp(n,0,1+(e<=Jp?Jp:Jp+7)-e)}function Tx(n){let e=n.getDay(),t=e===0?-3:Jp-e;return Xp(n.getFullYear(),n.getMonth(),n.getDate()+t)}function sw(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=Tx(t),s=rH(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Fr(i,n,Ju(r,Vi.MinusSign))}}function Zp(n,e=!1){return function(t,r){let o=Tx(t).getFullYear();return Fr(o,n,Ju(r,Vi.MinusSign),e)}}var aw={};function iH(n){if(aw[n])return aw[n];let e;switch(n){case"G":case"GG":case"GGG":e=ct(3,rt.Abbreviated);break;case"GGGG":e=ct(3,rt.Wide);break;case"GGGGG":e=ct(3,rt.Narrow);break;case"y":e=Vt(0,1,0,!1,!0);break;case"yy":e=Vt(0,2,0,!0,!0);break;case"yyy":e=Vt(0,3,0,!1,!0);break;case"yyyy":e=Vt(0,4,0,!1,!0);break;case"Y":e=Zp(1);break;case"YY":e=Zp(2,!0);break;case"YYY":e=Zp(3);break;case"YYYY":e=Zp(4);break;case"M":case"L":e=Vt(1,1,1);break;case"MM":case"LL":e=Vt(1,2,1);break;case"MMM":e=ct(2,rt.Abbreviated);break;case"MMMM":e=ct(2,rt.Wide);break;case"MMMMM":e=ct(2,rt.Narrow);break;case"LLL":e=ct(2,rt.Abbreviated,Dn.Standalone);break;case"LLLL":e=ct(2,rt.Wide,Dn.Standalone);break;case"LLLLL":e=ct(2,rt.Narrow,Dn.Standalone);break;case"w":e=sw(1);break;case"ww":e=sw(2);break;case"W":e=sw(1,!0);break;case"d":e=Vt(2,1);break;case"dd":e=Vt(2,2);break;case"c":case"cc":e=Vt(7,1);break;case"ccc":e=ct(1,rt.Abbreviated,Dn.Standalone);break;case"cccc":e=ct(1,rt.Wide,Dn.Standalone);break;case"ccccc":e=ct(1,rt.Narrow,Dn.Standalone);break;case"cccccc":e=ct(1,rt.Short,Dn.Standalone);break;case"E":case"EE":case"EEE":e=ct(1,rt.Abbreviated);break;case"EEEE":e=ct(1,rt.Wide);break;case"EEEEE":e=ct(1,rt.Narrow);break;case"EEEEEE":e=ct(1,rt.Short);break;case"a":case"aa":case"aaa":e=ct(0,rt.Abbreviated);break;case"aaaa":e=ct(0,rt.Wide);break;case"aaaaa":e=ct(0,rt.Narrow);break;case"b":case"bb":case"bbb":e=ct(0,rt.Abbreviated,Dn.Standalone,!0);break;case"bbbb":e=ct(0,rt.Wide,Dn.Standalone,!0);break;case"bbbbb":e=ct(0,rt.Narrow,Dn.Standalone,!0);break;case"B":case"BB":case"BBB":e=ct(0,rt.Abbreviated,Dn.Format,!0);break;case"BBBB":e=ct(0,rt.Wide,Dn.Format,!0);break;case"BBBBB":e=ct(0,rt.Narrow,Dn.Format,!0);break;case"h":e=Vt(3,1,-12);break;case"hh":e=Vt(3,2,-12);break;case"H":e=Vt(3,1);break;case"HH":e=Vt(3,2);break;case"m":e=Vt(4,1);break;case"mm":e=Vt(4,2);break;case"s":e=Vt(5,1);break;case"ss":e=Vt(5,2);break;case"S":e=Vt(6,1);break;case"SS":e=Vt(6,2);break;case"SSS":e=Vt(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Yp(0);break;case"ZZZZZ":e=Yp(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Yp(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Yp(2);break;default:return null}return aw[n]=e,e}function Sx(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function oH(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function sH(n,e,t){let i=n.getTimezoneOffset(),o=Sx(e,i);return oH(n,-1*(o-i))}function aH(n){if(hx(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return Xp(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(Z4))return lH(r)}let e=new Date(n);if(!hx(e))throw new k(2311,!1);return e}function lH(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,l=Number(n[6]||0),u=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,l,u),e}function hx(n){return n instanceof Date&&!isNaN(n.valueOf())}var lw=/\s+/,px=[],dw=(()=>{class n{_ngEl;_renderer;initialClasses=px;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(lw):px}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(lw):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(lw).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(te(hn),te(kr))};static \u0275dir=de({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var eg=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Cl=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new eg(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),gx(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);gx(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(te(si),te(oi),te(tw))};static \u0275dir=de({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function gx(n,e){n.context.$implicit=e.item}var Lr=(()=>{class n{_viewContainer;_context=new tg;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){mx(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){mx(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(te(si),te(oi))};static \u0275dir=de({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),tg=class{$implicit=null;ngIf=null};function mx(n,e){if(n&&!n.createEmbeddedView)throw new k(2020,!1)}var fw=(()=>{class n{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){let[i,o]=t.split("."),s=i.indexOf("-")===-1?void 0:Rr.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||n)(te(hn),te(nw),te(kr))};static \u0275dir=de({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return n})(),Bi=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(t){this._viewContainerRef=t}ngOnChanges(t){if(this._shouldRecreateView(t)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(t,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static \u0275fac=function(r){return new(r||n)(te(si))};static \u0275dir=de({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[fr]})}return n})();function Ax(n,e){return new k(2100,!1)}var cw=class{createSubscription(e,t,r){return bt(()=>e.subscribe({next:t,error:r}))}dispose(e){bt(()=>e.unsubscribe())}},uw=class{createSubscription(e,t,r){return e.then(i=>t?.(i),i=>r?.(i)),{unsubscribe:()=>{t=null,r=null}}}dispose(e){e.unsubscribe()}},cH=new uw,uH=new cw,hw=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=T(dr);constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r),r=>this.applicationErrorHandler(r))}_selectStrategy(t){if(Ri(t))return cH;if(Fp(t))return uH;throw Ax(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(te(Gs,16))};static \u0275pipe=kp({name:"async",type:n,pure:!1})}return n})();var dH="mediumDate",Mx=new q(""),Nx=new q(""),pw=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??dH,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Dx(t,s,o||this.locale,a)}catch(s){throw Ax(n,s.message)}}static \u0275fac=function(r){return new(r||n)(te(Gu,16),te(Mx,24),te(Nx,24))};static \u0275pipe=kp({name:"date",type:n,pure:!0})}return n})();var Ct=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=$e({type:n});static \u0275inj=je({})}return n})();function gw(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Xu=class{};var mw="browser",fH="server";function Il(n){return n===mw}function yw(n){return n===fH}var ed=class{_doc;constructor(e){this._doc=e}manager},ng=(()=>{class n extends ed{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(ve(et))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),og=new q(""),Ew=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof ng));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof ng);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new k(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(ve(og),ve(tn))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),vw="ng-app-id";function xx(n){for(let e of n)e.remove()}function Rx(n,e){let t=e.createElement("style");return t.textContent=n,t}function hH(n,e,t,r){let i=n.head?.querySelectorAll(`style[${vw}="${e}"],link[${vw}="${e}"]`);if(i)for(let o of i)o.removeAttribute(vw),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function bw(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var ww=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,hH(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,Rx);r?.forEach(i=>this.addUsage(i,this.external,bw))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(xx(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])xx(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,Rx(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,bw(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(ve(et),ve(Ep),ve(Ip,8),ve(Or))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),_w={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Cw=/%COMP%/g;var Ox="%COMP%",pH=`_nghost-${Ox}`,gH=`_ngcontent-${Ox}`,mH=!0,yH=new q("",{factory:()=>mH});function vH(n){return gH.replace(Cw,n)}function _H(n){return pH.replace(Cw,n)}function kx(n,e){return e.map(t=>t.replace(Cw,n))}var rd=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(t,r,i,o,s,a,l=null,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=l,this.tracingService=u,this.defaultRenderer=new td(t,s,a,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof ig?i.applyToHost(t):i instanceof nd&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.tracingService;switch(r.encapsulation){case xr.Emulated:o=new ig(l,u,r,this.appId,d,s,a,f);break;case xr.ShadowDom:return new rg(l,t,r,s,a,this.nonce,f,u);case xr.ExperimentalIsolatedShadowDom:return new rg(l,t,r,s,a,this.nonce,f);default:o=new nd(l,u,r,d,s,a,f);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(ve(Ew),ve(ww),ve(Ep),ve(yH),ve(et),ve(tn),ve(Ip),ve(Hs,8))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),td=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(_w[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Px(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Px(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new k(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=_w[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=_w[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Rr.DashCase|Rr.Important)?e.style.setProperty(t,r,i&Rr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Rr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=gr().getGlobalEventTarget(this.doc,e),!e))throw new k(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function Px(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var rg=class extends td{hostEl;sharedStylesHost;shadowRoot;constructor(e,t,r,i,o,s,a,l){super(e,i,o,a),this.hostEl=t,this.sharedStylesHost=l,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let u=r.styles;u=kx(r.id,u);for(let f of u){let g=document.createElement("style");s&&g.setAttribute("nonce",s),g.textContent=f,this.shadowRoot.appendChild(g)}let d=r.getExternalStyles?.();if(d)for(let f of d){let g=bw(f,i);s&&g.setAttribute("nonce",s),this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},nd=class extends td{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=l?kx(l,u):u,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&gl.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},ig=class extends nd{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,l){let u=i+"-"+r.id;super(e,t,r,o,s,a,l,u),this.contentAttr=vH(u),this.hostAttr=_H(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var sg=class n extends Ku{supportsDOMEvents=!0;static makeCurrent(){iw(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=bH();return t==null?null:EH(t)}resetBaseElement(){id=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return gw(document.cookie,e)}},id=null;function bH(){return id=id||document.head.querySelector("base"),id?id.getAttribute("href"):null}function EH(n){return new URL(n,document.baseURI).pathname}var wH=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),Fx=["alt","control","meta","shift"],CH={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},IH={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Lx=(()=>{class n extends ed{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>gr().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Fx.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=CH[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Fx.forEach(s=>{if(s!==i){let a=IH[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(ve(et))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();async function Iw(n,e,t){let r=N({rootComponent:n},DH(e,t));return sx(r)}function DH(n,e){return{platformRef:e?.platformRef,appProviders:[...NH,...n?.providers??[]],platformProviders:MH}}function TH(){sg.makeCurrent()}function SH(){return new sr}function AH(){return Xb(document),document}var MH=[{provide:Or,useValue:mw},{provide:wp,useValue:TH,multi:!0},{provide:et,useFactory:AH}];var NH=[{provide:Iu,useValue:"root"},{provide:sr,useFactory:SH},{provide:og,useClass:ng,multi:!0},{provide:og,useClass:Lx,multi:!0},rd,ww,Ew,{provide:xi,useExisting:rd},{provide:Xu,useClass:wH},[]];var Vx=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(ve(et))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var we="primary",md=Symbol("RouteTitle"),Mw=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Qs(n){return new Mw(n)}function Dw(n,e,t){for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(i[0]===":")t[i.substring(1)]=o;else if(i!==o.path)return!1}return!0}function Kx(n,e,t){let r=t.path.split("/"),i=r.indexOf("**");if(i===-1){if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let l={},u=n.slice(0,r.length);return Dw(r,u,l)?{consumed:u,posParams:l}:null}if(i!==r.lastIndexOf("**"))return null;let o=r.slice(0,i),s=r.slice(i+1);if(o.length+s.length>n.length||t.pathMatch==="full"&&e.hasChildren()&&t.path!=="**")return null;let a={};return!Dw(o,n.slice(0,o.length),a)||!Dw(s,n.slice(n.length-s.length),a)?null:{consumed:n,posParams:a}}function fg(n){return new Promise((e,t)=>{n.pipe(Di()).subscribe({next:r=>e(r),error:r=>t(r)})})}function RH(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!li(n[t],e[t]))return!1;return!0}function li(n,e){let t=n?Nw(n):void 0,r=e?Nw(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!Qx(n[i],e[i]))return!1;return!0}function Nw(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Qx(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function PH(n){return n.length>0?n[n.length-1]:null}function Js(n){return Eh(n)?n:Ri(n)?Ft(Promise.resolve(n)):Le(n)}function Yx(n){return Eh(n)?fg(n):Promise.resolve(n)}var OH={exact:Jx,subset:Xx},Zx={exact:kH,subset:FH,ignored:()=>!0};function Bx(n,e,t){return OH[t.paths](n.root,e.root,t.matrixParams)&&Zx[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function kH(n,e){return li(n,e)}function Jx(n,e,t){if(!Ws(n.segments,e.segments)||!cg(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!Jx(n.children[r],e.children[r],t))return!1;return!0}function FH(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Qx(n[t],e[t]))}function Xx(n,e,t){return e1(n,e,e.segments,t)}function e1(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Ws(i,t)||e.hasChildren()||!cg(i,t,r))}else if(n.segments.length===t.length){if(!Ws(n.segments,t)||!cg(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!Xx(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Ws(n.segments,i)||!cg(n.segments,i,r)||!n.children[we]?!1:e1(n.children[we],e,o,r)}}function cg(n,e,t){return e.every((r,i)=>Zx[t](n[i].parameters,r.parameters))}var Br=class{root;queryParams;fragment;_queryParamMap;constructor(e=new We([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Qs(this.queryParams),this._queryParamMap}toString(){return BH.serialize(this)}},We=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ug(this)}},Vo=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Qs(this.parameters),this._parameterMap}toString(){return n1(this)}};function LH(n,e){return Ws(n,e)&&n.every((t,r)=>li(t.parameters,e[r].parameters))}function Ws(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function VH(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===we&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==we&&(t=t.concat(e(i,r)))}),t}var yd=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>new Bo,providedIn:"root"})}return n})(),Bo=class{parse(e){let t=new Rw(e);return new Br(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${od(e.root,!0)}`,r=$H(e.queryParams),i=typeof e.fragment=="string"?`#${jH(e.fragment)}`:"";return`${t}${r}${i}`}},BH=new Bo;function ug(n){return n.segments.map(e=>n1(e)).join("/")}function od(n,e){if(!n.hasChildren())return ug(n);if(e){let t=n.children[we]?od(n.children[we],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==we&&r.push(`${i}:${od(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=VH(n,(r,i)=>i===we?[od(n.children[we],!1)]:[`${i}:${od(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[we]!=null?`${ug(n)}/${t[0]}`:`${ug(n)}/(${t.join("//")})`}}function t1(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ag(n){return t1(n).replace(/%3B/gi,";")}function jH(n){return encodeURI(n)}function xw(n){return t1(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function dg(n){return decodeURIComponent(n)}function jx(n){return dg(n.replace(/\+/g,"%20"))}function n1(n){return`${xw(n.path)}${UH(n.parameters)}`}function UH(n){return Object.entries(n).map(([e,t])=>`;${xw(e)}=${xw(t)}`).join("")}function $H(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${ag(t)}=${ag(i)}`).join("&"):`${ag(t)}=${ag(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var HH=/^[^\/()?;#]+/;function Tw(n){let e=n.match(HH);return e?e[0]:""}var zH=/^[^\/()?;=#]+/;function qH(n){let e=n.match(zH);return e?e[0]:""}var GH=/^[^=?&#]+/;function WH(n){let e=n.match(GH);return e?e[0]:""}var KH=/^[^&#]+/;function QH(n){let e=n.match(KH);return e?e[0]:""}var Rw=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new We([],{}):new We([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(e=0){if(e>50)throw new k(4010,!1);if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0,e));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1,e)),(t.length>0||Object.keys(r).length>0)&&(i[we]=new We(t,r)),i}parseSegment(){let e=Tw(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new k(4009,!1);return this.capture(e),new Vo(dg(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=qH(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Tw(this.remaining);i&&(r=i,this.capture(r))}e[dg(t)]=dg(r)}parseQueryParam(e){let t=WH(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=QH(this.remaining);s&&(r=s,this.capture(r))}let i=jx(t),o=jx(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e,t){let r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Tw(this.remaining),o=this.remaining[i.length];if(o!=="/"&&o!==")"&&o!==";")throw new k(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=we);let a=this.parseChildren(t+1);r[s??we]=Object.keys(a).length===1&&a[we]?a[we]:new We([],a),this.consumeOptional("//")}return r}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new k(4011,!1)}};function r1(n){return n.segments.length>0?new We([],{[we]:n}):n}function i1(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=i1(i);if(r===we&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new We(n.segments,e);return YH(t)}function YH(n){if(n.numberOfChildren===1&&n.children[we]){let e=n.children[we];return new We(n.segments.concat(e.segments),e.children)}return n}function Ml(n){return n instanceof Br}function o1(n,e,t=null,r=null,i=new Bo){let o=s1(n);return a1(o,e,t,r,i)}function s1(n){let e;function t(o){let s={};for(let l of o.children){let u=t(l);s[l.outlet]=u}let a=new We(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=r1(r);return e??i}function a1(n,e,t,r,i){let o=n;for(;o.parent;)o=o.parent;if(e.length===0)return Sw(o,o,o,t,r,i);let s=ZH(e);if(s.toRoot())return Sw(o,o,new We([],{}),t,r,i);let a=JH(s,o,n),l=a.processChildren?ad(a.segmentGroup,a.index,s.commands):c1(a.segmentGroup,a.index,s.commands);return Sw(o,a.segmentGroup,l,t,r,i)}function hg(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function ud(n){return typeof n=="object"&&n!=null&&n.outlets}function Ux(n,e,t){n||="\u0275";let r=new Br;return r.queryParams={[n]:e},t.parse(t.serialize(r)).queryParams[n]}function Sw(n,e,t,r,i,o){let s={};for(let[u,d]of Object.entries(r??{}))s[u]=Array.isArray(d)?d.map(f=>Ux(u,f,o)):Ux(u,d,o);let a;n===e?a=t:a=l1(n,e,t);let l=r1(i1(a));return new Br(l,s,i)}function l1(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=l1(o,e,t)}),new We(n.segments,r)}var pg=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&hg(r[0]))throw new k(4003,!1);let i=r.find(ud);if(i&&i!==PH(r))throw new k(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function ZH(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new pg(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new pg(t,e,r)}var Sl=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function JH(n,e,t){if(n.isAbsolute)return new Sl(e,!0,0);if(!t)return new Sl(e,!1,NaN);if(t.parent===null)return new Sl(t,!0,0);let r=hg(n.commands[0])?0:1,i=t.segments.length-1+r;return XH(t,i,n.numberOfDoubleDots)}function XH(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new k(4005,!1);i=r.segments.length}return new Sl(r,!1,i-o)}function e3(n){return ud(n[0])?n[0].outlets:{[we]:n}}function c1(n,e,t){if(n??=new We([],{}),n.segments.length===0&&n.hasChildren())return ad(n,e,t);let r=t3(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new We(n.segments.slice(0,r.pathIndex),{});return o.children[we]=new We(n.segments.slice(r.pathIndex),n.children),ad(o,0,i)}else return r.match&&i.length===0?new We(n.segments,{}):r.match&&!n.hasChildren()?Pw(n,e,t):r.match?ad(n,0,i):Pw(n,e,t)}function ad(n,e,t){if(t.length===0)return new We(n.segments,{});{let r=e3(t),i={};if(Object.keys(r).some(o=>o!==we)&&n.children[we]&&n.numberOfChildren===1&&n.children[we].segments.length===0){let o=ad(n.children[we],e,t);return new We(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=c1(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new We(n.segments,i)}}function t3(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(ud(a))break;let l=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!Hx(l,u,s))return o;r+=2}else{if(!Hx(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Pw(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(ud(o)){let l=n3(o.outlets);return new We(r,l)}if(i===0&&hg(t[0])){let l=n.segments[e];r.push(new Vo(l.path,$x(t[0]))),i++;continue}let s=ud(o)?o.outlets[we]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&hg(a)?(r.push(new Vo(s,$x(a))),i+=2):(r.push(new Vo(s,{})),i++)}return new We(r,{})}function n3(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Pw(new We([],{}),0,r))}),e}function $x(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Hx(n,e,t){return n==t.path&&li(e,t.parameters)}var ld="imperative",rn=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(rn||{}),er=class{id;url;constructor(e,t){this.id=e,this.url=t}},Ys=class extends er{type=rn.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ui=class extends er{urlAfterRedirects;type=rn.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Tn=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(Tn||{}),dd=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(dd||{}),yr=class extends er{reason;code;type=rn.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}};function u1(n){return n instanceof yr&&(n.code===Tn.Redirect||n.code===Tn.SupersededByNewNavigation)}var $i=class extends er{reason;code;type=rn.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Zs=class extends er{error;target;type=rn.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Nl=class extends er{urlAfterRedirects;state;type=rn.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gg=class extends er{urlAfterRedirects;state;type=rn.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mg=class extends er{urlAfterRedirects;state;shouldActivate;type=rn.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},yg=class extends er{urlAfterRedirects;state;type=rn.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vg=class extends er{urlAfterRedirects;state;type=rn.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_g=class{route;type=rn.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},bg=class{route;type=rn.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Eg=class{snapshot;type=rn.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wg=class{snapshot;type=rn.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cg=class{snapshot;type=rn.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ig=class{snapshot;type=rn.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var xl=class{},Rl=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function r3(n){return!(n instanceof xl)&&!(n instanceof Rl)}var Dg=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return this.route?.snapshot._environmentInjector??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new kl(this.rootInjector)}},kl=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Dg(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(ve(Wt))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Tg=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Ow(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Ow(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=kw(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return kw(e,this._root).map(t=>t.value)}};function Ow(n,e){if(n===e.value)return e;for(let t of e.children){let r=Ow(n,t);if(r)return r}return null}function kw(n,e){if(n===e.value)return[e];for(let t of e.children){let r=kw(n,t);if(r.length)return r.unshift(e),r}return[]}var Xn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Tl(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var fd=class extends Tg{snapshot;constructor(e,t){super(e),this.snapshot=t,Hw(this,e)}toString(){return this.snapshot.toString()}};function d1(n,e){let t=i3(n,e),r=new un([new Vo("",{})]),i=new un({}),o=new un({}),s=new un({}),a=new un(""),l=new ci(r,i,s,a,o,we,n,t.root);return l.snapshot=t.root,new fd(new Xn(l,[]),t)}function i3(n,e){let t={},r={},i={},s=new Ks([],t,i,"",r,we,n,null,{},e);return new hd("",new Xn(s,[]))}var ci=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(pt(u=>u[md]))??Le(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(pt(e=>Qs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(pt(e=>Qs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Sg(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:N(N({},e.params),n.params),data:N(N({},e.data),n.data),resolve:N(N(N(N({},n.data),e.data),i?.data),n._resolvedData)}:r={params:N({},n.params),data:N({},n.data),resolve:N(N({},n.data),n._resolvedData??{})},i&&h1(i)&&(r.resolve[md]=i.title),r}var Ks=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;_environmentInjector;get title(){return this.data?.[md]}constructor(e,t,r,i,o,s,a,l,u,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u,this._environmentInjector=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Qs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Qs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},hd=class extends Tg{url;constructor(e,t){super(t),this.url=e,Hw(this,t)}toString(){return f1(this._root)}};function Hw(n,e){e.value._routerState=n,e.children.forEach(t=>Hw(n,t))}function f1(n){let e=n.children.length>0?` { ${n.children.map(f1).join(", ")} } `:"";return`${n.value}${e}`}function Aw(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,li(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),li(e.params,t.params)||n.paramsSubject.next(t.params),RH(e.url,t.url)||n.urlSubject.next(t.url),li(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Fw(n,e){let t=li(n.params,e.params)&&LH(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Fw(n.parent,e.parent))}function h1(n){return typeof n.title=="string"||n.title===null}var p1=new q(""),vd=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=we;activateEvents=new ke;deactivateEvents=new ke;attachEvents=new ke;detachEvents=new ke;routerOutletData=$();parentContexts=T(kl);location=T(si);changeDetector=T(Gs);inputBinder=T(xg,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new k(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new k(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new k(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new k(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Lw(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=de({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[fr]})}return n})(),Lw=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===ci?this.route:e===kl?this.childContexts:e===p1?this.outletData:this.parent.get(e,t)}},xg=new q("");var zw=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Oe({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&pe(0,"router-outlet")},dependencies:[vd],encapsulation:2})}return n})();function qw(n){let e=n.children&&n.children.map(qw),t=e?re(N({},n),{children:e}):N({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==we&&(t.component=zw),t}function o3(n,e,t){let r=pd(n,e._root,t?t._root:void 0);return new fd(r,e)}function pd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=s3(n,e,t);return new Xn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>pd(n,a)),s}}let r=a3(e.value),i=e.children.map(o=>pd(n,o));return new Xn(r,i)}}function s3(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return pd(n,r,i);return pd(n,r)})}function a3(n){return new ci(new un(n.url),new un(n.params),new un(n.queryParams),new un(n.fragment),new un(n.data),n.outlet,n.component,n)}var Pl=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},g1="ngNavigationCancelingError";function Ag(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Ml(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=m1(!1,Tn.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function m1(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[g1]=!0,t.cancellationCode=e,t}function l3(n){return y1(n)&&Ml(n.url)}function y1(n){return!!n&&n[g1]}var Vw=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Aw(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Tl(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Tl(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Tl(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Tl(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Ig(o.value.snapshot))}),e.children.length&&this.forwardEvent(new wg(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Aw(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Aw(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Mg=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Al=class{component;route;constructor(e,t){this.component=e,this.route=t}};function c3(n,e,t){let r=n._root,i=e?e._root:null;return sd(r,i,t,[r.value])}function u3(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Fl(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!D_(n)?n:e.get(n):r}function sd(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Tl(e);return n.children.forEach(s=>{d3(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>cd(a,t.getContext(s),i)),i}function d3(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=f3(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Mg(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?sd(n,e,a?a.children:null,r,i):sd(n,e,t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Al(a.outlet.component,s))}else s&&cd(e,a,i),i.canActivateChecks.push(new Mg(r)),o.component?sd(n,null,a?a.children:null,r,i):sd(n,null,t,r,i);return i}function f3(n,e,t){if(typeof t=="function")return En(e._environmentInjector,()=>t(n,e));switch(t){case"pathParamsChange":return!Ws(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ws(n.url,e.url)||!li(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fw(n,e)||!li(n.queryParams,e.queryParams);default:return!Fw(n,e)}}function cd(n,e,t){let r=Tl(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?cd(s,e.children.getContext(o),t):cd(s,null,t):cd(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Al(e.outlet.component,i)):t.canDeactivateChecks.push(new Al(null,i)):t.canDeactivateChecks.push(new Al(null,i))}function _d(n){return typeof n=="function"}function h3(n){return typeof n=="boolean"}function p3(n){return n&&_d(n.canLoad)}function g3(n){return n&&_d(n.canActivate)}function m3(n){return n&&_d(n.canActivateChild)}function y3(n){return n&&_d(n.canDeactivate)}function v3(n){return n&&_d(n.canMatch)}function v1(n){return n instanceof Is||n?.name==="EmptyError"}var lg=Symbol("INITIAL_VALUE");function Ol(){return Ti(n=>s_(n.map(e=>e.pipe(Ii(1),c_(lg)))).pipe(pt(e=>{for(let t of e)if(t!==!0){if(t===lg)return lg;if(t===!1||_3(t))return t}return!0}),Ci(e=>e!==lg),Ii(1)))}function _3(n){return Ml(n)||n instanceof Pl}function _1(n){return n.aborted?Le(void 0).pipe(Ii(1)):new Pe(e=>{let t=()=>{e.next(),e.complete()};return n.addEventListener("abort",t),()=>n.removeEventListener("abort",t)})}function b1(n){return pu(_1(n))}function b3(n){return Nn(e=>{let{targetSnapshot:t,currentSnapshot:r,guards:{canActivateChecks:i,canDeactivateChecks:o}}=e;return o.length===0&&i.length===0?Le(re(N({},e),{guardsResult:!0})):E3(o,t,r).pipe(Nn(s=>s&&h3(s)?w3(t,i,n):Le(s)),pt(s=>re(N({},e),{guardsResult:s})))})}function E3(n,e,t){return Ft(n).pipe(Nn(r=>S3(r.component,r.route,t,e)),Di(r=>r!==!0,!0))}function w3(n,e,t){return Ft(e).pipe(Dh(r=>Xa(I3(r.route.parent,t),C3(r.route,t),T3(n,r.path),D3(n,r.route))),Di(r=>r!==!0,!0))}function C3(n,e){return n!==null&&e&&e(new Cg(n)),Le(!0)}function I3(n,e){return n!==null&&e&&e(new Eg(n)),Le(!0)}function D3(n,e){let t=e.routeConfig?e.routeConfig.canActivate:null;if(!t||t.length===0)return Le(!0);let r=t.map(i=>fu(()=>{let o=e._environmentInjector,s=Fl(i,o),a=g3(s)?s.canActivate(e,n):En(o,()=>s(e,n));return Js(a).pipe(Di())}));return Le(r).pipe(Ol())}function T3(n,e){let t=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(o=>u3(o)).filter(o=>o!==null).map(o=>fu(()=>{let s=o.guards.map(a=>{let l=o.node._environmentInjector,u=Fl(a,l),d=m3(u)?u.canActivateChild(t,n):En(l,()=>u(t,n));return Js(d).pipe(Di())});return Le(s).pipe(Ol())}));return Le(i).pipe(Ol())}function S3(n,e,t,r){let i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!i||i.length===0)return Le(!0);let o=i.map(s=>{let a=e._environmentInjector,l=Fl(s,a),u=y3(l)?l.canDeactivate(n,e,t,r):En(a,()=>l(n,e,t,r));return Js(u).pipe(Di())});return Le(o).pipe(Ol())}function A3(n,e,t,r,i){let o=e.canLoad;if(o===void 0||o.length===0)return Le(!0);let s=o.map(a=>{let l=Fl(a,n),u=p3(l)?l.canLoad(e,t):En(n,()=>l(e,t)),d=Js(u);return i?d.pipe(b1(i)):d});return Le(s).pipe(Ol(),E1(r))}function E1(n){return n_(Xr(e=>{if(typeof e!="boolean")throw Ag(n,e)}),pt(e=>e===!0))}function M3(n,e,t,r,i){let o=e.canMatch;if(!o||o.length===0)return Le(!0);let s=o.map(a=>{let l=Fl(a,n),u=v3(l)?l.canMatch(e,t):En(n,()=>l(e,t));return Js(u).pipe(b1(i))});return Le(s).pipe(Ol(),E1(r))}var ji=class n extends Error{segmentGroup;constructor(e){super(),this.segmentGroup=e||null,Object.setPrototypeOf(this,n.prototype)}},gd=class n extends Error{urlTree;constructor(e){super(),this.urlTree=e,Object.setPrototypeOf(this,n.prototype)}};function N3(n){throw new k(4e3,!1)}function x3(n){throw m1(!1,Tn.GuardRejected)}var Bw=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}async lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[we])throw N3(`${e.redirectTo}`);i=i.children[we]}}async applyRedirectCommands(e,t,r,i,o){let s=await R3(t,i,o);if(s instanceof Br)throw new gd(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new gd(a);return a}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Br(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new We(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new k(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function R3(n,e,t){if(typeof n=="string")return Promise.resolve(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,params:u,data:d,title:f,paramMap:g,queryParamMap:m}=e;return fg(Js(En(t,()=>r({params:u,data:d,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,title:f,paramMap:g,queryParamMap:m}))))}function P3(n,e){return n.providers&&!n._injector&&(n._injector=zu(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Vr(n){return n.outlet||we}function O3(n,e){let t=n.filter(r=>Vr(r)===e);return t.push(...n.filter(r=>Vr(r)!==e)),t}var jw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function k3(n,e,t,r,i,o){let s=w1(n,e,t);return s.matched?(r=P3(e,r),M3(r,e,t,i,o).pipe(pt(a=>a===!0?s:N({},jw)))):Le(s)}function w1(n,e,t){if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?N({},jw):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Kx)(t,n,e);if(!i)return N({},jw);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?N(N({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function zx(n,e,t,r){return t.length>0&&V3(n,t,r)?{segmentGroup:new We(e,L3(r,new We(t,n.children))),slicedSegments:[]}:t.length===0&&B3(n,t,r)?{segmentGroup:new We(n.segments,F3(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new We(n.segments,n.children),slicedSegments:t}}function F3(n,e,t,r){let i={};for(let o of t)if(Rg(n,e,o)&&!r[Vr(o)]){let s=new We([],{});i[Vr(o)]=s}return N(N({},r),i)}function L3(n,e){let t={};t[we]=e;for(let r of n)if(r.path===""&&Vr(r)!==we){let i=new We([],{});t[Vr(r)]=i}return t}function V3(n,e,t){return t.some(r=>Rg(n,e,r)&&Vr(r)!==we)}function B3(n,e,t){return t.some(r=>Rg(n,e,r))}function Rg(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function j3(n,e,t){return e.length===0&&!n.children[t]}var Uw=class{};async function U3(n,e,t,r,i,o,s="emptyOnly",a){return new $w(n,e,t,r,i,s,o,a).recognize()}var $3=31,$w=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a,l){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=l,this.applyRedirects=new Bw(this.urlSerializer,this.urlTree)}noMatchError(e){return new k(4002,`'${e.segmentGroup}'`)}async recognize(){let e=zx(this.urlTree.root,[],[],this.config).segmentGroup,{children:t,rootSnapshot:r}=await this.match(e),i=new Xn(r,t),o=new hd("",i),s=o1(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}async match(e){let t=new Ks([],Object.freeze({}),Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),we,this.rootComponentType,null,{},this.injector);try{return{children:await this.processSegmentGroup(this.injector,this.config,e,we,t),rootSnapshot:t}}catch(r){if(r instanceof gd)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ji?this.noMatchError(r):r}}async processSegmentGroup(e,t,r,i,o){if(r.segments.length===0&&r.hasChildren())return this.processChildren(e,t,r,o);let s=await this.processSegment(e,t,r,r.segments,i,!0,o);return s instanceof Xn?[s]:[]}async processChildren(e,t,r,i){let o=[];for(let l of Object.keys(r.children))l==="primary"?o.unshift(l):o.push(l);let s=[];for(let l of o){let u=r.children[l],d=O3(t,l),f=await this.processSegmentGroup(e,d,u,l,i);s.push(...f)}let a=C1(s);return H3(a),a}async processSegment(e,t,r,i,o,s,a){for(let l of t)try{return await this.processSegmentAgainstRoute(l._injector??e,t,l,r,i,o,s,a)}catch(u){if(u instanceof ji||v1(u))continue;throw u}if(j3(r,i,o))return new Uw;throw new ji(r)}async processSegmentAgainstRoute(e,t,r,i,o,s,a,l){if(Vr(r)!==s&&(s===we||!Rg(i,o,r)))throw new ji(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(e,i,r,o,s,l);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,l);throw new ji(i)}async expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:l,parameters:u,consumedSegments:d,positionalParamSegments:f,remainingSegments:g}=w1(t,i,o);if(!l)throw new ji(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>$3&&(this.allowRedirects=!1));let m=new Ks(o,u,Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,qx(i),Vr(i),i.component??i._loadedComponent??null,i,Gx(i),e),v=Sg(m,a,this.paramsInheritanceStrategy);if(m.params=Object.freeze(v.params),m.data=Object.freeze(v.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let w=await this.applyRedirects.applyRedirectCommands(d,i.redirectTo,f,m,e),M=await this.applyRedirects.lineralizeSegments(i,w);return this.processSegment(e,r,t,M.concat(g),s,!1,a)}async matchSegmentAgainstRoute(e,t,r,i,o,s){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await fg(k3(t,r,i,e,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(t.children={}),!a?.matched)throw new ji(t);e=r._injector??e;let{routes:l}=await this.getChildConfig(e,r,i),u=r._loadedInjector??e,{parameters:d,consumedSegments:f,remainingSegments:g}=a,m=new Ks(f,d,Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,qx(r),Vr(r),r.component??r._loadedComponent??null,r,Gx(r),e),v=Sg(m,s,this.paramsInheritanceStrategy);m.params=Object.freeze(v.params),m.data=Object.freeze(v.data);let{segmentGroup:w,slicedSegments:M}=zx(t,f,g,l);if(M.length===0&&w.hasChildren()){let z=await this.processChildren(u,l,w,m);return new Xn(m,z)}if(l.length===0&&M.length===0)return new Xn(m,[]);let O=Vr(r)===o,j=await this.processSegment(u,l,w,M,O?we:o,!0,m);return new Xn(m,j instanceof Xn?[j]:[])}async getChildConfig(e,t,r){if(t.children)return{routes:t.children,injector:e};if(t.loadChildren){if(t._loadedRoutes!==void 0){let o=t._loadedNgModuleFactory;return o&&!t._loadedInjector&&(t._loadedInjector=o.create(e).injector),{routes:t._loadedRoutes,injector:t._loadedInjector}}if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await fg(A3(e,t,r,this.urlSerializer,this.abortSignal))){let o=await this.configLoader.loadChildren(e,t);return t._loadedRoutes=o.routes,t._loadedInjector=o.injector,t._loadedNgModuleFactory=o.factory,o}throw x3(t)}return{routes:[],injector:e}}};function H3(n){n.sort((e,t)=>e.value.outlet===we?-1:t.value.outlet===we?1:e.value.outlet.localeCompare(t.value.outlet))}function z3(n){let e=n.value.routeConfig;return e&&e.path===""}function C1(n){let e=[],t=new Set;for(let r of n){if(!z3(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=C1(r.children);e.push(new Xn(r.value,i))}return e.filter(r=>!t.has(r))}function qx(n){return n.data||{}}function Gx(n){return n.resolve||{}}function q3(n,e,t,r,i,o,s){return Nn(async a=>{let{state:l,tree:u}=await U3(n,e,t,r,a.extractedUrl,i,o,s);return re(N({},a),{targetSnapshot:l,urlAfterRedirects:u})})}function G3(n){return Nn(e=>{let{targetSnapshot:t,guards:{canActivateChecks:r}}=e;if(!r.length)return Le(e);let i=new Set(r.map(a=>a.route)),o=new Set;for(let a of i)if(!o.has(a))for(let l of I1(a))o.add(l);let s=0;return Ft(o).pipe(Dh(a=>i.has(a)?W3(a,t,n):(a.data=Sg(a,a.parent,n).resolve,Le(void 0))),Xr(()=>s++),Th(1),Nn(a=>s===o.size?Le(e):dn))})}function I1(n){let e=n.children.map(t=>I1(t)).flat();return[n,...e]}function W3(n,e,t){let r=n.routeConfig,i=n._resolve;return r?.title!==void 0&&!h1(r)&&(i[md]=r.title),fu(()=>(n.data=Sg(n,n.parent,t).resolve,K3(i,n,e).pipe(pt(o=>(n._resolvedData=o,n.data=N(N({},n.data),o),null)))))}function K3(n,e,t){let r=Nw(n);if(r.length===0)return Le({});let i={};return Ft(r).pipe(Nn(o=>Q3(n[o],e,t).pipe(Di(),Xr(s=>{if(s instanceof Pl)throw Ag(new Bo,s);i[o]=s}))),Th(1),pt(()=>i),hu(o=>v1(o)?dn:o_(o)))}function Q3(n,e,t){let r=e._environmentInjector,i=Fl(n,r),o=i.resolve?i.resolve(e,t):En(r,()=>i(e,t));return Js(o)}function Wx(n){return Ti(e=>{let t=n(e);return t?Ft(t).pipe(pt(()=>e)):Le(e)})}var Gw=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===we);return r}getResolvedTitleForRoute(t){return t.data[md]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>T(D1),providedIn:"root"})}return n})(),D1=(()=>{class n extends Gw{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(ve(Vx))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bd=new q("",{factory:()=>({})}),Ed=new q(""),T1=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=T(UE);async loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await Yx(En(t,()=>r.loadComponent())),s=await M1(A1(o));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s,s}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await S1(r,this.compiler,t,this.onLoadEndListener);return r._loadedRoutes=o.routes,r._loadedInjector=o.injector,r._loadedNgModuleFactory=o.factory,o}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();async function S1(n,e,t,r){let i=await Yx(En(t,()=>n.loadChildren())),o=await M1(A1(i)),s;o instanceof Op||Array.isArray(o)?s=o:s=await e.compileModuleAsync(o),r&&r(n);let a,l,u=!1,d;return Array.isArray(s)?(l=s,u=!0):(a=s.create(t).injector,d=s,l=a.get(Ed,[],{optional:!0,self:!0}).flat()),{routes:l.map(qw),injector:a,factory:d}}function Y3(n){return n&&typeof n=="object"&&"default"in n}function A1(n){return Y3(n)?n.default:n}async function M1(n){return n}var Pg=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>T(Z3),providedIn:"root"})}return n})(),Z3=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),N1=new q("");var J3=()=>{},x1=new q(""),R1=(()=>{class n{currentNavigation=Te(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=Te(null);events=new Nt;transitionAbortWithErrorSubject=new Nt;configLoader=T(T1);environmentInjector=T(Wt);destroyRef=T(Zn);urlSerializer=T(yd);rootContexts=T(kl);location=T(wl);inputBindingEnabled=T(xg,{optional:!0})!==null;titleStrategy=T(Gw);options=T(bd,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=T(Pg);createViewTransition=T(N1,{optional:!0});navigationErrorHandler=T(x1,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Le(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new _g(i)),r=i=>this.events.next(new bg(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;bt(()=>{this.transitions?.next(re(N({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(t){return this.transitions=new un(null),this.transitions.pipe(Ci(r=>r!==null),Ti(r=>{let i=!1,o=new AbortController,s=()=>!i&&this.currentTransition?.id===r.id;return Le(r).pipe(Ti(a=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Tn.SupersededByNewNavigation),dn;this.currentTransition=r;let l=this.lastSuccessfulNavigation();this.currentNavigation.set({id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:l?re(N({},l),{previousNavigation:null}):null,abort:()=>o.abort()});let u=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=a.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!u&&d!=="reload")return this.events.next(new $i(a.id,this.urlSerializer.serialize(a.rawUrl),"",dd.IgnoredSameUrlNavigation)),a.resolve(!1),dn;if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Le(a).pipe(Ti(f=>(this.events.next(new Ys(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),f.id!==this.navigationId?dn:Promise.resolve(f))),q3(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),Xr(f=>{r.targetSnapshot=f.targetSnapshot,r.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation.update(m=>(m.finalUrl=f.urlAfterRedirects,m));let g=new Nl(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:f,extractedUrl:g,source:m,restoredState:v,extras:w}=a,M=new Ys(f,this.urlSerializer.serialize(g),m,v);this.events.next(M);let O=d1(this.rootComponentType,this.environmentInjector).snapshot;return this.currentTransition=r=re(N({},a),{targetSnapshot:O,urlAfterRedirects:g,extras:re(N({},w),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(j=>(j.finalUrl=g,j)),Le(r)}else return this.events.next(new $i(a.id,this.urlSerializer.serialize(a.extractedUrl),"",dd.IgnoredByUrlHandlingStrategy)),a.resolve(!1),dn}),pt(a=>{let l=new gg(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);return this.events.next(l),this.currentTransition=r=re(N({},a),{guards:c3(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),r}),b3(a=>this.events.next(a)),Ti(a=>{if(r.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw Ag(this.urlSerializer,a.guardsResult);let l=new mg(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);if(this.events.next(l),!s())return dn;if(!a.guardsResult)return this.cancelNavigationTransition(a,"",Tn.GuardRejected),dn;if(a.guards.canActivateChecks.length===0)return Le(a);let u=new yg(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);if(this.events.next(u),!s())return dn;let d=!1;return Le(a).pipe(G3(this.paramsInheritanceStrategy),Xr({next:()=>{d=!0;let f=new vg(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(f)},complete:()=>{d||this.cancelNavigationTransition(a,"",Tn.NoDataFromResolver)}}))}),Wx(a=>{let l=d=>{let f=[];if(d.routeConfig?._loadedComponent)d.component=d.routeConfig?._loadedComponent;else if(d.routeConfig?.loadComponent){let g=d._environmentInjector;f.push(this.configLoader.loadComponent(g,d.routeConfig).then(m=>{d.component=m}))}for(let g of d.children)f.push(...l(g));return f},u=l(a.targetSnapshot.root);return u.length===0?Le(a):Ft(Promise.all(u).then(()=>a))}),Wx(()=>this.afterPreactivation()),Ti(()=>{let{currentSnapshot:a,targetSnapshot:l}=r,u=this.createViewTransition?.(this.environmentInjector,a.root,l.root);return u?Ft(u).pipe(pt(()=>r)):Le(r)}),Ii(1),pt(a=>{let l=o3(t.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);this.currentTransition=r=a=re(N({},a),{targetRouterState:l}),this.currentNavigation.update(u=>(u.targetRouterState=l,u)),this.events.next(new xl),s()&&(new Vw(t.routeReuseStrategy,r.targetRouterState,r.currentRouterState,u=>this.events.next(u),this.inputBindingEnabled).activate(this.rootContexts),s()&&(i=!0,this.currentNavigation.update(u=>(u.abort=J3,u)),this.lastSuccessfulNavigation.set(bt(this.currentNavigation)),this.events.next(new Ui(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)))}),pu(_1(o.signal).pipe(Ci(()=>!i&&!r.targetRouterState),Xr(()=>{this.cancelNavigationTransition(r,o.signal.reason+"",Tn.Aborted)}))),Xr({complete:()=>{i=!0}}),pu(this.transitionAbortWithErrorSubject.pipe(Xr(a=>{throw a}))),l_(()=>{o.abort(),i||this.cancelNavigationTransition(r,"",Tn.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),hu(a=>{if(i=!0,this.destroyed)return r.resolve(!1),dn;if(y1(a))this.events.next(new yr(r.id,this.urlSerializer.serialize(r.extractedUrl),a.message,a.cancellationCode)),l3(a)?this.events.next(new Rl(a.url,a.navigationBehaviorOptions)):r.resolve(!1);else{let l=new Zs(r.id,this.urlSerializer.serialize(r.extractedUrl),a,r.targetSnapshot??void 0);try{let u=En(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(u instanceof Pl){let{message:d,cancellationCode:f}=Ag(this.urlSerializer,u);this.events.next(new yr(r.id,this.urlSerializer.serialize(r.extractedUrl),d,f)),this.events.next(new Rl(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(l),a}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return dn}))}))}cancelNavigationTransition(t,r,i){let o=new yr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=bt(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function X3(n){return n!==ld}var P1=new q("");var O1=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>T(e6),providedIn:"root"})}return n})(),Ng=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}shouldDestroyInjector(e){return!0}},e6=(()=>{class n extends Ng{static \u0275fac=(()=>{let t;return function(i){return(t||(t=ee(n)))(i||n)}})();static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ww=(()=>{class n{urlSerializer=T(yd);options=T(bd,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=T(wl);urlHandlingStrategy=T(Pg);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Br;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Br?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=d1(null,T(Wt));getRouterState(){return this.routerState}_stateMemento=this.createStateMemento();get stateMemento(){return this._stateMemento}updateStateMemento(){this._stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}restoredState(){return this.location.getState()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>T(t6),providedIn:"root"})}return n})(),t6=(()=>{class n extends Ww{currentPageId=0;lastSuccessfulId=-1;get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Ys?this.updateStateMemento():t instanceof $i?this.commitTransition(r):t instanceof Nl?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof xl?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof yr&&!u1(t)?this.restoreHistory(r):t instanceof Zs?this.restoreHistory(r,!0):t instanceof Ui&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,l=N(N({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",l)}else{let a=N(N({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ee(n)))(i||n)}})();static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Kw(n,e){n.events.pipe(Ci(t=>t instanceof Ui||t instanceof yr||t instanceof Zs||t instanceof $i),pt(t=>t instanceof Ui||t instanceof $i?0:(t instanceof yr?t.code===Tn.Redirect||t.code===Tn.SupersededByNewNavigation:!1)?2:1),Ci(t=>t!==2),Ii(1)).subscribe(()=>{e()})}var k1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},F1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},jo=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=T(SE);stateManager=T(Ww);options=T(bd,{optional:!0})||{};pendingTasks=T(Po);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=T(R1);urlSerializer=T(yd);location=T(wl);urlHandlingStrategy=T(Pg);injector=T(Wt);_events=new Nt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=T(O1);injectorCleanup=T(P1,{optional:!0});onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=T(Ed,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!T(xg,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{}}),this.subscribeToNavigationEvents()}eventsSubscription=new cn;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=bt(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof yr&&r.code!==Tn.Redirect&&r.code!==Tn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ui)this.navigated=!0,this.injectorCleanup?.(this.routeReuseStrategy,this.routerState,this.config);else if(r instanceof Rl){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=N({scroll:i.extras.scroll,browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||X3(i.source)},s);this.scheduleNavigation(a,ld,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}r3(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ld,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=N({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(l=>{this.disposed||this.injector.get(dr)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return bt(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(qw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription?.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0,this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=N(N({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let g=i?i.snapshot:this.routerState.snapshot.root;f=s1(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),f=this.currentUrlTree.root}return a1(f,t,d,u??null,this.urlSerializer)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Ml(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ld,null,r)}navigate(t,r={skipLocationChange:!1}){return n6(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(Io(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=N({},k1):r===!1?i=N({},F1):i=r,Ml(t))return Bx(this.currentUrlTree,t,i);let o=this.parseUrl(t);return Bx(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,u;s?(a=s.resolve,l=s.reject,u=s.promise):u=new Promise((f,g)=>{a=f,l=g});let d=this.pendingTasks.add();return Kw(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(Promise.reject.bind(Promise))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function n6(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new k(4008,!1)}var o6=new q("");function Qw(n,...e){return Rs([{provide:Ed,multi:!0,useValue:n},[],{provide:ci,useFactory:s6},{provide:Lp,multi:!0,useFactory:a6},e.map(t=>t.\u0275providers)])}function s6(){return T(jo).routerState.root}function a6(){let n=T(bn);return e=>{let t=n.get(zs);if(e!==t.components[0])return;let r=n.get(jo),i=n.get(l6);n.get(c6)===1&&r.initialNavigation(),n.get(u6,null,{optional:!0})?.setUpPreloading(),n.get(o6,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var l6=new q("",{factory:()=>new Nt}),c6=new q("",{factory:()=>1});var u6=new q("");var Ne=(function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n})(Ne||{}),jr="*";function V1(n,e=null){return{type:Ne.Sequence,steps:n,options:e}}function Yw(n){return{type:Ne.Style,styles:n,offset:null}}var Hi=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,t=0){this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Ll=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let t=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},wd="!";function B1(n){return new k(3e3,!1)}function f6(){return new k(3100,!1)}function h6(){return new k(3101,!1)}function p6(n){return new k(3001,!1)}function g6(n){return new k(3003,!1)}function m6(n){return new k(3004,!1)}function U1(n,e){return new k(3005,!1)}function $1(){return new k(3006,!1)}function H1(){return new k(3007,!1)}function z1(n,e){return new k(3008,!1)}function q1(n){return new k(3002,!1)}function G1(n,e,t,r,i){return new k(3010,!1)}function W1(){return new k(3011,!1)}function K1(){return new k(3012,!1)}function Q1(){return new k(3200,!1)}function Y1(){return new k(3202,!1)}function Z1(){return new k(3013,!1)}function J1(n){return new k(3014,!1)}function X1(n){return new k(3015,!1)}function eR(n){return new k(3016,!1)}function tR(n,e){return new k(3404,!1)}function y6(n){return new k(3502,!1)}function nR(n){return new k(3503,!1)}function rR(){return new k(3300,!1)}function iR(n){return new k(3504,!1)}function oR(n){return new k(3301,!1)}function sR(n,e){return new k(3302,!1)}function aR(n){return new k(3303,!1)}function lR(n,e){return new k(3400,!1)}function cR(n){return new k(3401,!1)}function uR(n){return new k(3402,!1)}function dR(n,e){return new k(3505,!1)}function zi(n){switch(n.length){case 0:return new Hi;case 1:return n[0];default:return new Ll(n)}}function e0(n,e,t=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(l=>{let u=l.get("offset"),d=u==s,f=d&&a||new Map;l.forEach((g,m)=>{let v=m,w=g;if(m!=="offset")switch(v=n.normalizePropertyName(v,i),w){case wd:w=t.get(m);break;case jr:w=r.get(m);break;default:w=n.normalizeStyleValue(m,v,w,i);break}f.set(v,w)}),d||o.push(f),a=f,s=u}),i.length)throw y6(i);return o}function Og(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Zw(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Zw(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Zw(t,"destroy",n)));break}}function Zw(n,e,t){let r=t.totalTime,i=!!t.disabled,o=kg(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),s=n._data;return s!=null&&(o._data=s),o}function kg(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function $n(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function t0(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}var v6=typeof document>"u"?null:document.documentElement;function Fg(n){let e=n.parentNode||n.host||null;return e===v6?null:e}function _6(n){return n.substring(1,6)=="ebkit"}var Xs=null,j1=!1;function fR(n){Xs||(Xs=b6()||{},j1=Xs.style?"WebkitAppearance"in Xs.style:!1);let e=!0;return Xs.style&&!_6(n)&&(e=n in Xs.style,!e&&j1&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Xs.style)),e}function b6(){return typeof document<"u"?document.body:null}function n0(n,e){for(;e;){if(e===n)return!0;e=Fg(e)}return!1}function r0(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}var E6=1e3,i0="{{",w6="}}",o0="ng-enter",Lg="ng-leave",Cd="ng-trigger",Id=".ng-trigger",s0="ng-animating",Vg=".ng-animating";function ui(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Jw(parseFloat(e[1]),e[2])}function Jw(n,e){return e==="s"?n*E6:n}function Dd(n,e,t){return n.hasOwnProperty("duration")?n:I6(n,e,t)}var C6=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function I6(n,e,t){let r,i=0,o="";if(typeof n=="string"){let s=n.match(C6);if(s===null)return e.push(B1(n)),{duration:0,delay:0,easing:""};r=Jw(parseFloat(s[1]),s[2]);let a=s[3];a!=null&&(i=Jw(parseFloat(a),s[4]));let l=s[5];l&&(o=l)}else r=n;if(!t){let s=!1,a=e.length;r<0&&(e.push(f6()),s=!0),i<0&&(e.push(h6()),s=!0),s&&e.splice(a,0,B1(n))}return{duration:r,delay:i,easing:o}}function hR(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function Ur(n,e,t){e.forEach((r,i)=>{let o=Bg(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r})}function Uo(n,e){e.forEach((t,r)=>{let i=Bg(r);n.style[i]=""})}function Vl(n){return Array.isArray(n)?n.length==1?n[0]:V1(n):n}function pR(n,e,t){let r=e.params||{},i=a0(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(p6(o))})}var Xw=new RegExp(`${i0}\\s*(.+?)\\s*${w6}`,"g");function a0(n){let e=[];if(typeof n=="string"){let t;for(;t=Xw.exec(n);)e.push(t[1]);Xw.lastIndex=0}return e}function Bl(n,e,t){let r=`${n}`,i=r.replace(Xw,(o,s)=>{let a=e[s];return a==null&&(t.push(g6(s)),a=""),a.toString()});return i==r?n:i}var D6=/-+([a-z0-9])/g;function Bg(n){return n.replace(D6,(...e)=>e[1].toUpperCase())}function gR(n,e){return n===0||e===0}function mR(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,jg(n,a)))}}return e}function Hn(n,e,t){switch(e.type){case Ne.Trigger:return n.visitTrigger(e,t);case Ne.State:return n.visitState(e,t);case Ne.Transition:return n.visitTransition(e,t);case Ne.Sequence:return n.visitSequence(e,t);case Ne.Group:return n.visitGroup(e,t);case Ne.Animate:return n.visitAnimate(e,t);case Ne.Keyframes:return n.visitKeyframes(e,t);case Ne.Style:return n.visitStyle(e,t);case Ne.Reference:return n.visitReference(e,t);case Ne.AnimateChild:return n.visitAnimateChild(e,t);case Ne.AnimateRef:return n.visitAnimateRef(e,t);case Ne.Query:return n.visitQuery(e,t);case Ne.Stagger:return n.visitStagger(e,t);default:throw m6(e.type)}}function jg(n,e){return window.getComputedStyle(n)[e]}var I0=(()=>{class n{validateStyleProperty(t){return fR(t)}containsElement(t,r){return n0(t,r)}getParentElement(t){return Fg(t)}query(t,r,i){return r0(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],l){return new Hi(i,o)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),ta=class{static NOOP=new I0},na=class{};var T6=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),qg=class extends na{normalizePropertyName(e,t){return Bg(e)}normalizeStyleValue(e,t,r,i){let o="",s=r.toString().trim();if(T6.has(t)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(U1(e,r))}return s+o}};var Gg="*";function S6(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>A6(r,t,e)):t.push(n),t}function A6(n,e,t){if(n[0]==":"){let l=M6(n,t);if(typeof l=="function"){e.push(l);return}n=l}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(X1(n)),e;let i=r[1],o=r[2],s=r[3];e.push(yR(i,s));let a=i==Gg&&s==Gg;o[0]=="<"&&!a&&e.push(yR(s,i))}function M6(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(eR(n)),"* => *"}}var Ug=new Set(["true","1"]),$g=new Set(["false","0"]);function yR(n,e){let t=Ug.has(n)||$g.has(n),r=Ug.has(e)||$g.has(e);return(i,o)=>{let s=n==Gg||n==i,a=e==Gg||e==o;return!s&&t&&typeof i=="boolean"&&(s=i?Ug.has(n):$g.has(n)),!a&&r&&typeof o=="boolean"&&(a=o?Ug.has(e):$g.has(e)),s&&a}}var SR=":self",N6=new RegExp(`s*${SR}s*,?`,"g");function AR(n,e,t,r){return new h0(n).build(e,t,r)}var vR="",h0=class{_driver;constructor(e){this._driver=e}build(e,t,r){let i=new p0(t);return this._resetContextStyleTimingState(i),Hn(this,Vl(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=vR,e.collectedStyles=new Map,e.collectedStyles.set(vR,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push($1()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==Ne.State){let l=a,u=l.name;u.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,o.push(this.visitState(l,t))}),l.name=u}else if(a.type==Ne.Transition){let l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,s.push(l)}else t.errors.push(H1())}),{type:Ne.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{a0(l).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}),o.size&&t.errors.push(z1(e.name,[...o.values()]))}return{type:Ne.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=Hn(this,Vl(e.animation),t),i=S6(e.expr,t.errors);return{type:Ne.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:ea(e.options)}}visitSequence(e,t){return{type:Ne.Sequence,steps:e.steps.map(r=>Hn(this,r,t)),options:ea(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,o=e.steps.map(s=>{t.currentTime=r;let a=Hn(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:Ne.Group,steps:o,options:ea(e.options)}}visitAnimate(e,t){let r=O6(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:Yw({});if(o.type==Ne.Keyframes)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let u={};r.easing&&(u.easing=r.easing),s=Yw(u)}t.currentTime+=r.duration+r.delay;let l=this.visitStyle(s,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:Ne.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===jr?r.push(a):t.errors.push(q1(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let l of a.values())if(l.toString().indexOf(i0)>=0){o=!0;break}}}),{type:Ne.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{let u=t.collectedStyles.get(t.currentQuerySelector),d=u.get(l),f=!0;d&&(o!=i&&o>=d.startTime&&i<=d.endTime&&(t.errors.push(G1(l,d.startTime,d.endTime,o,i)),f=!1),o=d.startTime),f&&u.set(l,{startTime:o,endTime:i}),t.options&&pR(a,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:Ne.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(W1()),r;let i=1,o=0,s=[],a=!1,l=!1,u=0,d=e.steps.map(O=>{let j=this._makeStyleAst(O,t),z=j.offset!=null?j.offset:P6(j.styles),ne=0;return z!=null&&(o++,ne=j.offset=z),l=l||ne<0||ne>1,a=a||ne<u,u=ne,s.push(ne),j});l&&t.errors.push(K1()),a&&t.errors.push(Q1());let f=e.steps.length,g=0;o>0&&o<f?t.errors.push(Y1()):o==0&&(g=i/(f-1));let m=f-1,v=t.currentTime,w=t.currentAnimateTimings,M=w.duration;return d.forEach((O,j)=>{let z=g>0?j==m?1:g*j:s[j],ne=z*M;t.currentTime=v+w.delay+ne,w.duration=ne,this._validateStyleAst(O,t),O.offset=z,r.styles.push(O)}),r}visitReference(e,t){return{type:Ne.Reference,animation:Hn(this,Vl(e.animation),t),options:ea(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:Ne.AnimateChild,options:ea(e.options)}}visitAnimateRef(e,t){return{type:Ne.AnimateRef,animation:this.visitReference(e.animation,t),options:ea(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=x6(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,$n(t.collectedStyles,t.currentQuerySelector,new Map);let a=Hn(this,Vl(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:Ne.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:ea(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(Z1());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Dd(e.timings,t.errors,!0);return{type:Ne.Stagger,animation:Hn(this,Vl(e.animation),t),timings:r,options:null}}};function x6(n){let e=!!n.split(/\s*,\s*/).find(t=>t==SR);return e&&(n=n.replace(N6,"")),n=n.replace(/@\*/g,Id).replace(/@\w+/g,t=>Id+"-"+t.slice(1)).replace(/:animating/g,Vg),[n,e]}function R6(n){return n?N({},n):null}var p0=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function P6(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function O6(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=Dd(n,e).duration;return l0(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=l0(0,0,"");return o.dynamic=!0,o.strValue=t,o}let i=Dd(t,e);return l0(i.duration,i.delay,i.easing)}function ea(n){return n?(n=N({},n),n.params&&(n.params=R6(n.params))):n={},n}function l0(n,e,t){return{duration:n,delay:e,easing:t}}function D0(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var Sd=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},k6=1,F6=":enter",L6=new RegExp(F6,"g"),V6=":leave",B6=new RegExp(V6,"g");function MR(n,e,t,r,i,o=new Map,s=new Map,a,l,u=[]){return new g0().buildKeyframes(n,e,t,r,i,o,s,a,l,u)}var g0=class{buildKeyframes(e,t,r,i,o,s,a,l,u,d=[]){u=u||new Sd;let f=new m0(e,t,u,i,o,d,[]);f.options=l;let g=l.delay?ui(l.delay):0;f.currentTimeline.delayNextStep(g),f.currentTimeline.setStyles([s],null,f.errors,l),Hn(this,r,f);let m=f.timelines.filter(v=>v.containsAnimation());if(m.length&&a.size){let v;for(let w=m.length-1;w>=0;w--){let M=m[w];if(M.element===t){v=M;break}}v&&!v.allowOnlyTimelineStyles()&&v.setStyles([a],null,f.errors,l)}return m.length?m.map(v=>v.buildKeyframes()):[D0(t,[],[],[],0,g,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:ui(Bl(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime,s=r.duration!=null?ui(r.duration):null,a=r.delay!=null?ui(r.delay):null;return s!==0&&e.forEach(l=>{let u=t.appendInstructionToTimeline(l,s,a);o=Math.max(o,u.duration+u.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Hn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==Ne.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Wg);let s=ui(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Hn(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?ui(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),Hn(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?Bl(r,t.params,t.errors):r;return Dd(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==Ne.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{let u=l.offset||0;a.forwardTime(u*o),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?ui(i.delay):0;o&&(t.previousNode.type===Ne.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Wg);let s=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((u,d)=>{t.currentQueryIndex=d;let f=t.createSubContext(e.options,u);o&&f.delayNextStep(o),u===t.element&&(l=f.currentTimeline),Hn(this,e.animation,f),f.currentTimeline.applyStylesToKeyframe();let g=f.currentTimeline.currentTime;s=Math.max(s,g)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),l=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime;break}let d=t.currentTimeline;l&&d.delayNextStep(l);let f=d.currentTime;Hn(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-f+(i.startTime-r.currentTimeline.startTime)}},Wg={},m0=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Wg;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,r,i,o,s,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=l||new Kg(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=ui(r.duration)),r.delay!=null&&(i.delay=ui(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Bl(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,o=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Wg,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new y0(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(L6,"."+this._enterClassName),e=e.replace(B6,"."+this._leaveClassName);let l=r!=1,u=this._driver.query(this.element,e,l);r!==0&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),a.push(...u)}return!o&&a.length==0&&s.push(J1(t)),a}},Kg=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=k6,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||jr),this._currentKeyframe.set(t,jr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let o=i&&i.params||{},s=j6(e,this._globalTimelineStyles);for(let[a,l]of s){let u=Bl(l,o,r);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??jr),this._updateStyle(a,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,l)=>{let u=new Map([...this._backFill,...a]);u.forEach((d,f)=>{d===wd?e.add(f):d===jr&&t.add(f)}),r||u.set("offset",l/this.duration),i.push(u)});let o=[...e.values()],s=[...t.values()];if(r){let a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return D0(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},y0=class extends Kg{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=r+t,a=t/s,l=new Map(e[0]);l.set("offset",0),o.push(l);let u=new Map(e[0]);u.set("offset",_R(a)),o.push(u);let d=e.length-1;for(let f=1;f<=d;f++){let g=new Map(e[f]),m=g.get("offset"),v=t+m*r;g.set("offset",_R(v/s)),o.push(g)}r=s,t=0,i="",e=o}return D0(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};function _R(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function j6(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)t.set(o,jr)}else for(let[o,s]of i)t.set(o,s)}),t}function bR(n,e,t,r,i,o,s,a,l,u,d,f,g){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:d,totalTime:f,errors:g}}var c0={},Qg=class{_triggerName;ast;_stateStyles;constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return U6(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,l,u,d){let f=[],g=this.ast.options&&this.ast.options.params||c0,m=a&&a.params||c0,v=this.buildStyles(r,m,f),w=l&&l.params||c0,M=this.buildStyles(i,w,f),O=new Set,j=new Map,z=new Map,ne=i==="void",Ce={params:NR(w,g),delay:this.ast.options?.delay},ae=d?[]:MR(e,t,this.ast.animation,o,s,v,M,Ce,u,f),C=0;return ae.forEach(_=>{C=Math.max(_.duration+_.delay,C)}),f.length?bR(t,this._triggerName,r,i,ne,v,M,[],[],j,z,C,f):(ae.forEach(_=>{let E=_.element,D=$n(j,E,new Set);_.preStyleProps.forEach(S=>D.add(S));let I=$n(z,E,new Set);_.postStyleProps.forEach(S=>I.add(S)),E!==t&&O.add(E)}),bR(t,this._triggerName,r,i,ne,v,M,ae,[...O.values()],j,z,C))}};function U6(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}function NR(n,e){let t=N({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}var v0=class{styles;defaultParams;normalizer;constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=NR(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=Bl(s,i,t));let l=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,l,s,t),r.set(a,s)})}),r}};function $6(n,e,t){return new _0(n,e,t)}var _0=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,t.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new v0(i.style,o,r))}),ER(this.states,"true","1"),ER(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Qg(e,i,this.states))}),this.fallbackTransition=H6(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};function H6(n,e,t){let r=[(s,a)=>!0],i={type:Ne.Sequence,steps:[],options:null},o={type:Ne.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Qg(n,o,e)}function ER(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var z6=new Sd,b0=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r}register(e,t){let r=[],i=[],o=AR(this._driver,t,r,i);if(r.length)throw nR(r);this._animations.set(e,o)}_buildPlayer(e,t,r){let i=e.element,o=e0(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=MR(this._driver,t,o,o0,Lg,new Map,new Map,r,z6,i),s.forEach(d=>{let f=$n(a,d.element,new Map);d.postStyleProps.forEach(g=>f.set(g,null))})):(i.push(rR()),s=[]),i.length)throw iR(i);a.forEach((d,f)=>{d.forEach((g,m)=>{d.set(m,this._driver.computeStyle(f,m,jr))})});let l=s.map(d=>{let f=a.get(d.element);return this._buildPlayer(d,new Map,f)}),u=zi(l);return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw oR(e);return t}listen(e,t,r,i){let o=kg(t,"","","");return Og(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},wR="ng-animate-queued",q6=".ng-animate-queued",u0="ng-animate-disabled",G6=".ng-animate-disabled",W6="ng-star-inserted",K6=".ng-star-inserted",Q6=[],xR={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Y6={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},$r="__ng_removed",Ad=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=J6(i),r){let o=e,{value:s}=o,a=$a(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},Td="void",d0=new Ad(Td),E0=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this._hostClassName="ng-tns-"+e,vr(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw sR(r,t);if(r==null||r.length==0)throw aR(t);if(!X6(r))throw lR(r,t);let o=$n(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);let a=$n(this._engine.statesByElement,e,new Map);return a.has(t)||(vr(e,Cd),vr(e,Cd+"-"+t),a.set(t,d0)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw cR(e);return t}trigger(e,t,r,i=!0){let o=this._getTrigger(t),s=new Md(this.id,t,e),a=this._engine.statesByElement.get(e);a||(vr(e,Cd),vr(e,Cd+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t),u=new Ad(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a.set(t,u),l||(l=d0),!(u.value===Td)&&l.value===u.value){if(!n9(l.params,u.params)){let w=[],M=o.matchStyles(l.value,l.params,w),O=o.matchStyles(u.value,u.params,w);w.length?this._engine.reportError(w):this._engine.afterFlush(()=>{Uo(e,M),Ur(e,O)})}return}let g=$n(this._engine.playersByElement,e,[]);g.forEach(w=>{w.namespaceId==this.id&&w.triggerName==t&&w.queued&&w.destroy()});let m=o.matchTransition(l.value,u.value,e,u.params),v=!1;if(!m){if(!i)return;m=o.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:m,fromState:l,toState:u,player:s,isFallbackTransition:v}),v||(vr(e,wR),s.onStart(()=>{jl(e,wR)})),s.onDone(()=>{let w=this.players.indexOf(s);w>=0&&this.players.splice(w,1);let M=this._engine.playersByElement.get(e);if(M){let O=M.indexOf(s);O>=0&&M.splice(O,1)}}),this.players.push(s),g.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,Id,!0);r.forEach(i=>{if(i[$r])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((l,u)=>{if(s.set(u,l.value),this._triggers.has(u)){let d=this.trigger(e,u,Td,i);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&zi(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let l=this._triggers.get(s).fallbackTransition,u=r.get(s)||d0,d=new Ad(Td),f=new Md(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:u,toState:d,player:f,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let o=e[$r];(!o||o===xR)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){vr(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let l=kg(o,r.triggerName,r.fromState.value,r.toState.value);l._data=e,Og(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},w0=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new E0(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let l=i.get(a);if(l){let u=r.indexOf(l);r.splice(u+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}}return t}trigger(e,t,r,i){if(Hg(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Hg(t))return;let o=t[$r];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),vr(e,u0)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),jl(e,u0))}removeNode(e,t,r){if(Hg(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[$r]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return Hg(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,Id,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,Vg,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return zi(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[$r];if(t&&t.setForRemoval){if(e[$r]=xR,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(u0)&&this.markElementAsDisabled(e,!1),this.driver.query(e,G6,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];vr(i,W6)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?zi(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw uR(e)}_flushAnimations(e,t){let r=new Sd,i=[],o=new Map,s=[],a=new Map,l=new Map,u=new Map,d=new Set;this.disabledNodes.forEach(Q=>{d.add(Q);let Z=this.driver.query(Q,q6,!0);for(let J=0;J<Z.length;J++)d.add(Z[J])});let f=this.bodyNode,g=Array.from(this.statesByElement.keys()),m=DR(g,this.collectedEnterElements),v=new Map,w=0;m.forEach((Q,Z)=>{let J=o0+w++;v.set(Z,J),Q.forEach(Ie=>vr(Ie,J))});let M=[],O=new Set,j=new Set;for(let Q=0;Q<this.collectedLeaveElements.length;Q++){let Z=this.collectedLeaveElements[Q],J=Z[$r];J&&J.setForRemoval&&(M.push(Z),O.add(Z),J.hasAnimation?this.driver.query(Z,K6,!0).forEach(Ie=>O.add(Ie)):j.add(Z))}let z=new Map,ne=DR(g,Array.from(O));ne.forEach((Q,Z)=>{let J=Lg+w++;z.set(Z,J),Q.forEach(Ie=>vr(Ie,J))}),e.push(()=>{m.forEach((Q,Z)=>{let J=v.get(Z);Q.forEach(Ie=>jl(Ie,J))}),ne.forEach((Q,Z)=>{let J=z.get(Z);Q.forEach(Ie=>jl(Ie,J))}),M.forEach(Q=>{this.processLeaveNode(Q)})});let Ce=[],ae=[];for(let Q=this._namespaceList.length-1;Q>=0;Q--)this._namespaceList[Q].drainQueuedTransitions(t).forEach(J=>{let Ie=J.player,dt=J.element;if(Ce.push(Ie),this.collectedEnterElements.length){let Tt=dt[$r];if(Tt&&Tt.setForMove){if(Tt.previousTriggersValues&&Tt.previousTriggersValues.has(J.triggerName)){let Kn=Tt.previousTriggersValues.get(J.triggerName),sn=this.statesByElement.get(J.element);if(sn&&sn.has(J.triggerName)){let wi=sn.get(J.triggerName);wi.value=Kn,sn.set(J.triggerName,wi)}}Ie.destroy();return}}let Zt=!f||!this.driver.containsElement(f,dt),Mt=z.get(dt),Ln=v.get(dt),ze=this._buildInstruction(J,r,Ln,Mt,Zt);if(ze.errors&&ze.errors.length){ae.push(ze);return}if(Zt){Ie.onStart(()=>Uo(dt,ze.fromStyles)),Ie.onDestroy(()=>Ur(dt,ze.toStyles)),i.push(Ie);return}if(J.isFallbackTransition){Ie.onStart(()=>Uo(dt,ze.fromStyles)),Ie.onDestroy(()=>Ur(dt,ze.toStyles)),i.push(Ie);return}let Ei=[];ze.timelines.forEach(Tt=>{Tt.stretchStartingKeyframe=!0,this.disabledNodes.has(Tt.element)||Ei.push(Tt)}),ze.timelines=Ei,r.append(dt,ze.timelines);let fo={instruction:ze,player:Ie,element:dt};s.push(fo),ze.queriedElements.forEach(Tt=>$n(a,Tt,[]).push(Ie)),ze.preStyleProps.forEach((Tt,Kn)=>{if(Tt.size){let sn=l.get(Kn);sn||l.set(Kn,sn=new Set),Tt.forEach((wi,ps)=>sn.add(ps))}}),ze.postStyleProps.forEach((Tt,Kn)=>{let sn=u.get(Kn);sn||u.set(Kn,sn=new Set),Tt.forEach((wi,ps)=>sn.add(ps))})});if(ae.length){let Q=[];ae.forEach(Z=>{Q.push(dR(Z.triggerName,Z.errors))}),Ce.forEach(Z=>Z.destroy()),this.reportError(Q)}let C=new Map,_=new Map;s.forEach(Q=>{let Z=Q.element;r.has(Z)&&(_.set(Z,Z),this._beforeAnimationBuild(Q.player.namespaceId,Q.instruction,C))}),i.forEach(Q=>{let Z=Q.element;this._getPreviousPlayers(Z,!1,Q.namespaceId,Q.triggerName,null).forEach(Ie=>{$n(C,Z,[]).push(Ie),Ie.destroy()})});let E=M.filter(Q=>TR(Q,l,u)),D=new Map;IR(D,this.driver,j,u,jr).forEach(Q=>{TR(Q,l,u)&&E.push(Q)});let S=new Map;m.forEach((Q,Z)=>{IR(S,this.driver,new Set(Q),l,wd)}),E.forEach(Q=>{let Z=D.get(Q),J=S.get(Q);D.set(Q,new Map([...Z?.entries()??[],...J?.entries()??[]]))});let b=[],vt=[],yn={};s.forEach(Q=>{let{element:Z,player:J,instruction:Ie}=Q;if(r.has(Z)){if(d.has(Z)){J.onDestroy(()=>Ur(Z,Ie.toStyles)),J.disabled=!0,J.overrideTotalTime(Ie.totalTime),i.push(J);return}let dt=yn;if(_.size>1){let Mt=Z,Ln=[];for(;Mt=Mt.parentNode;){let ze=_.get(Mt);if(ze){dt=ze;break}Ln.push(Mt)}Ln.forEach(ze=>_.set(ze,dt))}let Zt=this._buildAnimation(J.namespaceId,Ie,C,o,S,D);if(J.setRealPlayer(Zt),dt===yn)b.push(J);else{let Mt=this.playersByElement.get(dt);Mt&&Mt.length&&(J.parentPlayer=zi(Mt)),i.push(J)}}else Uo(Z,Ie.fromStyles),J.onDestroy(()=>Ur(Z,Ie.toStyles)),vt.push(J),d.has(Z)&&i.push(J)}),vt.forEach(Q=>{let Z=o.get(Q.element);if(Z&&Z.length){let J=zi(Z);Q.setRealPlayer(J)}}),i.forEach(Q=>{Q.parentPlayer?Q.syncPlayerEvents(Q.parentPlayer):Q.destroy()});for(let Q=0;Q<M.length;Q++){let Z=M[Q],J=Z[$r];if(jl(Z,Lg),J&&J.hasAnimation)continue;let Ie=[];if(a.size){let Zt=a.get(Z);Zt&&Zt.length&&Ie.push(...Zt);let Mt=this.driver.query(Z,Vg,!0);for(let Ln=0;Ln<Mt.length;Ln++){let ze=a.get(Mt[Ln]);ze&&ze.length&&Ie.push(...ze)}}let dt=Ie.filter(Zt=>!Zt.destroyed);dt.length?e9(this,Z,dt):this.processLeaveNode(Z)}return M.length=0,b.forEach(Q=>{this.players.push(Q),Q.onDone(()=>{Q.destroy();let Z=this.players.indexOf(Q);this.players.splice(Z,1)}),Q.play()}),b}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let l=!o||o==Td;a.forEach(u=>{u.queued||!l&&u.triggerName!=i||s.push(u)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){let i=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let l of t.timelines){let u=l.element,d=u!==o,f=$n(r,u,[]);this._getPreviousPlayers(u,d,s,a,t.toState).forEach(m=>{let v=m.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),m.destroy(),f.push(m)})}Uo(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){let a=t.triggerName,l=t.element,u=[],d=new Set,f=new Set,g=t.timelines.map(v=>{let w=v.element;d.add(w);let M=w[$r];if(M&&M.removedBeforeQueried)return new Hi(v.duration,v.delay);let O=w!==l,j=t9((r.get(w)||Q6).map(C=>C.getRealPlayer())).filter(C=>{let _=C;return _.element?_.element===w:!1}),z=o.get(w),ne=s.get(w),Ce=e0(this._normalizer,v.keyframes,z,ne),ae=this._buildPlayer(v,Ce,j);if(v.subTimeline&&i&&f.add(w),O){let C=new Md(e,a,w);C.setRealPlayer(ae),u.push(C)}return ae});u.forEach(v=>{$n(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>Z6(this.playersByQueriedElement,v.element,v))}),d.forEach(v=>vr(v,s0));let m=zi(g);return m.onDestroy(()=>{d.forEach(v=>jl(v,s0)),Ur(l,t.toStyles)}),f.forEach(v=>{$n(i,v,[]).push(m)}),m}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Hi(e.duration,e.delay)}},Md=class{namespaceId;triggerName;element;_player=new Hi;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>Og(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){$n(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function Z6(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function J6(n){return n??null}function Hg(n){return n&&n.nodeType===1}function X6(n){return n=="start"||n=="done"}function CR(n,e){let t=n.style.display;return n.style.display=e??"none",t}function IR(n,e,t,r,i){let o=[];t.forEach(l=>o.push(CR(l)));let s=[];r.forEach((l,u)=>{let d=new Map;l.forEach(f=>{let g=e.computeStyle(u,f,i);d.set(f,g),(!g||g.length==0)&&(u[$r]=Y6,s.push(u))}),n.set(u,d)});let a=0;return t.forEach(l=>CR(l,o[a++])),s}function DR(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let l=o.get(a);if(l)return l;let u=a.parentNode;return t.has(u)?l=u:i.has(u)?l=r:l=s(u),o.set(a,l),l}return e.forEach(a=>{let l=s(a);l!==r&&t.get(l).push(a)}),t}function vr(n,e){n.classList?.add(e)}function jl(n,e){n.classList?.remove(e)}function e9(n,e,t){zi(t).onDone(()=>n.processLeaveNode(e))}function t9(n){let e=[];return RR(n,e),e}function RR(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof Ll?RR(r.players,e):e.push(r)}}function n9(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function TR(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}var Ul=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,r){this._driver=t,this._normalizer=r,this._transitionEngine=new w0(e.body,t,r),this._timelineEngine=new b0(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let l=[],u=[],d=AR(this._driver,o,l,u);if(l.length)throw tR(i,l);a=$6(i,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[o,s]=t0(r),a=i;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if(r.charAt(0)=="@"){let[s,a]=t0(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function r9(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=f0(e[0]),e.length>1&&(r=f0(e[e.length-1]))):e instanceof Map&&(t=f0(e)),t||r?new i9(n,t,r):null}var i9=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Ur(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ur(this._element,this._initialStyles),this._endStyles&&(Ur(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Uo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Uo(this._element,this._endStyles),this._endStyles=null),Ur(this._element,this._initialStyles),this._state=3)}}return n})();function f0(n){let e=null;return n.forEach((t,r)=>{o9(r)&&(e=e||new Map,e.set(r,t))}),e}function o9(n){return n==="display"||n==="position"}var Yg=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer=null;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer()&&this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return this.domPlayer;this._initialized=!0;let e=this.keyframes,t=this._triggerWebAnimation(this.element,e,this.options);if(!t)return this._onFinish(),null;this.domPlayer=t,this._finalKeyframe=e.length?e[e.length-1]:new Map;let r=()=>this._onFinish();return t.addEventListener("finish",r),this.onDestroy(()=>{t.removeEventListener("finish",r)}),t}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer?.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){let i=this._convertKeyframesToObject(t);try{return e.animate(i,r)}catch{return null}}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){let e=this._buildPlayer();e&&(this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),e.play())}pause(){this.init(),this.domPlayer?.pause()}finish(){this.init(),this.domPlayer&&(this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish())}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer?.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer||this.init(),this.domPlayer&&(this.domPlayer.currentTime=e*this.time)}getPosition(){return this.domPlayer?+(this.domPlayer.currentTime??0)/this.time:this._initialized?1:0}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:jg(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Zg=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return n0(e,t)}getParentElement(e){return Fg(e)}query(e,t,r){return r0(e,t,r)}computeStyle(e,t,r){return jg(e,t)}animate(e,t,r,i,o,s=[]){let a=i==0?"both":"forwards",l={duration:r,delay:i,fill:a};o&&(l.easing=o);let u=new Map,d=s.filter(m=>m instanceof Yg);gR(r,i)&&d.forEach(m=>{m.currentSnapshot.forEach((v,w)=>u.set(w,v))});let f=hR(t).map(m=>new Map(m));f=mR(e,f,u);let g=r9(e,f);return new Yg(e,f,l,g)}};var zg="@",PR="@.disabled",Jg=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r,i){if(i){this.delegate.removeChild(e,t,r,i);return}this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==zg&&t==PR?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r,i){return this.delegate.listen(e,t,r,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},C0=class extends Jg{factory;constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==zg?t.charAt(1)=="."&&t==PR?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r,i){if(t.charAt(0)==zg){let o=s9(e),s=t.slice(1),a="";return s.charAt(0)!=zg&&([s,a]=a9(s)),this.engine.listen(this.namespaceId,o,s,a,l=>{let u=l._data||-1;this.factory.scheduleListenerCallback(u,r,l)})}return this.delegate.listen(e,t,r,i)}};function s9(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function a9(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var Xg=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,t.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(e,t){let i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let u=this._rendererCache,d=u.get(i);if(!d){let f=()=>u.delete(i);d=new Jg("",i,this.engine,f),u.set(i,d)}return d}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(o,s,e,u.name,u)};return t.data.animation.forEach(a),new C0(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var c9=(()=>{class n extends Ul{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||n)(ve(et),ve(ta),ve(na))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();function u9(){return new qg}function d9(){return new Xg(T(rd),T(Ul),T(tn))}var OR=[{provide:na,useFactory:u9},{provide:Ul,useClass:c9},{provide:xi,useFactory:d9}],Sce=[{provide:ta,useClass:I0},{provide:Cp,useValue:"NoopAnimations"},...OR],f9=[{provide:ta,useFactory:()=>new Zg},{provide:Cp,useFactory:()=>"BrowserAnimations"},...OR];function kR(){return ko("NgEagerAnimations"),[...f9]}function $o(...n){if(n){let e=[];for(let t=0;t<n.length;t++){let r=n[t];if(!r)continue;let i=typeof r;if(i==="string"||i==="number")e.push(r);else if(i==="object"){let o=Array.isArray(r)?[$o(...r)]:Object.entries(r).map(([s,a])=>a?s:void 0);e=o.length?e.concat(o.filter(s=>!!s)):e}}return e.join(" ").trim()}}function LR(n,e){return n?n.classList?n.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(n.className):!1}function qi(n,e){if(n&&e){let t=r=>{LR(n,r)||(n.classList?n.classList.add(r):n.className+=" "+r)};[e].flat().filter(Boolean).forEach(r=>r.split(" ").forEach(t))}}function Gi(n,e){if(n&&e){let t=r=>{n.classList?n.classList.remove(r):n.className=n.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," ")};[e].flat().filter(Boolean).forEach(r=>r.split(" ").forEach(t))}}function VR(n){for(let e of document?.styleSheets)try{for(let t of e?.cssRules)for(let r of t?.style)if(n.test(r))return{name:r,value:t.style.getPropertyValue(r).trim()}}catch{}return null}function BR(n){let e={width:0,height:0};if(n){let[t,r]=[n.style.visibility,n.style.display],i=n.getBoundingClientRect();n.style.visibility="hidden",n.style.display="block",e.width=i.width||n.offsetWidth,e.height=i.height||n.offsetHeight,n.style.display=r,n.style.visibility=t}return e}function FR(n){return n?Math.abs(n.scrollLeft):0}function jR(n,e){if(n instanceof HTMLElement){let t=n.offsetWidth;if(e){let r=getComputedStyle(n);t+=parseFloat(r.marginLeft)+parseFloat(r.marginRight)}return t}return 0}function T0(n){return typeof Element<"u"?n instanceof Element:n!==null&&typeof n=="object"&&n.nodeType===1&&typeof n.nodeName=="string"}function em(n,e={}){if(T0(n)){let t=(r,i)=>{var o,s;let a=(o=n?.$attrs)!=null&&o[r]?[(s=n?.$attrs)==null?void 0:s[r]]:[];return[i].flat().reduce((l,u)=>{if(u!=null){let d=typeof u;if(d==="string"||d==="number")l.push(u);else if(d==="object"){let f=Array.isArray(u)?t(r,u):Object.entries(u).map(([g,m])=>r==="style"&&(m||m===0)?`${g.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${m}`:m?g:void 0);l=f.length?l.concat(f.filter(g=>!!g)):l}}return l},a)};Object.entries(e).forEach(([r,i])=>{if(i!=null){let o=r.match(/^on(.+)/);o?n.addEventListener(o[1].toLowerCase(),i):r==="p-bind"||r==="pBind"?em(n,i):(i=r==="class"?[...new Set(t("class",i))].join(" ").trim():r==="style"?t("style",i).join(";").trim():i,(n.$attrs=n.$attrs||{})&&(n.$attrs[r]=i),n.setAttribute(r,i))}})}}function tm(n,e={},...t){if(n){let r=document.createElement(n);return em(r,e),r.append(...t),r}}function $l(n,e){return T0(n)?n.matches(e)?n:n.querySelector(e):null}function S0(n){if(n){let e=n.offsetHeight,t=getComputedStyle(n);return e-=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)+parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),e}return 0}function UR(n){if(n){let e=n.getBoundingClientRect();return{top:e.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:e.left+(window.pageXOffset||FR(document.documentElement)||FR(document.body)||0)}}return{top:"auto",left:"auto"}}function $R(n,e){if(n){let t=n.offsetHeight;if(e){let r=getComputedStyle(n);t+=parseFloat(r.marginTop)+parseFloat(r.marginBottom)}return t}return 0}function A0(n){if(n){let e=n.offsetWidth,t=getComputedStyle(n);return e-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)+parseFloat(t.borderLeftWidth)+parseFloat(t.borderRightWidth),e}return 0}function HR(){return typeof window>"u"||!window.matchMedia?!1:window.matchMedia("(prefers-reduced-motion: reduce)").matches}function nm(){return new Promise(n=>{requestAnimationFrame(()=>{requestAnimationFrame(n)})})}function zR(n){var e;n&&("remove"in Element.prototype?n.remove():(e=n.parentNode)==null||e.removeChild(n))}function qR(n,e="",t){T0(n)&&t!==null&&t!==void 0&&n.setAttribute(e,t)}function M0(n,e,t=null,r){var i;e&&((i=n?.style)==null||i.setProperty(e,t,r))}function GR(){let n=new Map;return{on(e,t){let r=n.get(e);return r?r.push(t):r=[t],n.set(e,r),this},off(e,t){let r=n.get(e);return r&&r.splice(r.indexOf(t)>>>0,1),this},emit(e,t){let r=n.get(e);r&&r.forEach(i=>{i(t)})},clear(){n.clear()}}}var h9=Object.defineProperty,WR=Object.getOwnPropertySymbols,p9=Object.prototype.hasOwnProperty,g9=Object.prototype.propertyIsEnumerable,KR=(n,e,t)=>e in n?h9(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,QR=(n,e)=>{for(var t in e||(e={}))p9.call(e,t)&&KR(n,t,e[t]);if(WR)for(var t of WR(e))g9.call(e,t)&&KR(n,t,e[t]);return n};function YR(...n){if(n){let e=[];for(let t=0;t<n.length;t++){let r=n[t];if(!r)continue;let i=typeof r;if(i==="string"||i==="number")e.push(r);else if(i==="object"){let o=Array.isArray(r)?[YR(...r)]:Object.entries(r).map(([s,a])=>a?s:void 0);e=o.length?e.concat(o.filter(s=>!!s)):e}}return e.join(" ").trim()}}function m9(n){return typeof n=="function"&&"call"in n&&"apply"in n}function y9({skipUndefined:n=!1},...e){return e?.reduce((t,r={})=>{for(let i in r){let o=r[i];if(!(n&&o===void 0))if(i==="style")t.style=QR(QR({},t.style),r.style);else if(i==="class"||i==="className")t[i]=YR(t[i],r[i]);else if(m9(o)){let s=t[i];t[i]=s?(...a)=>{s(...a),o(...a)}:o}else t[i]=o}return t},{})}function N0(...n){return y9({skipUndefined:!1},...n)}function di(n){return n==null||n===""||Array.isArray(n)&&n.length===0||!(n instanceof Date)&&typeof n=="object"&&Object.keys(n).length===0}function x0(n,e,t=new WeakSet){if(n===e)return!0;if(!n||!e||typeof n!="object"||typeof e!="object"||t.has(n)||t.has(e))return!1;t.add(n).add(e);let r=Array.isArray(n),i=Array.isArray(e),o,s,a;if(r&&i){if(s=n.length,s!=e.length)return!1;for(o=s;o--!==0;)if(!x0(n[o],e[o],t))return!1;return!0}if(r!=i)return!1;let l=n instanceof Date,u=e instanceof Date;if(l!=u)return!1;if(l&&u)return n.getTime()==e.getTime();let d=n instanceof RegExp,f=e instanceof RegExp;if(d!=f)return!1;if(d&&f)return n.toString()==e.toString();let g=Object.keys(n);if(s=g.length,s!==Object.keys(e).length)return!1;for(o=s;o--!==0;)if(!Object.prototype.hasOwnProperty.call(e,g[o]))return!1;for(o=s;o--!==0;)if(a=g[o],!x0(n[a],e[a],t))return!1;return!0}function v9(n,e){return x0(n,e)}function rm(n){return typeof n=="function"&&"call"in n&&"apply"in n}function it(n){return!di(n)}function ZR(n,e){if(!n||!e)return null;try{let t=n[e];if(it(t))return t}catch{}if(Object.keys(n).length){if(rm(e))return e(n);if(e.indexOf(".")===-1)return n[e];{let t=e.split("."),r=n;for(let i=0,o=t.length;i<o;++i){if(r==null)return null;r=r[t[i]]}return r}}return null}function ra(n,e,t){return t?ZR(n,t)===ZR(e,t):v9(n,e)}function JR(n,e){if(n!=null&&e&&e.length){for(let t of e)if(ra(n,t))return!0}return!1}function Wi(n,e=!0){return n instanceof Object&&n.constructor===Object&&(e||Object.keys(n).length!==0)}function on(n,...e){return rm(n)?n(...e):n}function _r(n,e=!0){return typeof n=="string"&&(e||n!=="")}function Ho(n){return _r(n)?n.replace(/(-|_)/g,"").toLowerCase():n}function im(n,e="",t={}){let r=Ho(e).split("."),i=r.shift();if(i){if(Wi(n)){let o=Object.keys(n).find(s=>Ho(s)===i)||"";return im(on(n[o],t),r.join("."),t)}return}return on(n,t)}function R0(n,e=!0){return Array.isArray(n)&&(e||n.length!==0)}function XR(n){return it(n)&&!isNaN(n)}function Hr(n,e){if(e){let t=e.test(n);return e.lastIndex=0,t}return!1}function ia(n){return n&&n.replace(/\/\*(?:(?!\*\/)[\s\S])*\*\/|[\r\n\t]+/g,"").replace(/ {2,}/g," ").replace(/ ([{:}]) /g,"$1").replace(/([;,]) /g,"$1").replace(/ !/g,"!").replace(/: /g,":").trim()}function om(n){return _r(n)?n.replace(/(_)/g,"-").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase():n}function P0(n){return n==="auto"?0:typeof n=="number"?n:Number(n.replace(/[^\d.]/g,"").replace(",","."))*1e3}var sm={};function Ki(n="pui_id_"){return Object.hasOwn(sm,n)||(sm[n]=0),sm[n]++,`${n}${sm[n]}`}var eP=["*"];var gn=(()=>{class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"}return n})();var tP=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Oe({type:n,selectors:[["p-header"]],standalone:!1,ngContentSelectors:eP,decls:1,vars:0,template:function(r,i){r&1&&(In(),Lt(0))},encapsulation:2})}return n})(),am=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Oe({type:n,selectors:[["p-footer"]],standalone:!1,ngContentSelectors:eP,decls:1,vars:0,template:function(r,i){r&1&&(In(),Lt(0))},encapsulation:2})}return n})(),zo=(()=>{class n{template;type;name;constructor(t){this.template=t}getType(){return this.name}static \u0275fac=function(r){return new(r||n)(te(oi))};static \u0275dir=de({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[0,"pTemplate","name"]}})}return n})(),Bt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=$e({type:n});static \u0275inj=je({imports:[Ct]})}return n})();var _9=Object.defineProperty,b9=Object.defineProperties,E9=Object.getOwnPropertyDescriptors,lm=Object.getOwnPropertySymbols,iP=Object.prototype.hasOwnProperty,oP=Object.prototype.propertyIsEnumerable,nP=(n,e,t)=>e in n?_9(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,qr=(n,e)=>{for(var t in e||(e={}))iP.call(e,t)&&nP(n,t,e[t]);if(lm)for(var t of lm(e))oP.call(e,t)&&nP(n,t,e[t]);return n},O0=(n,e)=>b9(n,E9(e)),Qi=(n,e)=>{var t={};for(var r in n)iP.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&lm)for(var r of lm(n))e.indexOf(r)<0&&oP.call(n,r)&&(t[r]=n[r]);return t};var w9=GR(),tr=w9,Nd=/{([^}]*)}/g,sP=/(\d+\s+[\+\-\*\/]\s+\d+)/g,aP=/var\([^)]+\)/g;function rP(n){return _r(n)?n.replace(/[A-Z]/g,(e,t)=>t===0?e:"."+e.toLowerCase()).toLowerCase():n}function C9(n){return Wi(n)&&n.hasOwnProperty("$value")&&n.hasOwnProperty("$type")?n.$value:n}function I9(n){return n.replaceAll(/ /g,"").replace(/[^\w]/g,"-")}function k0(n="",e=""){return I9(`${_r(n,!1)&&_r(e,!1)?`${n}-`:n}${e}`)}function lP(n="",e=""){return`--${k0(n,e)}`}function D9(n=""){let e=(n.match(/{/g)||[]).length,t=(n.match(/}/g)||[]).length;return(e+t)%2!==0}function cP(n,e="",t="",r=[],i){if(_r(n)){let o=n.trim();if(D9(o))return;if(Hr(o,Nd)){let s=o.replaceAll(Nd,a=>{let l=a.replace(/{|}/g,"").split(".").filter(u=>!r.some(d=>Hr(u,d)));return`var(${lP(t,om(l.join("-")))}${it(i)?`, ${i}`:""})`});return Hr(s.replace(aP,"0"),sP)?`calc(${s})`:s}return o}else if(XR(n))return n}function T9(n,e,t){_r(e,!1)&&n.push(`${e}:${t};`)}function Hl(n,e){return n?`${n}{${e}}`:""}function uP(n,e){if(n.indexOf("dt(")===-1)return n;function t(s,a){let l=[],u=0,d="",f=null,g=0;for(;u<=s.length;){let m=s[u];if((m==='"'||m==="'"||m==="`")&&s[u-1]!=="\\"&&(f=f===m?null:m),!f&&(m==="("&&g++,m===")"&&g--,(m===","||u===s.length)&&g===0)){let v=d.trim();v.startsWith("dt(")?l.push(uP(v,a)):l.push(r(v)),d="",u++;continue}m!==void 0&&(d+=m),u++}return l}function r(s){let a=s[0];if((a==='"'||a==="'"||a==="`")&&s[s.length-1]===a)return s.slice(1,-1);let l=Number(s);return isNaN(l)?s:l}let i=[],o=[];for(let s=0;s<n.length;s++)if(n[s]==="d"&&n.slice(s,s+3)==="dt(")o.push(s),s+=2;else if(n[s]===")"&&o.length>0){let a=o.pop();o.length===0&&i.push([a,s])}if(!i.length)return n;for(let s=i.length-1;s>=0;s--){let[a,l]=i[s],u=n.slice(a+3,l),d=t(u,e),f=e(...d);n=n.slice(0,a)+f+n.slice(l+1)}return n}var Yi=(...n)=>S9(ut.getTheme(),...n),S9=(n={},e,t,r)=>{if(e){let{variable:i,options:o}=ut.defaults||{},{prefix:s,transform:a}=n?.options||o||{},l=Hr(e,Nd)?e:`{${e}}`;return r==="value"||di(r)&&a==="strict"?ut.getTokenValue(e):cP(l,void 0,s,[i.excludedKeyRegex],t)}return""};function zl(n,...e){if(n instanceof Array){let t=n.reduce((r,i,o)=>{var s;return r+i+((s=on(e[o],{dt:Yi}))!=null?s:"")},"");return uP(t,Yi)}return on(n,{dt:Yi})}function A9(n,e={}){let t=ut.defaults.variable,{prefix:r=t.prefix,selector:i=t.selector,excludedKeyRegex:o=t.excludedKeyRegex}=e,s=[],a=[],l=[{node:n,path:r}];for(;l.length;){let{node:d,path:f}=l.pop();for(let g in d){let m=d[g],v=C9(m),w=Hr(g,o)?k0(f):k0(f,om(g));if(Wi(v))l.push({node:v,path:w});else{let M=lP(w),O=cP(v,w,r,[o]);T9(a,M,O);let j=w;r&&j.startsWith(r+"-")&&(j=j.slice(r.length+1)),s.push(j.replace(/-/g,"."))}}}let u=a.join("");return{value:a,tokens:s,declarations:u,css:Hl(i,u)}}var zr={regex:{rules:{class:{pattern:/^\.([a-zA-Z][\w-]*)$/,resolve(n){return{type:"class",selector:n,matched:this.pattern.test(n.trim())}}},attr:{pattern:/^\[(.*)\]$/,resolve(n){return{type:"attr",selector:`:root${n},:host${n}`,matched:this.pattern.test(n.trim())}}},media:{pattern:/^@media (.*)$/,resolve(n){return{type:"media",selector:n,matched:this.pattern.test(n.trim())}}},system:{pattern:/^system$/,resolve(n){return{type:"system",selector:"@media (prefers-color-scheme: dark)",matched:this.pattern.test(n.trim())}}},custom:{resolve(n){return{type:"custom",selector:n,matched:!0}}}},resolve(n){let e=Object.keys(this.rules).filter(t=>t!=="custom").map(t=>this.rules[t]);return[n].flat().map(t=>{var r;return(r=e.map(i=>i.resolve(t)).find(i=>i.matched))!=null?r:this.rules.custom.resolve(t)})}},_toVariables(n,e){return A9(n,{prefix:e?.prefix})},getCommon({name:n="",theme:e={},params:t,set:r,defaults:i}){var o,s,a,l,u,d,f;let{preset:g,options:m}=e,v,w,M,O,j,z,ne;if(it(g)&&m.transform!=="strict"){let{primitive:Ce,semantic:ae,extend:C}=g,_=ae||{},{colorScheme:E}=_,D=Qi(_,["colorScheme"]),I=C||{},{colorScheme:S}=I,b=Qi(I,["colorScheme"]),vt=E||{},{dark:yn}=vt,Q=Qi(vt,["dark"]),Z=S||{},{dark:J}=Z,Ie=Qi(Z,["dark"]),dt=it(Ce)?this._toVariables({primitive:Ce},m):{},Zt=it(D)?this._toVariables({semantic:D},m):{},Mt=it(Q)?this._toVariables({light:Q},m):{},Ln=it(yn)?this._toVariables({dark:yn},m):{},ze=it(b)?this._toVariables({semantic:b},m):{},Ei=it(Ie)?this._toVariables({light:Ie},m):{},fo=it(J)?this._toVariables({dark:J},m):{},[Tt,Kn]=[(o=dt.declarations)!=null?o:"",dt.tokens],[sn,wi]=[(s=Zt.declarations)!=null?s:"",Zt.tokens||[]],[ps,Lf]=[(a=Mt.declarations)!=null?a:"",Mt.tokens||[]],[Vf,Uc]=[(l=Ln.declarations)!=null?l:"",Ln.tokens||[]],[Bf,vv]=[(u=ze.declarations)!=null?u:"",ze.tokens||[]],[$c,Hc]=[(d=Ei.declarations)!=null?d:"",Ei.tokens||[]],[zc,Jt]=[(f=fo.declarations)!=null?f:"",fo.tokens||[]];v=this.transformCSS(n,Tt,"light","variable",m,r,i),w=Kn;let an=this.transformCSS(n,`${sn}${ps}`,"light","variable",m,r,i),Va=this.transformCSS(n,`${Vf}`,"dark","variable",m,r,i);M=`${an}${Va}`,O=[...new Set([...wi,...Lf,...Uc])];let _v=this.transformCSS(n,`${Bf}${$c}color-scheme:light`,"light","variable",m,r,i),jf=this.transformCSS(n,`${zc}color-scheme:dark`,"dark","variable",m,r,i);j=`${_v}${jf}`,z=[...new Set([...vv,...Hc,...Jt])],ne=on(g.css,{dt:Yi})}return{primitive:{css:v,tokens:w},semantic:{css:M,tokens:O},global:{css:j,tokens:z},style:ne}},getPreset({name:n="",preset:e={},options:t,params:r,set:i,defaults:o,selector:s}){var a,l,u;let d,f,g;if(it(e)&&t.transform!=="strict"){let m=n.replace("-directive",""),v=e,{colorScheme:w,extend:M,css:O}=v,j=Qi(v,["colorScheme","extend","css"]),z=M||{},{colorScheme:ne}=z,Ce=Qi(z,["colorScheme"]),ae=w||{},{dark:C}=ae,_=Qi(ae,["dark"]),E=ne||{},{dark:D}=E,I=Qi(E,["dark"]),S=it(j)?this._toVariables({[m]:qr(qr({},j),Ce)},t):{},b=it(_)?this._toVariables({[m]:qr(qr({},_),I)},t):{},vt=it(C)?this._toVariables({[m]:qr(qr({},C),D)},t):{},[yn,Q]=[(a=S.declarations)!=null?a:"",S.tokens||[]],[Z,J]=[(l=b.declarations)!=null?l:"",b.tokens||[]],[Ie,dt]=[(u=vt.declarations)!=null?u:"",vt.tokens||[]],Zt=this.transformCSS(m,`${yn}${Z}`,"light","variable",t,i,o,s),Mt=this.transformCSS(m,Ie,"dark","variable",t,i,o,s);d=`${Zt}${Mt}`,f=[...new Set([...Q,...J,...dt])],g=on(O,{dt:Yi})}return{css:d,tokens:f,style:g}},getPresetC({name:n="",theme:e={},params:t,set:r,defaults:i}){var o;let{preset:s,options:a}=e,l=(o=s?.components)==null?void 0:o[n];return this.getPreset({name:n,preset:l,options:a,params:t,set:r,defaults:i})},getPresetD({name:n="",theme:e={},params:t,set:r,defaults:i}){var o,s;let a=n.replace("-directive",""),{preset:l,options:u}=e,d=((o=l?.components)==null?void 0:o[a])||((s=l?.directives)==null?void 0:s[a]);return this.getPreset({name:a,preset:d,options:u,params:t,set:r,defaults:i})},applyDarkColorScheme(n){return!(n.darkModeSelector==="none"||n.darkModeSelector===!1)},getColorSchemeOption(n,e){var t;return this.applyDarkColorScheme(n)?this.regex.resolve(n.darkModeSelector===!0?e.options.darkModeSelector:(t=n.darkModeSelector)!=null?t:e.options.darkModeSelector):[]},getLayerOrder(n,e={},t,r){let{cssLayer:i}=e;return i?`@layer ${on(i.order||i.name||"primeui",t)}`:""},getCommonStyleSheet({name:n="",theme:e={},params:t,props:r={},set:i,defaults:o}){let s=this.getCommon({name:n,theme:e,params:t,set:i,defaults:o}),a=Object.entries(r).reduce((l,[u,d])=>l.push(`${u}="${d}"`)&&l,[]).join(" ");return Object.entries(s||{}).reduce((l,[u,d])=>{if(Wi(d)&&Object.hasOwn(d,"css")){let f=ia(d.css),g=`${u}-variables`;l.push(`<style type="text/css" data-primevue-style-id="${g}" ${a}>${f}</style>`)}return l},[]).join("")},getStyleSheet({name:n="",theme:e={},params:t,props:r={},set:i,defaults:o}){var s;let a={name:n,theme:e,params:t,set:i,defaults:o},l=(s=n.includes("-directive")?this.getPresetD(a):this.getPresetC(a))==null?void 0:s.css,u=Object.entries(r).reduce((d,[f,g])=>d.push(`${f}="${g}"`)&&d,[]).join(" ");return l?`<style type="text/css" data-primevue-style-id="${n}-variables" ${u}>${ia(l)}</style>`:""},createTokens(n={},e,t="",r="",i={}){let o=function(a,l={},u=[]){if(u.includes(this.path))return console.warn(`Circular reference detected at ${this.path}`),{colorScheme:a,path:this.path,paths:l,value:void 0};u.push(this.path),l.name=this.path,l.binding||(l.binding={});let d=this.value;if(typeof this.value=="string"&&Nd.test(this.value)){let f=this.value.trim().replace(Nd,g=>{var m;let v=g.slice(1,-1),w=this.tokens[v];if(!w)return console.warn(`Token not found for path: ${v}`),"__UNRESOLVED__";let M=w.computed(a,l,u);return Array.isArray(M)&&M.length===2?`light-dark(${M[0].value},${M[1].value})`:(m=M?.value)!=null?m:"__UNRESOLVED__"});d=sP.test(f.replace(aP,"0"))?`calc(${f})`:f}return di(l.binding)&&delete l.binding,u.pop(),{colorScheme:a,path:this.path,paths:l,value:d.includes("__UNRESOLVED__")?void 0:d}},s=(a,l,u)=>{Object.entries(a).forEach(([d,f])=>{let g=Hr(d,e.variable.excludedKeyRegex)?l:l?`${l}.${rP(d)}`:rP(d),m=u?`${u}.${d}`:d;Wi(f)?s(f,g,m):(i[g]||(i[g]={paths:[],computed:(v,w={},M=[])=>{if(i[g].paths.length===1)return i[g].paths[0].computed(i[g].paths[0].scheme,w.binding,M);if(v&&v!=="none")for(let O=0;O<i[g].paths.length;O++){let j=i[g].paths[O];if(j.scheme===v)return j.computed(v,w.binding,M)}return i[g].paths.map(O=>O.computed(O.scheme,w[O.scheme],M))}}),i[g].paths.push({path:m,value:f,scheme:m.includes("colorScheme.light")?"light":m.includes("colorScheme.dark")?"dark":"none",computed:o,tokens:i}))})};return s(n,t,r),i},getTokenValue(n,e,t){var r;let i=(a=>a.split(".").filter(l=>!Hr(l.toLowerCase(),t.variable.excludedKeyRegex)).join("."))(e),o=e.includes("colorScheme.light")?"light":e.includes("colorScheme.dark")?"dark":void 0,s=[(r=n[i])==null?void 0:r.computed(o)].flat().filter(a=>a);return s.length===1?s[0].value:s.reduce((a={},l)=>{let u=l,{colorScheme:d}=u,f=Qi(u,["colorScheme"]);return a[d]=f,a},void 0)},getSelectorRule(n,e,t,r){return t==="class"||t==="attr"?Hl(it(e)?`${n}${e},${n} ${e}`:n,r):Hl(n,Hl(e??":root,:host",r))},transformCSS(n,e,t,r,i={},o,s,a){if(it(e)){let{cssLayer:l}=i;if(r!=="style"){let u=this.getColorSchemeOption(i,s);e=t==="dark"?u.reduce((d,{type:f,selector:g})=>(it(g)&&(d+=g.includes("[CSS]")?g.replace("[CSS]",e):this.getSelectorRule(g,a,f,e)),d),""):Hl(a??":root,:host",e)}if(l){let u={name:"primeui",order:"primeui"};Wi(l)&&(u.name=on(l.name,{name:n,type:r})),it(u.name)&&(e=Hl(`@layer ${u.name}`,e),o?.layerNames(u.name))}return e}return""}},ut={defaults:{variable:{prefix:"p",selector:":root,:host",excludedKeyRegex:/^(primitive|semantic|components|directives|variables|colorscheme|light|dark|common|root|states|extend|css)$/gi},options:{prefix:"p",darkModeSelector:"system",cssLayer:!1}},_theme:void 0,_layerNames:new Set,_loadedStyleNames:new Set,_loadingStyles:new Set,_tokens:{},update(n={}){let{theme:e}=n;e&&(this._theme=O0(qr({},e),{options:qr(qr({},this.defaults.options),e.options)}),this._tokens=zr.createTokens(this.preset,this.defaults),this.clearLoadedStyleNames())},get theme(){return this._theme},get preset(){var n;return((n=this.theme)==null?void 0:n.preset)||{}},get options(){var n;return((n=this.theme)==null?void 0:n.options)||{}},get tokens(){return this._tokens},getTheme(){return this.theme},setTheme(n){this.update({theme:n}),tr.emit("theme:change",n)},getPreset(){return this.preset},setPreset(n){this._theme=O0(qr({},this.theme),{preset:n}),this._tokens=zr.createTokens(n,this.defaults),this.clearLoadedStyleNames(),tr.emit("preset:change",n),tr.emit("theme:change",this.theme)},getOptions(){return this.options},setOptions(n){this._theme=O0(qr({},this.theme),{options:n}),this.clearLoadedStyleNames(),tr.emit("options:change",n),tr.emit("theme:change",this.theme)},getLayerNames(){return[...this._layerNames]},setLayerNames(n){this._layerNames.add(n)},getLoadedStyleNames(){return this._loadedStyleNames},isStyleNameLoaded(n){return this._loadedStyleNames.has(n)},setLoadedStyleName(n){this._loadedStyleNames.add(n)},deleteLoadedStyleName(n){this._loadedStyleNames.delete(n)},clearLoadedStyleNames(){this._loadedStyleNames.clear()},getTokenValue(n){return zr.getTokenValue(this.tokens,n,this.defaults)},getCommon(n="",e){return zr.getCommon({name:n,theme:this.theme,params:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getComponent(n="",e){let t={name:n,theme:this.theme,params:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return zr.getPresetC(t)},getDirective(n="",e){let t={name:n,theme:this.theme,params:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return zr.getPresetD(t)},getCustomPreset(n="",e,t,r){let i={name:n,preset:e,options:this.options,selector:t,params:r,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return zr.getPreset(i)},getLayerOrderCSS(n=""){return zr.getLayerOrder(n,this.options,{names:this.getLayerNames()},this.defaults)},transformCSS(n="",e,t="style",r){return zr.transformCSS(n,e,r,t,this.options,{layerNames:this.setLayerNames.bind(this)},this.defaults)},getCommonStyleSheet(n="",e,t={}){return zr.getCommonStyleSheet({name:n,theme:this.theme,params:e,props:t,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getStyleSheet(n,e,t={}){return zr.getStyleSheet({name:n,theme:this.theme,params:e,props:t,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},onStyleMounted(n){this._loadingStyles.add(n)},onStyleUpdated(n){this._loadingStyles.add(n)},onStyleLoaded(n,{name:e}){this._loadingStyles.size&&(this._loadingStyles.delete(e),tr.emit(`theme:${e}:load`,n),!this._loadingStyles.size&&tr.emit("theme:load"))}};var dP=`
    *,
    ::before,
    ::after {
        box-sizing: border-box;
    }

    .p-collapsible-enter-active {
        animation: p-animate-collapsible-expand 0.2s ease-out;
        overflow: hidden;
    }

    .p-collapsible-leave-active {
        animation: p-animate-collapsible-collapse 0.2s ease-out;
        overflow: hidden;
    }

    @keyframes p-animate-collapsible-expand {
        from {
            grid-template-rows: 0fr;
        }
        to {
            grid-template-rows: 1fr;
        }
    }

    @keyframes p-animate-collapsible-collapse {
        from {
            grid-template-rows: 1fr;
        }
        to {
            grid-template-rows: 0fr;
        }
    }

    .p-disabled,
    .p-disabled * {
        cursor: default;
        pointer-events: none;
        user-select: none;
    }

    .p-disabled,
    .p-component:disabled {
        opacity: dt('disabled.opacity');
    }

    .pi {
        font-size: dt('icon.size');
    }

    .p-icon {
        width: dt('icon.size');
        height: dt('icon.size');
    }

    .p-overlay-mask {
        background: var(--px-mask-background, dt('mask.background'));
        color: dt('mask.color');
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .p-overlay-mask-enter-active {
        animation: p-animate-overlay-mask-enter dt('mask.transition.duration') forwards;
    }

    .p-overlay-mask-leave-active {
        animation: p-animate-overlay-mask-leave dt('mask.transition.duration') forwards;
    }

    @keyframes p-animate-overlay-mask-enter {
        from {
            background: transparent;
        }
        to {
            background: var(--px-mask-background, dt('mask.background'));
        }
    }
    @keyframes p-animate-overlay-mask-leave {
        from {
            background: var(--px-mask-background, dt('mask.background'));
        }
        to {
            background: transparent;
        }
    }

    .p-anchored-overlay-enter-active {
        animation: p-animate-anchored-overlay-enter 300ms cubic-bezier(.19,1,.22,1);
    }

    .p-anchored-overlay-leave-active {
        animation: p-animate-anchored-overlay-leave 300ms cubic-bezier(.19,1,.22,1);
    }

    @keyframes p-animate-anchored-overlay-enter {
        from {
            opacity: 0;
            transform: scale(0.93);
        }
    }

    @keyframes p-animate-anchored-overlay-leave {
        to {
            opacity: 0;
            transform: scale(0.93);
        }
    }
`;var M9=0,fP=(()=>{class n{document=T(et);use(t,r={}){let i=!1,o=t,s=null,{immediate:a=!0,manual:l=!1,name:u=`style_${++M9}`,id:d=void 0,media:f=void 0,nonce:g=void 0,first:m=!1,props:v={}}=r;if(this.document){if(s=this.document.querySelector(`style[data-primeng-style-id="${u}"]`)||d&&this.document.getElementById(d)||this.document.createElement("style"),s){if(!s.isConnected){o=t;let w=this.document.head;qR(s,"nonce",g),m&&w.firstChild?w.insertBefore(s,w.firstChild):w.appendChild(s),em(s,{type:"text/css",media:f,nonce:g,"data-primeng-style-id":u})}s.textContent!==o&&(s.textContent=o)}return{id:d,name:u,el:s,css:o}}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ql={_loadedStyleNames:new Set,getLoadedStyleNames(){return this._loadedStyleNames},isStyleNameLoaded(n){return this._loadedStyleNames.has(n)},setLoadedStyleName(n){this._loadedStyleNames.add(n)},deleteLoadedStyleName(n){this._loadedStyleNames.delete(n)},clearLoadedStyleNames(){this._loadedStyleNames.clear()}},N9=`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
}

.p-hidden-accessible input,
.p-hidden-accessible select {
    transform: scale(0);
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: dt('scrollbar.width');
}
`,ot=(()=>{class n{name="base";useStyle=T(fP);css=void 0;style=void 0;classes={};inlineStyles={};load=(t,r={},i=o=>o)=>{let o=i(zl`${on(t,{dt:Yi})}`);return o?this.useStyle.use(ia(o),N({name:this.name},r)):{}};loadCSS=(t={})=>this.load(this.css,t);loadStyle=(t={},r="")=>this.load(this.style,t,(i="")=>ut.transformCSS(t.name||this.name,`${i}${zl`${r}`}`));loadBaseCSS=(t={})=>this.load(N9,t);loadBaseStyle=(t={},r="")=>this.load(dP,t,(i="")=>ut.transformCSS(t.name||this.name,`${i}${zl`${r}`}`));getCommonTheme=t=>ut.getCommon(this.name,t);getComponentTheme=t=>ut.getComponent(this.name,t);getPresetTheme=(t,r,i)=>ut.getCustomPreset(this.name,t,r,i);getLayerOrderThemeCSS=()=>ut.getLayerOrderCSS(this.name);getStyleSheet=(t="",r={})=>{if(this.css){let i=on(this.css,{dt:Yi}),o=ia(zl`${i}${t}`),s=Object.entries(r).reduce((a,[l,u])=>a.push(`${l}="${u}"`)&&a,[]).join(" ");return`<style type="text/css" data-primeng-style-id="${this.name}" ${s}>${o}</style>`}return""};getCommonThemeStyleSheet=(t,r={})=>ut.getCommonStyleSheet(this.name,t,r);getThemeStyleSheet=(t,r={})=>{let i=[ut.getStyleSheet(this.name,t,r)];if(this.style){let o=this.name==="base"?"global-style":`${this.name}-style`,s=zl`${on(this.style,{dt:Yi})}`,a=ia(ut.transformCSS(o,s)),l=Object.entries(r).reduce((u,[d,f])=>u.push(`${d}="${f}"`)&&u,[]).join(" ");i.push(`<style type="text/css" data-primeng-style-id="${o}" ${l}>${a}</style>`)}return i.join("")};static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var x9=(()=>{class n{theme=Te(void 0);csp=Te({nonce:void 0});isThemeChanged=!1;document=T(et);baseStyle=T(ot);constructor(){qe(()=>{tr.on("theme:change",t=>{bt(()=>{this.isThemeChanged=!0,this.theme.set(t)})})}),qe(()=>{let t=this.theme();this.document&&t&&(this.isThemeChanged||this.onThemeChange(t),this.isThemeChanged=!1)})}ngOnDestroy(){ut.clearLoadedStyleNames(),tr.clear()}onThemeChange(t){ut.setTheme(t),this.document&&this.loadCommonTheme()}loadCommonTheme(){if(this.theme()!=="none"&&!ut.isStyleNameLoaded("common")){let{primitive:t,semantic:r,global:i,style:o}=this.baseStyle.getCommonTheme?.()||{},s={nonce:this.csp?.()?.nonce};this.baseStyle.load(t?.css,N({name:"primitive-variables"},s)),this.baseStyle.load(r?.css,N({name:"semantic-variables"},s)),this.baseStyle.load(i?.css,N({name:"global-variables"},s)),this.baseStyle.loadBaseStyle(N({name:"global-style"},s),o),ut.setLoadedStyleName("common")}}setThemeConfig(t){let{theme:r,csp:i}=t||{};r&&this.theme.set(r),i&&this.csp.set(i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hP=(()=>{class n extends x9{ripple=Te(!1);platformId=T(Or);inputStyle=Te(null);inputVariant=Te(null);overlayAppendTo=Te("self");overlayOptions={};csp=Te({nonce:void 0});unstyled=Te(void 0);pt=Te(void 0);ptOptions=Te(void 0);filterMatchModeOptions={text:[gn.STARTS_WITH,gn.CONTAINS,gn.NOT_CONTAINS,gn.ENDS_WITH,gn.EQUALS,gn.NOT_EQUALS],numeric:[gn.EQUALS,gn.NOT_EQUALS,gn.LESS_THAN,gn.LESS_THAN_OR_EQUAL_TO,gn.GREATER_THAN,gn.GREATER_THAN_OR_EQUAL_TO],date:[gn.DATE_IS,gn.DATE_IS_NOT,gn.DATE_BEFORE,gn.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",completed:"Completed",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"Search results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",fileChosenMessage:"Files",noFileChosenMessage:"No file chosen",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize",minimizeLabel:"Minimize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new Nt;translationObserver=this.translationSource.asObservable();getTranslation(t){return this.translation[t]}setTranslation(t){this.translation=N(N({},this.translation),t),this.translationSource.next(this.translation)}setConfig(t){let{csp:r,ripple:i,inputStyle:o,inputVariant:s,theme:a,overlayOptions:l,translation:u,filterMatchModeOptions:d,overlayAppendTo:f,zIndex:g,ptOptions:m,pt:v,unstyled:w}=t||{};r&&this.csp.set(r),f&&this.overlayAppendTo.set(f),i&&this.ripple.set(i),o&&this.inputStyle.set(o),s&&this.inputVariant.set(s),l&&(this.overlayOptions=l),u&&this.setTranslation(u),d&&(this.filterMatchModeOptions=d),g&&(this.zIndex=g),v&&this.pt.set(v),m&&this.ptOptions.set(m),w&&this.unstyled.set(w),a&&this.setThemeConfig({theme:a,csp:r})}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ee(n)))(i||n)}})();static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var pP=(()=>{class n extends ot{name="common";static \u0275fac=(()=>{let t;return function(i){return(t||(t=ee(n)))(i||n)}})();static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),It=new q("PARENT_INSTANCE"),mt=(()=>{class n{document=T(et);platformId=T(Or);el=T(hn);injector=T(bn);cd=T(Gs);renderer=T(kr);config=T(hP);$parentInstance=T(It,{optional:!0,skipSelf:!0})??void 0;baseComponentStyle=T(pP);baseStyle=T(ot);scopedStyleEl;parent=this.$params.parent;cn=$o;_themeScopedListener;themeChangeListenerMap=new Map;dt=$();unstyled=$();pt=$();ptOptions=$();$attrSelector=Ki("pc");get $name(){return this.componentName||"UnknownComponent"}get $hostName(){return this.hostName}get $el(){return this.el?.nativeElement}directivePT=Te(void 0);directiveUnstyled=Te(void 0);$unstyled=He(()=>this.unstyled()??this.directiveUnstyled()??this.config?.unstyled()??!1);$pt=He(()=>on(this.pt()||this.directivePT(),this.$params));get $globalPT(){return this._getPT(this.config?.pt(),void 0,t=>on(t,this.$params))}get $defaultPT(){return this._getPT(this.config?.pt(),void 0,t=>this._getOptionValue(t,this.$hostName||this.$name,this.$params)||on(t,this.$params))}get $style(){return N(N({theme:void 0,css:void 0,classes:void 0,inlineStyles:void 0},(this._getHostInstance(this)||{}).$style),this._componentStyle)}get $styleOptions(){return{nonce:this.config?.csp().nonce}}get $params(){let t=this._getHostInstance(this)||this.$parentInstance;return{instance:this,parent:{instance:t}}}onInit(){}onChanges(t){}onDoCheck(){}onAfterContentInit(){}onAfterContentChecked(){}onAfterViewInit(){}onAfterViewChecked(){}onDestroy(){}constructor(){qe(t=>{this.document&&!yw(this.platformId)&&(this.dt()?(this._loadScopedThemeStyles(this.dt()),this._themeScopedListener=()=>this._loadScopedThemeStyles(this.dt()),this._themeChangeListener("_themeScopedListener",this._themeScopedListener)):this._unloadScopedThemeStyles()),t(()=>{this._offThemeChangeListener("_themeScopedListener")})}),qe(t=>{this.document&&!yw(this.platformId)&&(this.$unstyled()||(this._loadCoreStyles(),this._themeChangeListener("_loadCoreStyles",this._loadCoreStyles))),t(()=>{this._offThemeChangeListener("_loadCoreStyles")})}),this._hook("onBeforeInit")}ngOnInit(){this._loadCoreStyles(),this._loadStyles(),this.onInit(),this._hook("onInit")}ngOnChanges(t){this.onChanges(t),this._hook("onChanges",t)}ngDoCheck(){this.onDoCheck(),this._hook("onDoCheck")}ngAfterContentInit(){this.onAfterContentInit(),this._hook("onAfterContentInit")}ngAfterContentChecked(){this.onAfterContentChecked(),this._hook("onAfterContentChecked")}ngAfterViewInit(){this.$el?.setAttribute(this.$attrSelector,""),this.onAfterViewInit(),this._hook("onAfterViewInit")}ngAfterViewChecked(){this.onAfterViewChecked(),this._hook("onAfterViewChecked")}ngOnDestroy(){this._removeThemeListeners(),this._unloadScopedThemeStyles(),this.onDestroy(),this._hook("onDestroy")}_mergeProps(t,...r){return rm(t)?t(...r):N0(...r)}_getHostInstance(t){return t?this.$hostName?this.$name===this.$hostName?t:this._getHostInstance(t.$parentInstance):t.$parentInstance:void 0}_getPropValue(t){return this[t]||this._getHostInstance(this)?.[t]}_getOptionValue(t,r="",i={}){return im(t,r,i)}_hook(t,...r){if(!this.$hostName){let i=this._usePT(this._getPT(this.$pt(),this.$name),this._getOptionValue,`hooks.${t}`),o=this._useDefaultPT(this._getOptionValue,`hooks.${t}`);i?.(...r),o?.(...r)}}_load(){ql.isStyleNameLoaded("base")||(this.baseStyle.loadBaseCSS(this.$styleOptions),this._loadGlobalStyles(),ql.setLoadedStyleName("base")),this._loadThemeStyles()}_loadStyles(){this._load(),this._themeChangeListener("_load",()=>this._load())}_loadGlobalStyles(){let t=this._useGlobalPT(this._getOptionValue,"global.css",this.$params);it(t)&&this.baseStyle.load(t,N({name:"global"},this.$styleOptions))}_loadCoreStyles(){!ql.isStyleNameLoaded(this.$style?.name)&&this.$style?.name&&(this.baseComponentStyle.loadCSS(this.$styleOptions),this.$style.loadCSS(this.$styleOptions),ql.setLoadedStyleName(this.$style.name))}_loadThemeStyles(){if(!(this.$unstyled()||this.config?.theme()==="none")){if(!ut.isStyleNameLoaded("common")){let{primitive:t,semantic:r,global:i,style:o}=this.$style?.getCommonTheme?.()||{};this.baseStyle.load(t?.css,N({name:"primitive-variables"},this.$styleOptions)),this.baseStyle.load(r?.css,N({name:"semantic-variables"},this.$styleOptions)),this.baseStyle.load(i?.css,N({name:"global-variables"},this.$styleOptions)),this.baseStyle.loadBaseStyle(N({name:"global-style"},this.$styleOptions),o),ut.setLoadedStyleName("common")}if(!ut.isStyleNameLoaded(this.$style?.name)&&this.$style?.name){let{css:t,style:r}=this.$style?.getComponentTheme?.()||{};this.$style?.load(t,N({name:`${this.$style?.name}-variables`},this.$styleOptions)),this.$style?.loadStyle(N({name:`${this.$style?.name}-style`},this.$styleOptions),r),ut.setLoadedStyleName(this.$style?.name)}if(!ut.isStyleNameLoaded("layer-order")){let t=this.$style?.getLayerOrderThemeCSS?.();this.baseStyle.load(t,N({name:"layer-order",first:!0},this.$styleOptions)),ut.setLoadedStyleName("layer-order")}}}_loadScopedThemeStyles(t){let{css:r}=this.$style?.getPresetTheme?.(t,`[${this.$attrSelector}]`)||{},i=this.$style?.load(r,N({name:`${this.$attrSelector}-${this.$style?.name}`},this.$styleOptions));this.scopedStyleEl=i?.el}_unloadScopedThemeStyles(){this.scopedStyleEl?.remove()}_themeChangeListener(t,r=()=>{}){this._offThemeChangeListener(t),ql.clearLoadedStyleNames();let i=r.bind(this);this.themeChangeListenerMap.set(t,i),tr.on("theme:change",i)}_removeThemeListeners(){this._offThemeChangeListener("_themeScopedListener"),this._offThemeChangeListener("_loadCoreStyles"),this._offThemeChangeListener("_load")}_offThemeChangeListener(t){this.themeChangeListenerMap.has(t)&&(tr.off("theme:change",this.themeChangeListenerMap.get(t)),this.themeChangeListenerMap.delete(t))}_getPTValue(t={},r="",i={},o=!0){let s=/./g.test(r)&&!!i[r.split(".")[0]],{mergeSections:a=!0,mergeProps:l=!1}=this._getPropValue("ptOptions")?.()||this.config?.ptOptions?.()||{},u=o?s?this._useGlobalPT(this._getPTClassValue,r,i):this._useDefaultPT(this._getPTClassValue,r,i):void 0,d=s?void 0:this._usePT(this._getPT(t,this.$hostName||this.$name),this._getPTClassValue,r,re(N({},i),{global:u||{}})),f=this._getPTDatasets(r);return a||!a&&d?l?this._mergeProps(l,u,d,f):N(N(N({},u),d),f):N(N({},d),f)}_getPTDatasets(t=""){let r="data-pc-",i=t==="root"&&it(this.$pt()?.["data-pc-section"]);return t!=="transition"&&re(N({},t==="root"&&re(N({[`${r}name`]:Ho(i?this.$pt()?.["data-pc-section"]:this.$name)},i&&{[`${r}extend`]:Ho(this.$name)}),{[`${this.$attrSelector}`]:""})),{[`${r}section`]:Ho(t.includes(".")?t.split(".").at(-1)??"":t)})}_getPTClassValue(t,r,i){let o=this._getOptionValue(t,r,i);return _r(o)||R0(o)?{class:o}:o}_getPT(t,r="",i){let o=(s,a=!1)=>{let l=i?i(s):s,u=Ho(r),d=Ho(this.$hostName||this.$name);return(a?u!==d?l?.[u]:void 0:l?.[u])??l};return t?.hasOwnProperty("_usept")?{_usept:t._usept,originalValue:o(t.originalValue),value:o(t.value)}:o(t,!0)}_usePT(t,r,i,o){let s=a=>r?.call(this,a,i,o);if(t?.hasOwnProperty("_usept")){let{mergeSections:a=!0,mergeProps:l=!1}=t._usept||this.config?.ptOptions()||{},u=s(t.originalValue),d=s(t.value);return u===void 0&&d===void 0?void 0:_r(d)?d:_r(u)?u:a||!a&&d?l?this._mergeProps(l,u,d):N(N({},u),d):d}return s(t)}_useGlobalPT(t,r,i){return this._usePT(this.$globalPT,t,r,i)}_useDefaultPT(t,r,i){return this._usePT(this.$defaultPT,t,r,i)}ptm(t="",r={}){return this._getPTValue(this.$pt(),t,N(N({},this.$params),r))}ptms(t,r={}){return t.reduce((i,o)=>(i=N0(i,this.ptm(o,r))||{},i),{})}ptmo(t={},r="",i={}){return this._getPTValue(t,r,N({instance:this},i),!1)}cx(t,r={}){return this.$unstyled()?void 0:$o(this._getOptionValue(this.$style.classes,t,N(N({},this.$params),r)))}sx(t="",r=!0,i={}){if(r){let o=this._getOptionValue(this.$style.inlineStyles,t,N(N({},this.$params),i)),s=this._getOptionValue(this.baseComponentStyle.inlineStyles,t,N(N({},this.$params),i));return N(N({},s),o)}}static \u0275fac=function(r){return new(r||n)};static \u0275dir=de({type:n,inputs:{dt:[1,"dt"],unstyled:[1,"unstyled"],pt:[1,"pt"],ptOptions:[1,"ptOptions"]},features:[Fe([pP,ot]),fr]})}return n})();var gP=(()=>{class n{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(t,r){t&&r&&(t.classList?t.classList.add(r):t.className+=" "+r)}static addMultipleClasses(t,r){if(t&&r)if(t.classList){let i=r.trim().split(" ");for(let o=0;o<i.length;o++)t.classList.add(i[o])}else{let i=r.split(" ");for(let o=0;o<i.length;o++)t.className+=" "+i[o]}}static removeClass(t,r){t&&r&&(t.classList?t.classList.remove(r):t.className=t.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(t,r){t&&r&&[r].flat().filter(Boolean).forEach(i=>i.split(" ").forEach(o=>this.removeClass(t,o)))}static hasClass(t,r){return t&&r?t.classList?t.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(t.className):!1}static siblings(t){return Array.prototype.filter.call(t.parentNode.children,function(r){return r!==t})}static find(t,r){return Array.from(t.querySelectorAll(r))}static findSingle(t,r){return this.isElement(t)?t.querySelector(r):null}static index(t){let r=t.parentNode.childNodes,i=0;for(var o=0;o<r.length;o++){if(r[o]==t)return i;r[o].nodeType==1&&i++}return-1}static indexWithinGroup(t,r){let i=t.parentNode?t.parentNode.childNodes:[],o=0;for(var s=0;s<i.length;s++){if(i[s]==t)return o;i[s].attributes&&i[s].attributes[r]&&i[s].nodeType==1&&o++}return-1}static appendOverlay(t,r,i="self"){i!=="self"&&t&&r&&this.appendChild(t,r)}static alignOverlay(t,r,i="self",o=!0){t&&r&&(o&&(t.style.minWidth=`${n.getOuterWidth(r)}px`),i==="self"?this.relativePosition(t,r):this.absolutePosition(t,r))}static relativePosition(t,r,i=!0){let o=z=>{if(z)return getComputedStyle(z).getPropertyValue("position")==="relative"?z:o(z.parentElement)},s=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),a=r.offsetHeight,l=r.getBoundingClientRect(),u=this.getWindowScrollTop(),d=this.getWindowScrollLeft(),f=this.getViewport(),m=o(t)?.getBoundingClientRect()||{top:-1*u,left:-1*d},v,w,M="top";l.top+a+s.height>f.height?(v=l.top-m.top-s.height,M="bottom",l.top+v<0&&(v=-1*l.top)):(v=a+l.top-m.top,M="top");let O=l.left+s.width-f.width,j=l.left-m.left;if(s.width>f.width?w=(l.left-m.left)*-1:O>0?w=j-O:w=l.left-m.left,t.style.top=v+"px",t.style.left=w+"px",t.style.transformOrigin=M,i){let z=VR(/-anchor-gutter$/)?.value;t.style.marginTop=M==="bottom"?`calc(${z??"2px"} * -1)`:z??""}}static absolutePosition(t,r,i=!0){let o=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),s=o.height,a=o.width,l=r.offsetHeight,u=r.offsetWidth,d=r.getBoundingClientRect(),f=this.getWindowScrollTop(),g=this.getWindowScrollLeft(),m=this.getViewport(),v,w;d.top+l+s>m.height?(v=d.top+f-s,t.style.transformOrigin="bottom",v<0&&(v=f)):(v=l+d.top+f,t.style.transformOrigin="top"),d.left+a>m.width?w=Math.max(0,d.left+g+u-a):w=d.left+g,t.style.top=v+"px",t.style.left=w+"px",i&&(t.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(t,r=[]){return t.parentNode===null?r:this.getParents(t.parentNode,r.concat([t.parentNode]))}static getScrollableParents(t){let r=[];if(t){let i=this.getParents(t),o=/(auto|scroll)/,s=a=>{let l=window.getComputedStyle(a,null);return o.test(l.getPropertyValue("overflow"))||o.test(l.getPropertyValue("overflowX"))||o.test(l.getPropertyValue("overflowY"))};for(let a of i){let l=a.nodeType===1&&a.dataset.scrollselectors;if(l){let u=l.split(",");for(let d of u){let f=this.findSingle(a,d);f&&s(f)&&r.push(f)}}a.nodeType!==9&&s(a)&&r.push(a)}}return r}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let r=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",r}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let r=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",r}static getHiddenElementDimensions(t){let r={};return t.style.visibility="hidden",t.style.display="block",r.width=t.offsetWidth,r.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",r}static scrollInView(t,r){let i=getComputedStyle(t).getPropertyValue("borderTopWidth"),o=i?parseFloat(i):0,s=getComputedStyle(t).getPropertyValue("paddingTop"),a=s?parseFloat(s):0,l=t.getBoundingClientRect(),d=r.getBoundingClientRect().top+document.body.scrollTop-(l.top+document.body.scrollTop)-o-a,f=t.scrollTop,g=t.clientHeight,m=this.getOuterHeight(r);d<0?t.scrollTop=f+d:d+m>g&&(t.scrollTop=f+d-g+m)}static fadeIn(t,r){t.style.opacity=0;let i=+new Date,o=0,s=function(){o=+t.style.opacity.replace(",",".")+(new Date().getTime()-i)/r,t.style.opacity=o,i=+new Date,+o<1&&(window.requestAnimationFrame?window.requestAnimationFrame(s):setTimeout(s,16))};s()}static fadeOut(t,r){var i=1,o=50,s=r,a=o/s;let l=setInterval(()=>{i=i-a,i<=0&&(i=0,clearInterval(l)),t.style.opacity=i},o)}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static matches(t,r){var i=Element.prototype,o=i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(s){return[].indexOf.call(document.querySelectorAll(s),this)!==-1};return o.call(t,r)}static getOuterWidth(t,r){let i=t.offsetWidth;if(r){let o=getComputedStyle(t);i+=parseFloat(o.marginLeft)+parseFloat(o.marginRight)}return i}static getHorizontalPadding(t){let r=getComputedStyle(t);return parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)}static getHorizontalMargin(t){let r=getComputedStyle(t);return parseFloat(r.marginLeft)+parseFloat(r.marginRight)}static innerWidth(t){let r=t.offsetWidth,i=getComputedStyle(t);return r+=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}static width(t){let r=t.offsetWidth,i=getComputedStyle(t);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}static getInnerHeight(t){let r=t.offsetHeight,i=getComputedStyle(t);return r+=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom),r}static getOuterHeight(t,r){let i=t.offsetHeight;if(r){let o=getComputedStyle(t);i+=parseFloat(o.marginTop)+parseFloat(o.marginBottom)}return i}static getHeight(t){let r=t.offsetHeight,i=getComputedStyle(t);return r-=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom)+parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth),r}static getWidth(t){let r=t.offsetWidth,i=getComputedStyle(t);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)+parseFloat(i.borderLeftWidth)+parseFloat(i.borderRightWidth),r}static getViewport(){let t=window,r=document,i=r.documentElement,o=r.getElementsByTagName("body")[0],s=t.innerWidth||i.clientWidth||o.clientWidth,a=t.innerHeight||i.clientHeight||o.clientHeight;return{width:s,height:a}}static getOffset(t){var r=t.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(t,r){let i=t.parentNode;if(!i)throw"Can't replace element";return i.replaceChild(r,t)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var t=window.navigator.userAgent,r=t.indexOf("MSIE ");if(r>0)return!0;var i=t.indexOf("Trident/");if(i>0){var o=t.indexOf("rv:");return!0}var s=t.indexOf("Edge/");return s>0}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(t,r){if(this.isElement(r))r.appendChild(t);else if(r&&r.el&&r.el.nativeElement)r.el.nativeElement.appendChild(t);else throw"Cannot append "+r+" to "+t}static removeChild(t,r){if(this.isElement(r))r.removeChild(t);else if(r.el&&r.el.nativeElement)r.el.nativeElement.removeChild(t);else throw"Cannot remove "+t+" from "+r}static removeElement(t){"remove"in Element.prototype?t.remove():t.parentNode?.removeChild(t)}static isElement(t){return typeof HTMLElement=="object"?t instanceof HTMLElement:t&&typeof t=="object"&&t!==null&&t.nodeType===1&&typeof t.nodeName=="string"}static calculateScrollbarWidth(t){if(t){let r=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.borderRightWidth)}else{if(this.calculatedScrollbarWidth!==null)return this.calculatedScrollbarWidth;let r=document.createElement("div");r.className="p-scrollbar-measure",document.body.appendChild(r);let i=r.offsetWidth-r.clientWidth;return document.body.removeChild(r),this.calculatedScrollbarWidth=i,i}}static calculateScrollbarHeight(){if(this.calculatedScrollbarHeight!==null)return this.calculatedScrollbarHeight;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let r=t.offsetHeight-t.clientHeight;return document.body.removeChild(t),this.calculatedScrollbarWidth=r,r}static invokeElementMethod(t,r,i){t[r].apply(t,i)}static clearSelection(){if(window.getSelection&&window.getSelection())window.getSelection()?.empty?window.getSelection()?.empty():window.getSelection()?.removeAllRanges&&(window.getSelection()?.rangeCount||0)>0&&(window.getSelection()?.getRangeAt(0)?.getClientRects()?.length||0)>0&&window.getSelection()?.removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),r=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:r[1]||"",version:r[2]||"0"}}static isInteger(t){return Number.isInteger?Number.isInteger(t):typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}static isHidden(t){return!t||t.offsetParent===null}static isVisible(t){return t&&t.offsetParent!=null}static isExist(t){return t!==null&&typeof t<"u"&&t.nodeName&&t.parentNode}static focus(t,r){t&&document.activeElement!==t&&t.focus(r)}static getFocusableSelectorString(t=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t}`}static getFocusableElements(t,r=""){let i=this.find(t,this.getFocusableSelectorString(r)),o=[];for(let s of i){let a=getComputedStyle(s);this.isVisible(s)&&a.display!="none"&&a.visibility!="hidden"&&o.push(s)}return o}static getFocusableElement(t,r=""){let i=this.findSingle(t,this.getFocusableSelectorString(r));if(i){let o=getComputedStyle(i);if(this.isVisible(i)&&o.display!="none"&&o.visibility!="hidden")return i}return null}static getFirstFocusableElement(t,r=""){let i=this.getFocusableElements(t,r);return i.length>0?i[0]:null}static getLastFocusableElement(t,r){let i=this.getFocusableElements(t,r);return i.length>0?i[i.length-1]:null}static getNextFocusableElement(t,r=!1){let i=n.getFocusableElements(t),o=0;if(i&&i.length>0){let s=i.indexOf(i[0].ownerDocument.activeElement);r?s==-1||s===0?o=i.length-1:o=s-1:s!=-1&&s!==i.length-1&&(o=s+1)}return i[o]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection()?.toString():document.getSelection?document.getSelection()?.toString():document.selection?document.selection.createRange().text:null}static getTargetElement(t,r){if(!t)return null;switch(t){case"document":return document;case"window":return window;case"@next":return r?.nextElementSibling;case"@prev":return r?.previousElementSibling;case"@parent":return r?.parentElement;case"@grandparent":return r?.parentElement?.parentElement;default:let i=typeof t;if(i==="string")return document.querySelector(t);if(i==="object"&&t.hasOwnProperty("nativeElement"))return this.isExist(t.nativeElement)?t.nativeElement:void 0;let s=(a=>!!(a&&a.constructor&&a.call&&a.apply))(t)?t():t;return s&&s.nodeType===9||this.isExist(s)?s:null}}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(t,r){if(t){let i=t.getAttribute(r);return isNaN(i)?i==="true"||i==="false"?i==="true":i:+i}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(t="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,t)}static unblockBodyScroll(t="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,t)}static createElement(t,r={},...i){if(t){let o=document.createElement(t);return this.setAttributes(o,r),o.append(...i),o}}static setAttribute(t,r="",i){this.isElement(t)&&i!==null&&i!==void 0&&t.setAttribute(r,i)}static setAttributes(t,r={}){if(this.isElement(t)){let i=(o,s)=>{let a=t?.$attrs?.[o]?[t?.$attrs?.[o]]:[];return[s].flat().reduce((l,u)=>{if(u!=null){let d=typeof u;if(d==="string"||d==="number")l.push(u);else if(d==="object"){let f=Array.isArray(u)?i(o,u):Object.entries(u).map(([g,m])=>o==="style"&&(m||m===0)?`${g.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${m}`:m?g:void 0);l=f.length?l.concat(f.filter(g=>!!g)):l}}return l},a)};Object.entries(r).forEach(([o,s])=>{if(s!=null){let a=o.match(/^on(.+)/);a?t.addEventListener(a[1].toLowerCase(),s):o==="pBind"?this.setAttributes(t,s):(s=o==="class"?[...new Set(i("class",s))].join(" ").trim():o==="style"?i("style",s).join(";").trim():s,(t.$attrs=t.$attrs||{})&&(t.$attrs[o]=s),t.setAttribute(o,s))}})}}static isFocusableElement(t,r=""){return this.isElement(t)?t.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r}`):!1}}return n})();var mP=(()=>{class n extends mt{autofocus=!1;focused=!1;platformId=T(Or);document=T(et);host=T(hn);onAfterContentChecked(){this.autofocus===!1?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autoFocus()}onAfterViewChecked(){this.focused||this.autoFocus()}autoFocus(){Il(this.platformId)&&this.autofocus&&setTimeout(()=>{let t=gP.getFocusableElements(this.host?.nativeElement);t.length===0&&this.host.nativeElement.focus(),t.length>0&&t[0].focus(),this.focused=!0})}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ee(n)))(i||n)}})();static \u0275dir=de({type:n,selectors:[["","pAutoFocus",""]],inputs:{autofocus:[0,"pAutoFocus","autofocus"]},features:[oe]})}return n})();var he=(()=>{class n{el;renderer;pBind=$(void 0);_attrs=Te(void 0);attrs=He(()=>this._attrs()||this.pBind());styles=He(()=>this.attrs()?.style);classes=He(()=>$o(this.attrs()?.class));listeners=[];constructor(t,r){this.el=t,this.renderer=r,qe(()=>{let a=this.attrs()||{},{style:i,class:o}=a,s=$a(a,["style","class"]);for(let[l,u]of Object.entries(s))if(l.startsWith("on")&&typeof u=="function"){let d=l.slice(2).toLowerCase();if(!this.listeners.some(f=>f.eventName===d)){let f=this.renderer.listen(this.el.nativeElement,d,u);this.listeners.push({eventName:d,unlisten:f})}}else u==null?this.renderer.removeAttribute(this.el.nativeElement,l):(this.renderer.setAttribute(this.el.nativeElement,l,u.toString()),l in this.el.nativeElement&&(this.el.nativeElement[l]=u))})}ngOnDestroy(){this.clearListeners()}setAttrs(t){ra(this._attrs(),t)||this._attrs.set(t)}clearListeners(){this.listeners.forEach(({unlisten:t})=>t()),this.listeners=[]}static \u0275fac=function(r){return new(r||n)(te(hn),te(kr))};static \u0275dir=de({type:n,selectors:[["","pBind",""]],hostVars:4,hostBindings:function(r,i){r&2&&(qs(i.styles()),ge(i.classes()))},inputs:{pBind:[1,"pBind"]}})}return n})(),zn=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=$e({type:n});static \u0275inj=je({})}return n})();var yP=`
    .p-badge {
        display: inline-flex;
        border-radius: dt('badge.border.radius');
        align-items: center;
        justify-content: center;
        padding: dt('badge.padding');
        background: dt('badge.primary.background');
        color: dt('badge.primary.color');
        font-size: dt('badge.font.size');
        font-weight: dt('badge.font.weight');
        min-width: dt('badge.min.width');
        height: dt('badge.height');
    }

    .p-badge-dot {
        width: dt('badge.dot.size');
        min-width: dt('badge.dot.size');
        height: dt('badge.dot.size');
        border-radius: 50%;
        padding: 0;
    }

    .p-badge-circle {
        padding: 0;
        border-radius: 50%;
    }

    .p-badge-secondary {
        background: dt('badge.secondary.background');
        color: dt('badge.secondary.color');
    }

    .p-badge-success {
        background: dt('badge.success.background');
        color: dt('badge.success.color');
    }

    .p-badge-info {
        background: dt('badge.info.background');
        color: dt('badge.info.color');
    }

    .p-badge-warn {
        background: dt('badge.warn.background');
        color: dt('badge.warn.color');
    }

    .p-badge-danger {
        background: dt('badge.danger.background');
        color: dt('badge.danger.color');
    }

    .p-badge-contrast {
        background: dt('badge.contrast.background');
        color: dt('badge.contrast.color');
    }

    .p-badge-sm {
        font-size: dt('badge.sm.font.size');
        min-width: dt('badge.sm.min.width');
        height: dt('badge.sm.height');
    }

    .p-badge-lg {
        font-size: dt('badge.lg.font.size');
        min-width: dt('badge.lg.min.width');
        height: dt('badge.lg.height');
    }

    .p-badge-xl {
        font-size: dt('badge.xl.font.size');
        min-width: dt('badge.xl.min.width');
        height: dt('badge.xl.height');
    }
`;var R9=`
    ${yP}

    /* For PrimeNG (directive)*/
    .p-overlay-badge {
        position: relative;
    }

    .p-overlay-badge > .p-badge {
        position: absolute;
        top: 0;
        inset-inline-end: 0;
        transform: translate(50%, -50%);
        transform-origin: 100% 0;
        margin: 0;
    }
`,P9={root:({instance:n})=>{let e=typeof n.value=="function"?n.value():n.value,t=typeof n.size=="function"?n.size():n.size,r=typeof n.badgeSize=="function"?n.badgeSize():n.badgeSize,i=typeof n.severity=="function"?n.severity():n.severity;return["p-badge p-component",{"p-badge-circle":it(e)&&String(e).length===1,"p-badge-dot":di(e),"p-badge-sm":t==="small"||r==="small","p-badge-lg":t==="large"||r==="large","p-badge-xl":t==="xlarge"||r==="xlarge","p-badge-info":i==="info","p-badge-success":i==="success","p-badge-warn":i==="warn","p-badge-danger":i==="danger","p-badge-secondary":i==="secondary","p-badge-contrast":i==="contrast"}]}},vP=(()=>{class n extends ot{name="badge";style=R9;classes=P9;static \u0275fac=(()=>{let t;return function(i){return(t||(t=ee(n)))(i||n)}})();static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();var _P=new q("BADGE_INSTANCE");var F0=(()=>{class n extends mt{componentName="Badge";$pcBadge=T(_P,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=T(he,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}styleClass=$();badgeSize=$();size=$();severity=$();value=$();badgeDisabled=$(!1,{transform:Ee});_componentStyle=T(vP);get dataP(){return this.cn({circle:this.value()!=null&&String(this.value()).length===1,empty:this.value()==null,disabled:this.badgeDisabled(),[this.severity()]:this.severity(),[this.size()]:this.size()})}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ee(n)))(i||n)}})();static \u0275cmp=Oe({type:n,selectors:[["p-badge"]],hostVars:5,hostBindings:function(r,i){r&2&&(Ge("data-p",i.dataP),ge(i.cn(i.cx("root"),i.styleClass())),Bp("display",i.badgeDisabled()?"none":null))},inputs:{styleClass:[1,"styleClass"],badgeSize:[1,"badgeSize"],size:[1,"size"],severity:[1,"severity"],value:[1,"value"],badgeDisabled:[1,"badgeDisabled"]},features:[Fe([vP,{provide:_P,useExisting:n},{provide:It,useExisting:n}]),At([he]),oe],decls:1,vars:1,template:function(r,i){r&1&&ie(0),r&2&&Pt(i.value())},dependencies:[Ct,Bt,zn],encapsulation:2,changeDetection:0})}return n})(),bP=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=$e({type:n});static \u0275inj=je({imports:[F0,Bt,Bt]})}return n})();var k9=["*"],F9={root:"p-fluid"},EP=(()=>{class n extends ot{name="fluid";classes=F9;static \u0275fac=(()=>{let t;return function(i){return(t||(t=ee(n)))(i||n)}})();static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();var wP=new q("FLUID_INSTANCE"),oa=(()=>{class n extends mt{componentName="Fluid";$pcFluid=T(wP,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=T(he,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}_componentStyle=T(EP);static \u0275fac=(()=>{let t;return function(i){return(t||(t=ee(n)))(i||n)}})();static \u0275cmp=Oe({type:n,selectors:[["p-fluid"]],hostVars:2,hostBindings:function(r,i){r&2&&ge(i.cx("root"))},features:[Fe([EP,{provide:wP,useExisting:n},{provide:It,useExisting:n}]),At([he]),oe],ngContentSelectors:k9,decls:1,vars:0,template:function(r,i){r&1&&(In(),Lt(0))},dependencies:[Ct],encapsulation:2,changeDetection:0})}return n})();var L9=["*"],V9=`
.p-icon {
    display: inline-block;
    vertical-align: baseline;
    flex-shrink: 0;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,CP=(()=>{class n extends ot{name="baseicon";css=V9;static \u0275fac=(()=>{let t;return function(i){return(t||(t=ee(n)))(i||n)}})();static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var qo=(()=>{class n extends mt{spin=!1;_componentStyle=T(CP);getClassNames(){return $o("p-icon",{"p-icon-spin":this.spin})}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ee(n)))(i||n)}})();static \u0275cmp=Oe({type:n,selectors:[["ng-component"]],hostAttrs:["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],hostVars:2,hostBindings:function(r,i){r&2&&ge(i.getClassNames())},inputs:{spin:[2,"spin","spin",Ee]},features:[Fe([CP]),oe],ngContentSelectors:L9,decls:1,vars:0,template:function(r,i){r&1&&(In(),Lt(0))},encapsulation:2,changeDetection:0})}return n})();var B9=["data-p-icon","check"],IP=(()=>{class n extends qo{static \u0275fac=(()=>{let t;return function(i){return(t||(t=ee(n)))(i||n)}})();static \u0275cmp=Oe({type:n,selectors:[["","data-p-icon","check"]],features:[oe],attrs:B9,decls:1,vars:0,consts:[["d","M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z","fill","currentColor"]],template:function(r,i){r&1&&(nn(),pr(0,"path",0))},encapsulation:2})}return n})();var j9=["data-p-icon","minus"],cm=(()=>{class n extends qo{static \u0275fac=(()=>{let t;return function(i){return(t||(t=ee(n)))(i||n)}})();static \u0275cmp=Oe({type:n,selectors:[["","data-p-icon","minus"]],features:[oe],attrs:j9,decls:1,vars:0,consts:[["d","M13.2222 7.77778H0.777778C0.571498 7.77778 0.373667 7.69584 0.227806 7.54998C0.0819442 7.40412 0 7.20629 0 7.00001C0 6.79373 0.0819442 6.5959 0.227806 6.45003C0.373667 6.30417 0.571498 6.22223 0.777778 6.22223H13.2222C13.4285 6.22223 13.6263 6.30417 13.7722 6.45003C13.9181 6.5959 14 6.79373 14 7.00001C14 7.20629 13.9181 7.40412 13.7722 7.54998C13.6263 7.69584 13.4285 7.77778 13.2222 7.77778Z","fill","currentColor"]],template:function(r,i){r&1&&(nn(),pr(0,"path",0))},encapsulation:2})}return n})();var U9=["data-p-icon","plus"],DP=(()=>{class n extends qo{pathId;onInit(){this.pathId="url(#"+Ki()+")"}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ee(n)))(i||n)}})();static \u0275cmp=Oe({type:n,selectors:[["","data-p-icon","plus"]],features:[oe],attrs:U9,decls:5,vars:2,consts:[["d","M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,i){r&1&&(nn(),Pi(0,"g"),pr(1,"path",0),Oi(),Pi(2,"defs")(3,"clipPath",1),pr(4,"rect",2),Oi()()),r&2&&(Ge("clip-path",i.pathId),V(3),Fo("id",i.pathId))},encapsulation:2})}return n})();var $9=["data-p-icon","spinner"],TP=(()=>{class n extends qo{pathId;onInit(){this.pathId="url(#"+Ki()+")"}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ee(n)))(i||n)}})();static \u0275cmp=Oe({type:n,selectors:[["","data-p-icon","spinner"]],features:[oe],attrs:$9,decls:5,vars:2,consts:[["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,i){r&1&&(nn(),Pi(0,"g"),pr(1,"path",0),Oi(),Pi(2,"defs")(3,"clipPath",1),pr(4,"rect",2),Oi()()),r&2&&(Ge("clip-path",i.pathId),V(3),Fo("id",i.pathId))},encapsulation:2})}return n})();var SP=`
    .p-ink {
        display: block;
        position: absolute;
        background: dt('ripple.background');
        border-radius: 100%;
        transform: scale(0);
        pointer-events: none;
    }

    .p-ink-active {
        animation: ripple 0.4s linear;
    }

    @keyframes ripple {
        100% {
            opacity: 0;
            transform: scale(2.5);
        }
    }
`;var H9=`
    ${SP}

    /* For PrimeNG */
    .p-ripple {
        overflow: hidden;
        position: relative;
    }

    .p-ripple-disabled .p-ink {
        display: none !important;
    }

    @keyframes ripple {
        100% {
            opacity: 0;
            transform: scale(2.5);
        }
    }
`,z9={root:"p-ink"},AP=(()=>{class n extends ot{name="ripple";style=H9;classes=z9;static \u0275fac=(()=>{let t;return function(i){return(t||(t=ee(n)))(i||n)}})();static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();var MP=(()=>{class n extends mt{componentName="Ripple";zone=T(tn);_componentStyle=T(AP);animationListener;mouseDownListener;timeout;constructor(){super(),qe(()=>{Il(this.platformId)&&(this.config.ripple()?this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))}):this.remove())})}onAfterViewInit(){}onMouseDown(t){let r=this.getInk();if(!r||this.document.defaultView?.getComputedStyle(r,null).display==="none")return;if(!this.$unstyled()&&Gi(r,"p-ink-active"),r.setAttribute("data-p-ink-active","false"),!S0(r)&&!A0(r)){let a=Math.max(jR(this.el.nativeElement),$R(this.el.nativeElement));r.style.height=a+"px",r.style.width=a+"px"}let i=UR(this.el.nativeElement),o=t.pageX-i.left+this.document.body.scrollTop-A0(r)/2,s=t.pageY-i.top+this.document.body.scrollLeft-S0(r)/2;this.renderer.setStyle(r,"top",s+"px"),this.renderer.setStyle(r,"left",o+"px"),!this.$unstyled()&&qi(r,"p-ink-active"),r.setAttribute("data-p-ink-active","true"),this.timeout=setTimeout(()=>{let a=this.getInk();a&&(!this.$unstyled()&&Gi(a,"p-ink-active"),a.setAttribute("data-p-ink-active","false"))},401)}getInk(){let t=this.el.nativeElement.children;for(let r=0;r<t.length;r++)if(typeof t[r].className=="string"&&t[r].className.indexOf("p-ink")!==-1)return t[r];return null}resetInk(){let t=this.getInk();t&&(!this.$unstyled()&&Gi(t,"p-ink-active"),t.setAttribute("data-p-ink-active","false"))}onAnimationEnd(t){this.timeout&&clearTimeout(this.timeout),!this.$unstyled()&&Gi(t.currentTarget,"p-ink-active"),t.currentTarget.setAttribute("data-p-ink-active","false")}create(){let t=this.renderer.createElement("span");this.renderer.addClass(t,"p-ink"),this.renderer.appendChild(this.el.nativeElement,t),this.renderer.setAttribute(t,"data-p-ink","true"),this.renderer.setAttribute(t,"data-p-ink-active","false"),this.renderer.setAttribute(t,"aria-hidden","true"),this.renderer.setAttribute(t,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(t,"animationend",this.onAnimationEnd.bind(this)))}remove(){let t=this.getInk();t&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,zR(t))}onDestroy(){this.config&&this.config.ripple()&&this.remove()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=de({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple"],features:[Fe([AP]),oe]})}return n})();var NP=`
    .p-button {
        display: inline-flex;
        cursor: pointer;
        user-select: none;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        position: relative;
        color: dt('button.primary.color');
        background: dt('button.primary.background');
        border: 1px solid dt('button.primary.border.color');
        padding: dt('button.padding.y') dt('button.padding.x');
        font-size: 1rem;
        font-family: inherit;
        font-feature-settings: inherit;
        transition:
            background dt('button.transition.duration'),
            color dt('button.transition.duration'),
            border-color dt('button.transition.duration'),
            outline-color dt('button.transition.duration'),
            box-shadow dt('button.transition.duration');
        border-radius: dt('button.border.radius');
        outline-color: transparent;
        gap: dt('button.gap');
    }

    .p-button:disabled {
        cursor: default;
    }

    .p-button-icon-right {
        order: 1;
    }

    .p-button-icon-right:dir(rtl) {
        order: -1;
    }

    .p-button:not(.p-button-vertical) .p-button-icon:not(.p-button-icon-right):dir(rtl) {
        order: 1;
    }

    .p-button-icon-bottom {
        order: 2;
    }

    .p-button-icon-only {
        width: dt('button.icon.only.width');
        padding-inline-start: 0;
        padding-inline-end: 0;
        gap: 0;
    }

    .p-button-icon-only.p-button-rounded {
        border-radius: 50%;
        height: dt('button.icon.only.width');
    }

    .p-button-icon-only .p-button-label {
        visibility: hidden;
        width: 0;
    }

    .p-button-icon-only::after {
        content: "\xA0";
        visibility: hidden;
        width: 0;
    }

    .p-button-sm {
        font-size: dt('button.sm.font.size');
        padding: dt('button.sm.padding.y') dt('button.sm.padding.x');
    }

    .p-button-sm .p-button-icon {
        font-size: dt('button.sm.font.size');
    }

    .p-button-sm.p-button-icon-only {
        width: dt('button.sm.icon.only.width');
    }

    .p-button-sm.p-button-icon-only.p-button-rounded {
        height: dt('button.sm.icon.only.width');
    }

    .p-button-lg {
        font-size: dt('button.lg.font.size');
        padding: dt('button.lg.padding.y') dt('button.lg.padding.x');
    }

    .p-button-lg .p-button-icon {
        font-size: dt('button.lg.font.size');
    }

    .p-button-lg.p-button-icon-only {
        width: dt('button.lg.icon.only.width');
    }

    .p-button-lg.p-button-icon-only.p-button-rounded {
        height: dt('button.lg.icon.only.width');
    }

    .p-button-vertical {
        flex-direction: column;
    }

    .p-button-label {
        font-weight: dt('button.label.font.weight');
    }

    .p-button-fluid {
        width: 100%;
    }

    .p-button-fluid.p-button-icon-only {
        width: dt('button.icon.only.width');
    }

    .p-button:not(:disabled):hover {
        background: dt('button.primary.hover.background');
        border: 1px solid dt('button.primary.hover.border.color');
        color: dt('button.primary.hover.color');
    }

    .p-button:not(:disabled):active {
        background: dt('button.primary.active.background');
        border: 1px solid dt('button.primary.active.border.color');
        color: dt('button.primary.active.color');
    }

    .p-button:focus-visible {
        box-shadow: dt('button.primary.focus.ring.shadow');
        outline: dt('button.focus.ring.width') dt('button.focus.ring.style') dt('button.primary.focus.ring.color');
        outline-offset: dt('button.focus.ring.offset');
    }

    .p-button .p-badge {
        min-width: dt('button.badge.size');
        height: dt('button.badge.size');
        line-height: dt('button.badge.size');
    }

    .p-button-raised {
        box-shadow: dt('button.raised.shadow');
    }

    .p-button-rounded {
        border-radius: dt('button.rounded.border.radius');
    }

    .p-button-secondary {
        background: dt('button.secondary.background');
        border: 1px solid dt('button.secondary.border.color');
        color: dt('button.secondary.color');
    }

    .p-button-secondary:not(:disabled):hover {
        background: dt('button.secondary.hover.background');
        border: 1px solid dt('button.secondary.hover.border.color');
        color: dt('button.secondary.hover.color');
    }

    .p-button-secondary:not(:disabled):active {
        background: dt('button.secondary.active.background');
        border: 1px solid dt('button.secondary.active.border.color');
        color: dt('button.secondary.active.color');
    }

    .p-button-secondary:focus-visible {
        outline-color: dt('button.secondary.focus.ring.color');
        box-shadow: dt('button.secondary.focus.ring.shadow');
    }

    .p-button-success {
        background: dt('button.success.background');
        border: 1px solid dt('button.success.border.color');
        color: dt('button.success.color');
    }

    .p-button-success:not(:disabled):hover {
        background: dt('button.success.hover.background');
        border: 1px solid dt('button.success.hover.border.color');
        color: dt('button.success.hover.color');
    }

    .p-button-success:not(:disabled):active {
        background: dt('button.success.active.background');
        border: 1px solid dt('button.success.active.border.color');
        color: dt('button.success.active.color');
    }

    .p-button-success:focus-visible {
        outline-color: dt('button.success.focus.ring.color');
        box-shadow: dt('button.success.focus.ring.shadow');
    }

    .p-button-info {
        background: dt('button.info.background');
        border: 1px solid dt('button.info.border.color');
        color: dt('button.info.color');
    }

    .p-button-info:not(:disabled):hover {
        background: dt('button.info.hover.background');
        border: 1px solid dt('button.info.hover.border.color');
        color: dt('button.info.hover.color');
    }

    .p-button-info:not(:disabled):active {
        background: dt('button.info.active.background');
        border: 1px solid dt('button.info.active.border.color');
        color: dt('button.info.active.color');
    }

    .p-button-info:focus-visible {
        outline-color: dt('button.info.focus.ring.color');
        box-shadow: dt('button.info.focus.ring.shadow');
    }

    .p-button-warn {
        background: dt('button.warn.background');
        border: 1px solid dt('button.warn.border.color');
        color: dt('button.warn.color');
    }

    .p-button-warn:not(:disabled):hover {
        background: dt('button.warn.hover.background');
        border: 1px solid dt('button.warn.hover.border.color');
        color: dt('button.warn.hover.color');
    }

    .p-button-warn:not(:disabled):active {
        background: dt('button.warn.active.background');
        border: 1px solid dt('button.warn.active.border.color');
        color: dt('button.warn.active.color');
    }

    .p-button-warn:focus-visible {
        outline-color: dt('button.warn.focus.ring.color');
        box-shadow: dt('button.warn.focus.ring.shadow');
    }

    .p-button-help {
        background: dt('button.help.background');
        border: 1px solid dt('button.help.border.color');
        color: dt('button.help.color');
    }

    .p-button-help:not(:disabled):hover {
        background: dt('button.help.hover.background');
        border: 1px solid dt('button.help.hover.border.color');
        color: dt('button.help.hover.color');
    }

    .p-button-help:not(:disabled):active {
        background: dt('button.help.active.background');
        border: 1px solid dt('button.help.active.border.color');
        color: dt('button.help.active.color');
    }

    .p-button-help:focus-visible {
        outline-color: dt('button.help.focus.ring.color');
        box-shadow: dt('button.help.focus.ring.shadow');
    }

    .p-button-danger {
        background: dt('button.danger.background');
        border: 1px solid dt('button.danger.border.color');
        color: dt('button.danger.color');
    }

    .p-button-danger:not(:disabled):hover {
        background: dt('button.danger.hover.background');
        border: 1px solid dt('button.danger.hover.border.color');
        color: dt('button.danger.hover.color');
    }

    .p-button-danger:not(:disabled):active {
        background: dt('button.danger.active.background');
        border: 1px solid dt('button.danger.active.border.color');
        color: dt('button.danger.active.color');
    }

    .p-button-danger:focus-visible {
        outline-color: dt('button.danger.focus.ring.color');
        box-shadow: dt('button.danger.focus.ring.shadow');
    }

    .p-button-contrast {
        background: dt('button.contrast.background');
        border: 1px solid dt('button.contrast.border.color');
        color: dt('button.contrast.color');
    }

    .p-button-contrast:not(:disabled):hover {
        background: dt('button.contrast.hover.background');
        border: 1px solid dt('button.contrast.hover.border.color');
        color: dt('button.contrast.hover.color');
    }

    .p-button-contrast:not(:disabled):active {
        background: dt('button.contrast.active.background');
        border: 1px solid dt('button.contrast.active.border.color');
        color: dt('button.contrast.active.color');
    }

    .p-button-contrast:focus-visible {
        outline-color: dt('button.contrast.focus.ring.color');
        box-shadow: dt('button.contrast.focus.ring.shadow');
    }

    .p-button-outlined {
        background: transparent;
        border-color: dt('button.outlined.primary.border.color');
        color: dt('button.outlined.primary.color');
    }

    .p-button-outlined:not(:disabled):hover {
        background: dt('button.outlined.primary.hover.background');
        border-color: dt('button.outlined.primary.border.color');
        color: dt('button.outlined.primary.color');
    }

    .p-button-outlined:not(:disabled):active {
        background: dt('button.outlined.primary.active.background');
        border-color: dt('button.outlined.primary.border.color');
        color: dt('button.outlined.primary.color');
    }

    .p-button-outlined.p-button-secondary {
        border-color: dt('button.outlined.secondary.border.color');
        color: dt('button.outlined.secondary.color');
    }

    .p-button-outlined.p-button-secondary:not(:disabled):hover {
        background: dt('button.outlined.secondary.hover.background');
        border-color: dt('button.outlined.secondary.border.color');
        color: dt('button.outlined.secondary.color');
    }

    .p-button-outlined.p-button-secondary:not(:disabled):active {
        background: dt('button.outlined.secondary.active.background');
        border-color: dt('button.outlined.secondary.border.color');
        color: dt('button.outlined.secondary.color');
    }

    .p-button-outlined.p-button-success {
        border-color: dt('button.outlined.success.border.color');
        color: dt('button.outlined.success.color');
    }

    .p-button-outlined.p-button-success:not(:disabled):hover {
        background: dt('button.outlined.success.hover.background');
        border-color: dt('button.outlined.success.border.color');
        color: dt('button.outlined.success.color');
    }

    .p-button-outlined.p-button-success:not(:disabled):active {
        background: dt('button.outlined.success.active.background');
        border-color: dt('button.outlined.success.border.color');
        color: dt('button.outlined.success.color');
    }

    .p-button-outlined.p-button-info {
        border-color: dt('button.outlined.info.border.color');
        color: dt('button.outlined.info.color');
    }

    .p-button-outlined.p-button-info:not(:disabled):hover {
        background: dt('button.outlined.info.hover.background');
        border-color: dt('button.outlined.info.border.color');
        color: dt('button.outlined.info.color');
    }

    .p-button-outlined.p-button-info:not(:disabled):active {
        background: dt('button.outlined.info.active.background');
        border-color: dt('button.outlined.info.border.color');
        color: dt('button.outlined.info.color');
    }

    .p-button-outlined.p-button-warn {
        border-color: dt('button.outlined.warn.border.color');
        color: dt('button.outlined.warn.color');
    }

    .p-button-outlined.p-button-warn:not(:disabled):hover {
        background: dt('button.outlined.warn.hover.background');
        border-color: dt('button.outlined.warn.border.color');
        color: dt('button.outlined.warn.color');
    }

    .p-button-outlined.p-button-warn:not(:disabled):active {
        background: dt('button.outlined.warn.active.background');
        border-color: dt('button.outlined.warn.border.color');
        color: dt('button.outlined.warn.color');
    }

    .p-button-outlined.p-button-help {
        border-color: dt('button.outlined.help.border.color');
        color: dt('button.outlined.help.color');
    }

    .p-button-outlined.p-button-help:not(:disabled):hover {
        background: dt('button.outlined.help.hover.background');
        border-color: dt('button.outlined.help.border.color');
        color: dt('button.outlined.help.color');
    }

    .p-button-outlined.p-button-help:not(:disabled):active {
        background: dt('button.outlined.help.active.background');
        border-color: dt('button.outlined.help.border.color');
        color: dt('button.outlined.help.color');
    }

    .p-button-outlined.p-button-danger {
        border-color: dt('button.outlined.danger.border.color');
        color: dt('button.outlined.danger.color');
    }

    .p-button-outlined.p-button-danger:not(:disabled):hover {
        background: dt('button.outlined.danger.hover.background');
        border-color: dt('button.outlined.danger.border.color');
        color: dt('button.outlined.danger.color');
    }

    .p-button-outlined.p-button-danger:not(:disabled):active {
        background: dt('button.outlined.danger.active.background');
        border-color: dt('button.outlined.danger.border.color');
        color: dt('button.outlined.danger.color');
    }

    .p-button-outlined.p-button-contrast {
        border-color: dt('button.outlined.contrast.border.color');
        color: dt('button.outlined.contrast.color');
    }

    .p-button-outlined.p-button-contrast:not(:disabled):hover {
        background: dt('button.outlined.contrast.hover.background');
        border-color: dt('button.outlined.contrast.border.color');
        color: dt('button.outlined.contrast.color');
    }

    .p-button-outlined.p-button-contrast:not(:disabled):active {
        background: dt('button.outlined.contrast.active.background');
        border-color: dt('button.outlined.contrast.border.color');
        color: dt('button.outlined.contrast.color');
    }

    .p-button-outlined.p-button-plain {
        border-color: dt('button.outlined.plain.border.color');
        color: dt('button.outlined.plain.color');
    }

    .p-button-outlined.p-button-plain:not(:disabled):hover {
        background: dt('button.outlined.plain.hover.background');
        border-color: dt('button.outlined.plain.border.color');
        color: dt('button.outlined.plain.color');
    }

    .p-button-outlined.p-button-plain:not(:disabled):active {
        background: dt('button.outlined.plain.active.background');
        border-color: dt('button.outlined.plain.border.color');
        color: dt('button.outlined.plain.color');
    }

    .p-button-text {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.primary.color');
    }

    .p-button-text:not(:disabled):hover {
        background: dt('button.text.primary.hover.background');
        border-color: transparent;
        color: dt('button.text.primary.color');
    }

    .p-button-text:not(:disabled):active {
        background: dt('button.text.primary.active.background');
        border-color: transparent;
        color: dt('button.text.primary.color');
    }

    .p-button-text.p-button-secondary {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.secondary.color');
    }

    .p-button-text.p-button-secondary:not(:disabled):hover {
        background: dt('button.text.secondary.hover.background');
        border-color: transparent;
        color: dt('button.text.secondary.color');
    }

    .p-button-text.p-button-secondary:not(:disabled):active {
        background: dt('button.text.secondary.active.background');
        border-color: transparent;
        color: dt('button.text.secondary.color');
    }

    .p-button-text.p-button-success {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.success.color');
    }

    .p-button-text.p-button-success:not(:disabled):hover {
        background: dt('button.text.success.hover.background');
        border-color: transparent;
        color: dt('button.text.success.color');
    }

    .p-button-text.p-button-success:not(:disabled):active {
        background: dt('button.text.success.active.background');
        border-color: transparent;
        color: dt('button.text.success.color');
    }

    .p-button-text.p-button-info {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.info.color');
    }

    .p-button-text.p-button-info:not(:disabled):hover {
        background: dt('button.text.info.hover.background');
        border-color: transparent;
        color: dt('button.text.info.color');
    }

    .p-button-text.p-button-info:not(:disabled):active {
        background: dt('button.text.info.active.background');
        border-color: transparent;
        color: dt('button.text.info.color');
    }

    .p-button-text.p-button-warn {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.warn.color');
    }

    .p-button-text.p-button-warn:not(:disabled):hover {
        background: dt('button.text.warn.hover.background');
        border-color: transparent;
        color: dt('button.text.warn.color');
    }

    .p-button-text.p-button-warn:not(:disabled):active {
        background: dt('button.text.warn.active.background');
        border-color: transparent;
        color: dt('button.text.warn.color');
    }

    .p-button-text.p-button-help {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.help.color');
    }

    .p-button-text.p-button-help:not(:disabled):hover {
        background: dt('button.text.help.hover.background');
        border-color: transparent;
        color: dt('button.text.help.color');
    }

    .p-button-text.p-button-help:not(:disabled):active {
        background: dt('button.text.help.active.background');
        border-color: transparent;
        color: dt('button.text.help.color');
    }

    .p-button-text.p-button-danger {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.danger.color');
    }

    .p-button-text.p-button-danger:not(:disabled):hover {
        background: dt('button.text.danger.hover.background');
        border-color: transparent;
        color: dt('button.text.danger.color');
    }

    .p-button-text.p-button-danger:not(:disabled):active {
        background: dt('button.text.danger.active.background');
        border-color: transparent;
        color: dt('button.text.danger.color');
    }

    .p-button-text.p-button-contrast {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.contrast.color');
    }

    .p-button-text.p-button-contrast:not(:disabled):hover {
        background: dt('button.text.contrast.hover.background');
        border-color: transparent;
        color: dt('button.text.contrast.color');
    }

    .p-button-text.p-button-contrast:not(:disabled):active {
        background: dt('button.text.contrast.active.background');
        border-color: transparent;
        color: dt('button.text.contrast.color');
    }

    .p-button-text.p-button-plain {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.plain.color');
    }

    .p-button-text.p-button-plain:not(:disabled):hover {
        background: dt('button.text.plain.hover.background');
        border-color: transparent;
        color: dt('button.text.plain.color');
    }

    .p-button-text.p-button-plain:not(:disabled):active {
        background: dt('button.text.plain.active.background');
        border-color: transparent;
        color: dt('button.text.plain.color');
    }

    .p-button-link {
        background: transparent;
        border-color: transparent;
        color: dt('button.link.color');
    }

    .p-button-link:not(:disabled):hover {
        background: transparent;
        border-color: transparent;
        color: dt('button.link.hover.color');
    }

    .p-button-link:not(:disabled):hover .p-button-label {
        text-decoration: underline;
    }

    .p-button-link:not(:disabled):active {
        background: transparent;
        border-color: transparent;
        color: dt('button.link.active.color');
    }
`;var q9=["content"],G9=["loadingicon"],W9=["icon"],K9=["*"],LP=(n,e)=>({class:n,pt:e});function Q9(n,e){n&1&&jn(0)}function Y9(n,e){if(n&1&&pe(0,"span",7),n&2){let t=fe(3);ge(t.cn(t.cx("loadingIcon"),"pi-spin",t.loadingIcon||(t.buttonProps==null?null:t.buttonProps.loadingIcon))),F("pBind",t.ptm("loadingIcon")),Ge("aria-hidden",!0)}}function Z9(n,e){if(n&1&&(nn(),pe(0,"svg",8)),n&2){let t=fe(3);ge(t.cn(t.cx("loadingIcon"),t.cx("spinnerIcon"))),F("pBind",t.ptm("loadingIcon"))("spin",!0),Ge("aria-hidden",!0)}}function J9(n,e){if(n&1&&(Et(0),be(1,Y9,1,4,"span",3)(2,Z9,1,5,"svg",6),wt()),n&2){let t=fe(2);V(),F("ngIf",t.loadingIcon||(t.buttonProps==null?null:t.buttonProps.loadingIcon)),V(),F("ngIf",!(t.loadingIcon||t.buttonProps!=null&&t.buttonProps.loadingIcon))}}function X9(n,e){}function e5(n,e){if(n&1&&be(0,X9,0,0,"ng-template",9),n&2){let t=fe(2);F("ngIf",t.loadingIconTemplate||t._loadingIconTemplate)}}function t5(n,e){if(n&1&&(Et(0),be(1,J9,3,2,"ng-container",2)(2,e5,1,1,null,5),wt()),n&2){let t=fe();V(),F("ngIf",!t.loadingIconTemplate&&!t._loadingIconTemplate),V(),F("ngTemplateOutlet",t.loadingIconTemplate||t._loadingIconTemplate)("ngTemplateOutletContext",jp(3,LP,t.cx("loadingIcon"),t.ptm("loadingIcon")))}}function n5(n,e){if(n&1&&pe(0,"span",7),n&2){let t=fe(2);ge(t.cn(t.cx("icon"),t.icon||(t.buttonProps==null?null:t.buttonProps.icon))),F("pBind",t.ptm("icon")),Ge("data-p",t.dataIconP)}}function r5(n,e){}function i5(n,e){if(n&1&&be(0,r5,0,0,"ng-template",9),n&2){let t=fe(2);F("ngIf",!t.icon&&(t.iconTemplate||t._iconTemplate))}}function o5(n,e){if(n&1&&(Et(0),be(1,n5,1,4,"span",3)(2,i5,1,1,null,5),wt()),n&2){let t=fe();V(),F("ngIf",(t.icon||(t.buttonProps==null?null:t.buttonProps.icon))&&!t.iconTemplate&&!t._iconTemplate),V(),F("ngTemplateOutlet",t.iconTemplate||t._iconTemplate)("ngTemplateOutletContext",jp(3,LP,t.cx("icon"),t.ptm("icon")))}}function s5(n,e){if(n&1&&(G(0,"span",7),ie(1),L()),n&2){let t=fe();ge(t.cx("label")),F("pBind",t.ptm("label")),Ge("aria-hidden",(t.icon||(t.buttonProps==null?null:t.buttonProps.icon))&&!(t.label||t.buttonProps!=null&&t.buttonProps.label))("data-p",t.dataLabelP),V(),Pt(t.label||(t.buttonProps==null?null:t.buttonProps.label))}}function a5(n,e){if(n&1&&pe(0,"p-badge",10),n&2){let t=fe();F("value",t.badge||(t.buttonProps==null?null:t.buttonProps.badge))("severity",t.badgeSeverity||(t.buttonProps==null?null:t.buttonProps.badgeSeverity))("pt",t.ptm("pcBadge"))("unstyled",t.unstyled())}}var l5={root:({instance:n})=>["p-button p-component",{"p-button-icon-only":n.hasIcon&&!n.label&&!n.buttonProps?.label&&!n.badge,"p-button-vertical":(n.iconPos==="top"||n.iconPos==="bottom")&&n.label,"p-button-loading":n.loading||n.buttonProps?.loading,"p-button-link":n.link||n.buttonProps?.link,[`p-button-${n.severity||n.buttonProps?.severity}`]:n.severity||n.buttonProps?.severity,"p-button-raised":n.raised||n.buttonProps?.raised,"p-button-rounded":n.rounded||n.buttonProps?.rounded,"p-button-text":n.text||n.variant==="text"||n.buttonProps?.text||n.buttonProps?.variant==="text","p-button-outlined":n.outlined||n.variant==="outlined"||n.buttonProps?.outlined||n.buttonProps?.variant==="outlined","p-button-sm":n.size==="small"||n.buttonProps?.size==="small","p-button-lg":n.size==="large"||n.buttonProps?.size==="large","p-button-plain":n.plain||n.buttonProps?.plain,"p-button-fluid":n.hasFluid}],loadingIcon:"p-button-loading-icon",icon:({instance:n})=>["p-button-icon",{[`p-button-icon-${n.iconPos||n.buttonProps?.iconPos}`]:n.label||n.buttonProps?.label,"p-button-icon-left":(n.iconPos==="left"||n.buttonProps?.iconPos==="left")&&n.label||n.buttonProps?.label,"p-button-icon-right":(n.iconPos==="right"||n.buttonProps?.iconPos==="right")&&n.label||n.buttonProps?.label,"p-button-icon-top":(n.iconPos==="top"||n.buttonProps?.iconPos==="top")&&n.label||n.buttonProps?.label,"p-button-icon-bottom":(n.iconPos==="bottom"||n.buttonProps?.iconPos==="bottom")&&n.label||n.buttonProps?.label},n.icon,n.buttonProps?.icon],spinnerIcon:({instance:n})=>Object.entries(n.cx("icon")).filter(([,e])=>!!e).reduce((e,[t])=>e+` ${t}`,"p-button-loading-icon"),label:"p-button-label"},Gl=(()=>{class n extends ot{name="button";style=NP;classes=l5;static \u0275fac=(()=>{let t;return function(i){return(t||(t=ee(n)))(i||n)}})();static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();var xP=new q("BUTTON_INSTANCE"),RP=new q("BUTTON_DIRECTIVE_INSTANCE"),PP=new q("BUTTON_LABEL_INSTANCE"),OP=new q("BUTTON_ICON_INSTANCE"),Go={button:"p-button",component:"p-component",iconOnly:"p-button-icon-only",disabled:"p-disabled",loading:"p-button-loading",labelOnly:"p-button-loading-label-only"},kP=(()=>{class n extends mt{ptButtonLabel=$();pButtonLabelPT=$();pButtonLabelUnstyled=$();$pcButtonLabel=T(PP,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=T(he,{self:!0});constructor(){super(),qe(()=>{let t=this.ptButtonLabel()||this.pButtonLabelPT();t&&this.directivePT.set(t)}),qe(()=>{this.pButtonLabelUnstyled()&&this.directiveUnstyled.set(this.pButtonLabelUnstyled())})}onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}static \u0275fac=function(r){return new(r||n)};static \u0275dir=de({type:n,selectors:[["","pButtonLabel",""]],hostVars:2,hostBindings:function(r,i){r&2&&Fi("p-button-label",!i.$unstyled()&&!0)},inputs:{ptButtonLabel:[1,"ptButtonLabel"],pButtonLabelPT:[1,"pButtonLabelPT"],pButtonLabelUnstyled:[1,"pButtonLabelUnstyled"]},features:[Fe([Gl,{provide:PP,useExisting:n},{provide:It,useExisting:n}]),At([he]),oe]})}return n})(),FP=(()=>{class n extends mt{ptButtonIcon=$();pButtonIconPT=$();pButtonUnstyled=$();$pcButtonIcon=T(OP,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=T(he,{self:!0});constructor(){super(),qe(()=>{let t=this.ptButtonIcon()||this.pButtonIconPT();t&&this.directivePT.set(t)}),qe(()=>{this.pButtonUnstyled()&&this.directiveUnstyled.set(this.pButtonUnstyled())})}onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}static \u0275fac=function(r){return new(r||n)};static \u0275dir=de({type:n,selectors:[["","pButtonIcon",""]],hostVars:2,hostBindings:function(r,i){r&2&&Fi("p-button-icon",!i.$unstyled()&&!0)},inputs:{ptButtonIcon:[1,"ptButtonIcon"],pButtonIconPT:[1,"pButtonIconPT"],pButtonUnstyled:[1,"pButtonUnstyled"]},features:[Fe([Gl,{provide:OP,useExisting:n},{provide:It,useExisting:n}]),At([he]),oe]})}return n})(),um=(()=>{class n extends mt{$pcButtonDirective=T(RP,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=T(he,{self:!0});_componentStyle=T(Gl);ptButtonDirective=$();pButtonPT=$();pButtonUnstyled=$();hostName="";onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptm("root"))}constructor(){super(),qe(()=>{let t=this.ptButtonDirective()||this.pButtonPT();t&&this.directivePT.set(t)}),qe(()=>{this.pButtonUnstyled()&&this.directiveUnstyled.set(this.pButtonUnstyled())}),qe(()=>{let t=this.$unstyled();this.initialized&&t&&this.setStyleClass()})}text=!1;plain=!1;raised=!1;size;outlined=!1;rounded=!1;iconPos="left";loadingIcon;fluid=$(void 0,{transform:Ee});iconSignal=ew(FP);labelSignal=ew(kP);isIconOnly=He(()=>!!(!this.labelSignal()&&this.iconSignal()));_label;_icon;_loading=!1;_severity;_buttonProps;initialized;get htmlElement(){return this.el.nativeElement}_internalClasses=Object.values(Go);pcFluid=T(oa,{optional:!0,host:!0,skipSelf:!0});isTextButton=He(()=>!!(!this.iconSignal()&&this.labelSignal()&&this.text));get label(){return this._label}set label(t){this._label=t,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(t){this._icon=t,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(t){this._loading=t,this.initialized&&(this.updateIcon(),this.setStyleClass())}get buttonProps(){return this._buttonProps}set buttonProps(t){this._buttonProps=t,t&&typeof t=="object"&&Object.entries(t).forEach(([r,i])=>this[`_${r}`]!==i&&(this[`_${r}`]=i))}get severity(){return this._severity}set severity(t){this._severity=t,this.initialized&&this.setStyleClass()}spinnerIcon=`<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" class="p-icon-spin">
        <g clip-path="url(#clip0_417_21408)">
            <path
                d="M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z"
                fill="currentColor"
            />
        </g>
        <defs>
            <clipPath id="clip0_417_21408">
                <rect width="14" height="14" fill="white" />
            </clipPath>
        </defs>
    </svg>`;onAfterViewInit(){!this.$unstyled()&&qi(this.htmlElement,this.getStyleClass().join(" ")),Il(this.platformId)&&(this.createIcon(),this.createLabel(),this.initialized=!0)}getStyleClass(){let t=[Go.button,Go.component];return this.icon&&!this.label&&di(this.htmlElement.textContent)&&t.push(Go.iconOnly),this.loading&&(t.push(Go.disabled,Go.loading),!this.icon&&this.label&&t.push(Go.labelOnly),this.icon&&!this.label&&!di(this.htmlElement.textContent)&&t.push(Go.iconOnly)),this.text&&t.push("p-button-text"),this.severity&&t.push(`p-button-${this.severity}`),this.plain&&t.push("p-button-plain"),this.raised&&t.push("p-button-raised"),this.size&&t.push(`p-button-${this.size}`),this.outlined&&t.push("p-button-outlined"),this.rounded&&t.push("p-button-rounded"),this.size==="small"&&t.push("p-button-sm"),this.size==="large"&&t.push("p-button-lg"),this.hasFluid&&t.push("p-button-fluid"),this.$unstyled()?[]:t}get hasFluid(){return this.fluid()??!!this.pcFluid}setStyleClass(){let t=this.getStyleClass();this.removeExistingSeverityClass(),this.htmlElement.classList.remove(...this._internalClasses),this.htmlElement.classList.add(...t)}removeExistingSeverityClass(){let t=["success","info","warn","danger","help","primary","secondary","contrast"],r=this.htmlElement.classList.value.split(" ").find(i=>t.some(o=>i===`p-button-${o}`));r&&this.htmlElement.classList.remove(r)}createLabel(){if(!$l(this.htmlElement,'[data-pc-section="buttonlabel"]')&&this.label){let r=tm("span",{class:this.cx("label"),"p-bind":this.ptm("buttonlabel"),"aria-hidden":this.icon&&!this.label?"true":null});r.appendChild(this.document.createTextNode(this.label)),this.htmlElement.appendChild(r)}}createIcon(){if(!$l(this.htmlElement,'[data-pc-section="buttonicon"]')&&(this.icon||this.loading)){let r=this.label&&!this.$unstyled()?"p-button-icon-"+this.iconPos:null,i=!this.$unstyled()&&this.getIconClass(),o=tm("span",{class:this.cn(this.cx("icon"),r,i),"aria-hidden":"true","p-bind":this.ptm("buttonicon")});!this.loadingIcon&&this.loading&&(o.innerHTML=this.spinnerIcon),this.htmlElement.insertBefore(o,this.htmlElement.firstChild)}}updateLabel(){let t=$l(this.htmlElement,'[data-pc-section="buttonlabel"]');if(!this.label){t&&this.htmlElement.removeChild(t);return}t?t.textContent=this.label:this.createLabel()}updateIcon(){let t=$l(this.htmlElement,'[data-pc-section="buttonicon"]'),r=$l(this.htmlElement,'[data-pc-section="buttonlabel"]');this.loading&&!this.loadingIcon&&t?t.innerHTML=this.spinnerIcon:t?.innerHTML&&(t.innerHTML=""),t&&!this.$unstyled()?this.iconPos?t.className="p-button-icon "+(r?"p-button-icon-"+this.iconPos:"")+" "+this.getIconClass():t.className="p-button-icon "+this.getIconClass():this.createIcon()}getIconClass(){return this.loading?"p-button-loading-icon "+(this.loadingIcon?this.loadingIcon:"p-icon"):this.icon||"p-hidden"}onDestroy(){this.initialized=!1}static \u0275fac=function(r){return new(r||n)};static \u0275dir=de({type:n,selectors:[["","pButton",""]],contentQueries:function(r,i,o){r&1&&Vp(o,i.iconSignal,FP,5)(o,i.labelSignal,kP,5),r&2&&PE(2)},hostVars:4,hostBindings:function(r,i){r&2&&Fi("p-button-icon-only",!i.$unstyled()&&i.isIconOnly())("p-button-text",!i.$unstyled()&&i.isTextButton())},inputs:{ptButtonDirective:[1,"ptButtonDirective"],pButtonPT:[1,"pButtonPT"],pButtonUnstyled:[1,"pButtonUnstyled"],hostName:"hostName",text:[2,"text","text",Ee],plain:[2,"plain","plain",Ee],raised:[2,"raised","raised",Ee],size:"size",outlined:[2,"outlined","outlined",Ee],rounded:[2,"rounded","rounded",Ee],iconPos:"iconPos",loadingIcon:"loadingIcon",fluid:[1,"fluid"],label:"label",icon:"icon",loading:"loading",buttonProps:"buttonProps",severity:"severity"},features:[Fe([Gl,{provide:RP,useExisting:n},{provide:It,useExisting:n}]),At([he]),oe]})}return n})(),L0=(()=>{class n extends mt{componentName="Button";hostName="";$pcButton=T(xP,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=T(he,{self:!0});_componentStyle=T(Gl);onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptm("host"))}type="button";badge;disabled;raised=!1;rounded=!1;text=!1;plain=!1;outlined=!1;link=!1;tabindex;size;variant;style;styleClass;badgeClass;badgeSeverity="secondary";ariaLabel;autofocus;iconPos="left";icon;label;loading=!1;loadingIcon;severity;buttonProps;fluid=$(void 0,{transform:Ee});onClick=new ke;onFocus=new ke;onBlur=new ke;contentTemplate;loadingIconTemplate;iconTemplate;templates;pcFluid=T(oa,{optional:!0,host:!0,skipSelf:!0});get hasFluid(){return this.fluid()??!!this.pcFluid}get hasIcon(){return this.icon||this.buttonProps?.icon||this.iconTemplate||this._iconTemplate||this.loadingIcon||this.loadingIconTemplate||this._loadingIconTemplate}_contentTemplate;_iconTemplate;_loadingIconTemplate;onAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"content":this._contentTemplate=t.template;break;case"icon":this._iconTemplate=t.template;break;case"loadingicon":this._loadingIconTemplate=t.template;break;default:this._contentTemplate=t.template;break}})}get dataP(){return this.cn({[this.size]:this.size,"icon-only":this.hasIcon&&!this.label&&!this.badge,loading:this.loading,fluid:this.hasFluid,rounded:this.rounded,raised:this.raised,outlined:this.outlined||this.variant==="outlined",text:this.text||this.variant==="text",link:this.link,vertical:(this.iconPos==="top"||this.iconPos==="bottom")&&this.label})}get dataIconP(){return this.cn({[this.iconPos]:this.iconPos,[this.size]:this.size})}get dataLabelP(){return this.cn({[this.size]:this.size,"icon-only":this.hasIcon&&!this.label&&!this.badge})}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ee(n)))(i||n)}})();static \u0275cmp=Oe({type:n,selectors:[["p-button"]],contentQueries:function(r,i,o){if(r&1&&ai(o,q9,5)(o,G9,5)(o,W9,5)(o,zo,4),r&2){let s;tt(s=nt())&&(i.contentTemplate=s.first),tt(s=nt())&&(i.loadingIconTemplate=s.first),tt(s=nt())&&(i.iconTemplate=s.first),tt(s=nt())&&(i.templates=s)}},inputs:{hostName:"hostName",type:"type",badge:"badge",disabled:[2,"disabled","disabled",Ee],raised:[2,"raised","raised",Ee],rounded:[2,"rounded","rounded",Ee],text:[2,"text","text",Ee],plain:[2,"plain","plain",Ee],outlined:[2,"outlined","outlined",Ee],link:[2,"link","link",Ee],tabindex:[2,"tabindex","tabindex",qp],size:"size",variant:"variant",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",badgeSeverity:"badgeSeverity",ariaLabel:"ariaLabel",autofocus:[2,"autofocus","autofocus",Ee],iconPos:"iconPos",icon:"icon",label:"label",loading:[2,"loading","loading",Ee],loadingIcon:"loadingIcon",severity:"severity",buttonProps:"buttonProps",fluid:[1,"fluid"]},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[Fe([Gl,{provide:xP,useExisting:n},{provide:It,useExisting:n}]),At([he]),oe],ngContentSelectors:K9,decls:7,vars:17,consts:[["pRipple","",3,"click","focus","blur","ngStyle","disabled","pAutoFocus","pBind"],[4,"ngTemplateOutlet"],[4,"ngIf"],[3,"class","pBind",4,"ngIf"],[3,"value","severity","pt","unstyled",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["data-p-icon","spinner",3,"class","pBind","spin",4,"ngIf"],[3,"pBind"],["data-p-icon","spinner",3,"pBind","spin"],[3,"ngIf"],[3,"value","severity","pt","unstyled"]],template:function(r,i){r&1&&(In(),G(0,"button",0),lt("click",function(s){return i.onClick.emit(s)})("focus",function(s){return i.onFocus.emit(s)})("blur",function(s){return i.onBlur.emit(s)}),Lt(1),be(2,Q9,1,0,"ng-container",1)(3,t5,3,6,"ng-container",2)(4,o5,3,6,"ng-container",2)(5,s5,2,6,"span",3)(6,a5,1,4,"p-badge",4),L()),r&2&&(ge(i.cn(i.cx("root"),i.styleClass,i.buttonProps==null?null:i.buttonProps.styleClass)),F("ngStyle",i.style||(i.buttonProps==null?null:i.buttonProps.style))("disabled",i.disabled||i.loading||(i.buttonProps==null?null:i.buttonProps.disabled))("pAutoFocus",i.autofocus||(i.buttonProps==null?null:i.buttonProps.autofocus))("pBind",i.ptm("root")),Ge("type",i.type||(i.buttonProps==null?null:i.buttonProps.type))("aria-label",i.ariaLabel||(i.buttonProps==null?null:i.buttonProps.ariaLabel))("tabindex",i.tabindex||(i.buttonProps==null?null:i.buttonProps.tabindex))("data-p",i.dataP)("data-p-disabled",i.disabled||i.loading||(i.buttonProps==null?null:i.buttonProps.disabled))("data-p-severity",i.severity||(i.buttonProps==null?null:i.buttonProps.severity)),V(2),F("ngTemplateOutlet",i.contentTemplate||i._contentTemplate),V(),F("ngIf",i.loading||(i.buttonProps==null?null:i.buttonProps.loading)),V(),F("ngIf",!(i.loading||i.buttonProps!=null&&i.buttonProps.loading)),V(),F("ngIf",!i.contentTemplate&&!i._contentTemplate&&(i.label||(i.buttonProps==null?null:i.buttonProps.label))),V(),F("ngIf",!i.contentTemplate&&!i._contentTemplate&&(i.badge||(i.buttonProps==null?null:i.buttonProps.badge))))},dependencies:[Ct,Lr,Bi,fw,MP,mP,TP,bP,F0,Bt,he],encapsulation:2,changeDetection:0})}return n})(),Wl=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=$e({type:n});static \u0275inj=je({imports:[Ct,L0,Bt,Bt]})}return n})();var VP=`
    .p-card {
        background: dt('card.background');
        color: dt('card.color');
        box-shadow: dt('card.shadow');
        border-radius: dt('card.border.radius');
        display: flex;
        flex-direction: column;
    }

    .p-card-caption {
        display: flex;
        flex-direction: column;
        gap: dt('card.caption.gap');
    }

    .p-card-body {
        padding: dt('card.body.padding');
        display: flex;
        flex-direction: column;
        gap: dt('card.body.gap');
    }

    .p-card-title {
        font-size: dt('card.title.font.size');
        font-weight: dt('card.title.font.weight');
    }

    .p-card-subtitle {
        color: dt('card.subtitle.color');
    }
`;var c5=["header"],u5=["title"],d5=["subtitle"],f5=["content"],h5=["footer"],p5=["*",[["p-header"]],[["p-footer"]]],g5=["*","p-header","p-footer"];function m5(n,e){n&1&&jn(0)}function y5(n,e){if(n&1&&(G(0,"div",1),Lt(1,1),be(2,m5,1,0,"ng-container",2),L()),n&2){let t=fe();ge(t.cx("header")),F("pBind",t.ptm("header")),V(2),F("ngTemplateOutlet",t.headerTemplate||t._headerTemplate)}}function v5(n,e){if(n&1&&(Et(0),ie(1),wt()),n&2){let t=fe(2);V(),Pt(t.header)}}function _5(n,e){n&1&&jn(0)}function b5(n,e){if(n&1&&(G(0,"div",1),be(1,v5,2,1,"ng-container",3)(2,_5,1,0,"ng-container",2),L()),n&2){let t=fe();ge(t.cx("title")),F("pBind",t.ptm("title")),V(),F("ngIf",t.header&&!t._titleTemplate&&!t.titleTemplate),V(),F("ngTemplateOutlet",t.titleTemplate||t._titleTemplate)}}function E5(n,e){if(n&1&&(Et(0),ie(1),wt()),n&2){let t=fe(2);V(),Pt(t.subheader)}}function w5(n,e){n&1&&jn(0)}function C5(n,e){if(n&1&&(G(0,"div",1),be(1,E5,2,1,"ng-container",3)(2,w5,1,0,"ng-container",2),L()),n&2){let t=fe();ge(t.cx("subtitle")),F("pBind",t.ptm("subtitle")),V(),F("ngIf",t.subheader&&!t._subtitleTemplate&&!t.subtitleTemplate),V(),F("ngTemplateOutlet",t.subtitleTemplate||t._subtitleTemplate)}}function I5(n,e){n&1&&jn(0)}function D5(n,e){n&1&&jn(0)}function T5(n,e){if(n&1&&(G(0,"div",1),Lt(1,2),be(2,D5,1,0,"ng-container",2),L()),n&2){let t=fe();ge(t.cx("footer")),F("pBind",t.ptm("footer")),V(2),F("ngTemplateOutlet",t.footerTemplate||t._footerTemplate)}}var S5=`
    ${VP}

    .p-card {
        display: block;
    }
`,A5={root:"p-card p-component",header:"p-card-header",body:"p-card-body",caption:"p-card-caption",title:"p-card-title",subtitle:"p-card-subtitle",content:"p-card-content",footer:"p-card-footer"},BP=(()=>{class n extends ot{name="card";style=S5;classes=A5;static \u0275fac=(()=>{let t;return function(i){return(t||(t=ee(n)))(i||n)}})();static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();var jP=new q("CARD_INSTANCE"),B0=(()=>{class n extends mt{componentName="Card";$pcCard=T(jP,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=T(he,{self:!0});_componentStyle=T(BP);onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}header;subheader;set style(t){ra(this._style(),t)||(this._style.set(t),this.el?.nativeElement&&t&&Object.keys(t).forEach(r=>{this.el.nativeElement.style[r]=t[r]}))}get style(){return this._style()}styleClass;headerFacet;footerFacet;headerTemplate;titleTemplate;subtitleTemplate;contentTemplate;footerTemplate;_headerTemplate;_titleTemplate;_subtitleTemplate;_contentTemplate;_footerTemplate;_style=Te(null);getBlockableElement(){return this.el.nativeElement}templates;onAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"header":this._headerTemplate=t.template;break;case"title":this._titleTemplate=t.template;break;case"subtitle":this._subtitleTemplate=t.template;break;case"content":this._contentTemplate=t.template;break;case"footer":this._footerTemplate=t.template;break;default:this._contentTemplate=t.template;break}})}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ee(n)))(i||n)}})();static \u0275cmp=Oe({type:n,selectors:[["p-card"]],contentQueries:function(r,i,o){if(r&1&&ai(o,tP,5)(o,am,5)(o,c5,4)(o,u5,4)(o,d5,4)(o,f5,4)(o,h5,4)(o,zo,4),r&2){let s;tt(s=nt())&&(i.headerFacet=s.first),tt(s=nt())&&(i.footerFacet=s.first),tt(s=nt())&&(i.headerTemplate=s.first),tt(s=nt())&&(i.titleTemplate=s.first),tt(s=nt())&&(i.subtitleTemplate=s.first),tt(s=nt())&&(i.contentTemplate=s.first),tt(s=nt())&&(i.footerTemplate=s.first),tt(s=nt())&&(i.templates=s)}},hostVars:4,hostBindings:function(r,i){r&2&&(qs(i._style()),ge(i.cn(i.cx("root"),i.styleClass)))},inputs:{header:"header",subheader:"subheader",style:"style",styleClass:"styleClass"},features:[Fe([BP,{provide:jP,useExisting:n},{provide:It,useExisting:n}]),At([he]),oe],ngContentSelectors:g5,decls:8,vars:11,consts:[[3,"pBind","class",4,"ngIf"],[3,"pBind"],[4,"ngTemplateOutlet"],[4,"ngIf"]],template:function(r,i){r&1&&(In(p5),be(0,y5,3,4,"div",0),G(1,"div",1),be(2,b5,3,5,"div",0)(3,C5,3,5,"div",0),G(4,"div",1),Lt(5),be(6,I5,1,0,"ng-container",2),L(),be(7,T5,3,4,"div",0),L()),r&2&&(F("ngIf",i.headerFacet||i.headerTemplate||i._headerTemplate),V(),ge(i.cx("body")),F("pBind",i.ptm("body")),V(),F("ngIf",i.header||i.titleTemplate||i._titleTemplate),V(),F("ngIf",i.subheader||i.subtitleTemplate||i._subtitleTemplate),V(),ge(i.cx("content")),F("pBind",i.ptm("content")),V(2),F("ngTemplateOutlet",i.contentTemplate||i._contentTemplate),V(),F("ngIf",i.footerFacet||i.footerTemplate||i._footerTemplate))},dependencies:[Ct,Lr,Bi,Bt,zn,he],encapsulation:2,changeDetection:0})}return n})(),dm=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=$e({type:n});static \u0275inj=je({imports:[B0,Bt,zn,Bt,zn]})}return n})();var UP=()=>{};var zP=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},N5=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},qP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,l=i+2<n.length,u=l?n[i+2]:0,d=o>>2,f=(o&3)<<4|a>>4,g=(a&15)<<2|u>>6,m=u&63;l||(m=64,s||(g=64)),r.push(t[d],t[f],t[g],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(zP(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):N5(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let f=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new j0;let g=o<<2|a>>4;if(r.push(g),u!==64){let m=a<<4&240|u>>2;if(r.push(m),f!==64){let v=u<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},j0=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},x5=function(n){let e=zP(n);return qP.encodeByteArray(e,!0)},Rd=function(n){return x5(n).replace(/\./g,"")},GP=function(n){try{return qP.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function U0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var R5=()=>U0().__FIREBASE_DEFAULTS__,P5=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},O5=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&GP(n[1]);return e&&JSON.parse(e)},$0=()=>{try{return UP()||R5()||P5()||O5()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},k5=n=>$0()?.emulatorHosts?.[n],WP=n=>{let e=k5(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},H0=()=>$0()?.config;var fm=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function hm(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function KP(n){return(await fetch(n,{credentials:"include"})).ok}function QP(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=N({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Rd(JSON.stringify(t)),Rd(JSON.stringify(s)),""].join(".")}var xd={};function F5(){let n={prod:[],emulator:[]};for(let e of Object.keys(xd))xd[e]?n.emulator.push(e):n.prod.push(e);return n}function L5(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var $P=!1;function YP(n,e){if(typeof window>"u"||typeof document>"u"||!hm(window.location.host)||xd[n]===e||xd[n]||$P)return;xd[n]=e;function t(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=F5().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function l(g,m){g.setAttribute("width","24"),g.setAttribute("id",m),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function u(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{$P=!0,s()},g}function d(g,m){g.setAttribute("id",m),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function f(){let g=L5(r),m=t("text"),v=document.getElementById(m)||document.createElement("span"),w=t("learnmore"),M=document.getElementById(w)||document.createElement("a"),O=t("preprendIcon"),j=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let z=g.element;a(z),d(M,w);let ne=u();l(j,O),z.append(j,v,M,ne),document.body.appendChild(z)}o?(v.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}function Od(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZP(){let n=$0()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function z0(){return!ZP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function q0(){return!ZP()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function pm(){try{return typeof indexedDB=="object"}catch{return!1}}function JP(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}var V5="FirebaseError",Ji=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=V5,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pd.prototype.create)}},Pd=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?B5(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ji(i,a,r)}};function B5(n,e){return n.replace(j5,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var j5=/\{\$([^}]+)}/g;function sa(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(HP(o)&&HP(s)){if(!sa(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function HP(n){return n!==null&&typeof n=="object"}var Ofe=14400*1e3;function Xi(n){return n&&n._delegate?n._delegate:n}var eo=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var aa="[DEFAULT]";var G0=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new fm;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){let t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($5(e))try{this.getOrInitializeService({instanceIdentifier:aa})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=aa){return this.instances.has(e)}getOptions(e=aa){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){let r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);let o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:U5(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=aa){return this.component?this.component.multipleInstances?e:aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function U5(n){return n===aa?void 0:n}function $5(n){return n.instantiationMode==="EAGER"}var gm=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new G0(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var H5=[],Ve=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(Ve||{}),z5={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},q5=Ve.INFO,G5={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},W5=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=G5[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Kl=class{constructor(e){this.name=e,this._logLevel=q5,this._logHandler=W5,this._userLogHandler=null,H5.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?z5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}};var K5=(n,e)=>e.some(t=>n instanceof t),XP,eO;function Q5(){return XP||(XP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Y5(){return eO||(eO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var tO=new WeakMap,K0=new WeakMap,nO=new WeakMap,W0=new WeakMap,Y0=new WeakMap;function Z5(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(fi(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&tO.set(t,n)}).catch(()=>{}),Y0.set(e,n),e}function J5(n){if(K0.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});K0.set(n,e)}var Q0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return K0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||nO.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return fi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function rO(n){Q0=n(Q0)}function X5(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(mm(this),e,...t);return nO.set(r,e.sort?e.sort():[e]),fi(r)}:Y5().includes(n)?function(...e){return n.apply(mm(this),e),fi(tO.get(this))}:function(...e){return fi(n.apply(mm(this),e))}}function ez(n){return typeof n=="function"?X5(n):(n instanceof IDBTransaction&&J5(n),K5(n,Q5())?new Proxy(n,Q0):n)}function fi(n){if(n instanceof IDBRequest)return Z5(n);if(W0.has(n))return W0.get(n);let e=ez(n);return e!==n&&(W0.set(n,e),Y0.set(e,n)),e}var mm=n=>Y0.get(n);function oO(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=fi(s);return r&&s.addEventListener("upgradeneeded",l=>{r(fi(s.result),l.oldVersion,l.newVersion,fi(s.transaction),l)}),t&&s.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var tz=["get","getKey","getAll","getAllKeys","count"],nz=["put","add","delete","clear"],Z0=new Map;function iO(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Z0.get(e))return Z0.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=nz.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||tz.includes(t)))return;let o=async function(s,...a){let l=this.transaction(s,i?"readwrite":"readonly"),u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[t](...a),i&&l.done]))[0]};return Z0.set(e,o),o}rO(n=>re(N({},n),{get:(e,t,r)=>iO(e,t)||n.get(e,t,r),has:(e,t)=>!!iO(e,t)||n.has(e,t)}));var X0=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(rz(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function rz(n){return n.getComponent()?.type==="VERSION"}var eC="@firebase/app",sO="0.14.8";var to=new Kl("@firebase/app"),iz="@firebase/app-compat",oz="@firebase/analytics-compat",sz="@firebase/analytics",az="@firebase/app-check-compat",lz="@firebase/app-check",cz="@firebase/auth",uz="@firebase/auth-compat",dz="@firebase/database",fz="@firebase/data-connect",hz="@firebase/database-compat",pz="@firebase/functions",gz="@firebase/functions-compat",mz="@firebase/installations",yz="@firebase/installations-compat",vz="@firebase/messaging",_z="@firebase/messaging-compat",bz="@firebase/performance",Ez="@firebase/performance-compat",wz="@firebase/remote-config",Cz="@firebase/remote-config-compat",Iz="@firebase/storage",Dz="@firebase/storage-compat",Tz="@firebase/firestore",Sz="@firebase/ai",Az="@firebase/firestore-compat",Mz="firebase",Nz="12.9.0";var tC="[DEFAULT]",xz={[eC]:"fire-core",[iz]:"fire-core-compat",[sz]:"fire-analytics",[oz]:"fire-analytics-compat",[lz]:"fire-app-check",[az]:"fire-app-check-compat",[cz]:"fire-auth",[uz]:"fire-auth-compat",[dz]:"fire-rtdb",[fz]:"fire-data-connect",[hz]:"fire-rtdb-compat",[pz]:"fire-fn",[gz]:"fire-fn-compat",[mz]:"fire-iid",[yz]:"fire-iid-compat",[vz]:"fire-fcm",[_z]:"fire-fcm-compat",[bz]:"fire-perf",[Ez]:"fire-perf-compat",[wz]:"fire-rc",[Cz]:"fire-rc-compat",[Iz]:"fire-gcs",[Dz]:"fire-gcs-compat",[Tz]:"fire-fst",[Az]:"fire-fst-compat",[Sz]:"fire-vertex","fire-js":"fire-js",[Mz]:"fire-js-all"};var ym=new Map,Rz=new Map,nC=new Map;function aO(n,e){try{n.container.addComponent(e)}catch(t){to.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function kd(n){let e=n.name;if(nC.has(e))return to.debug(`There were multiple attempts to register component ${e}.`),!1;nC.set(e,n);for(let t of ym.values())aO(t,n);for(let t of Rz.values())aO(t,n);return!0}function dO(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function fO(n){return n==null?!1:n.settings!==void 0}var Pz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wo=new Pd("app","Firebase",Pz);var rC=class{constructor(e,t,r){this._isDeleted=!1,this._options=N({},e),this._config=N({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new eo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wo.create("app-deleted",{appName:this._name})}};var hO=Nz;function sC(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=N({name:tC,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Wo.create("bad-app-name",{appName:String(i)});if(t||(t=H0()),!t)throw Wo.create("no-options");let o=ym.get(i);if(o){if(sa(t,o.options)&&sa(r,o.config))return o;throw Wo.create("duplicate-app",{appName:i})}let s=new gm(i);for(let l of nC.values())s.addComponent(l);let a=new rC(t,r,s);return ym.set(i,a),a}function pO(n=tC){let e=ym.get(n);if(!e&&n===tC&&H0())return sC();if(!e)throw Wo.create("no-app",{appName:n});return e}function Ko(n,e,t){let r=xz[n]??n;t&&(r+=`-${t}`);let i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){let s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),to.warn(s.join(" "));return}kd(new eo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var Oz="firebase-heartbeat-database",kz=1,Fd="firebase-heartbeat-store",J0=null;function gO(){return J0||(J0=oO(Oz,kz,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Fd)}catch(t){console.warn(t)}}}}).catch(n=>{throw Wo.create("idb-open",{originalErrorMessage:n.message})})),J0}async function Fz(n){try{let t=(await gO()).transaction(Fd),r=await t.objectStore(Fd).get(mO(n));return await t.done,r}catch(e){if(e instanceof Ji)to.warn(e.message);else{let t=Wo.create("idb-get",{originalErrorMessage:e?.message});to.warn(t.message)}}}async function lO(n,e){try{let r=(await gO()).transaction(Fd,"readwrite");await r.objectStore(Fd).put(e,mO(n)),await r.done}catch(t){if(t instanceof Ji)to.warn(t.message);else{let r=Wo.create("idb-set",{originalErrorMessage:t?.message});to.warn(r.message)}}}function mO(n){return`${n.name}!${n.options.appId}`}var Lz=1024,Vz=30,iC=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new oC(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{let t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=cO();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>Vz){let i=jz(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){to.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=cO(),{heartbeatsToSend:t,unsentEntries:r}=Bz(this._heartbeatsCache.heartbeats),i=Rd(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return to.warn(e),""}}};function cO(){return new Date().toISOString().substring(0,10)}function Bz(n,e=Lz){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),uO(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),uO(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var oC=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pm()?JP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let t=await Fz(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return lO(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return lO(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}};function uO(n){return Rd(JSON.stringify({version:2,heartbeats:n})).length}function jz(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function Uz(n){kd(new eo("platform-logger",e=>new X0(e),"PRIVATE")),kd(new eo("heartbeat",e=>new iC(e),"PRIVATE")),Ko(eC,sO,n),Ko(eC,sO,"esm2020"),Ko("fire-js","")}Uz("");var yO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},vO={};var no,aC;(function(){var n;function e(C,_){function E(){}E.prototype=_.prototype,C.F=_.prototype,C.prototype=new E,C.prototype.constructor=C,C.D=function(D,I,S){for(var b=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)b[vt-2]=arguments[vt];return _.prototype[I].apply(D,b)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,_,E){E||(E=0);let D=Array(16);if(typeof _=="string")for(var I=0;I<16;++I)D[I]=_.charCodeAt(E++)|_.charCodeAt(E++)<<8|_.charCodeAt(E++)<<16|_.charCodeAt(E++)<<24;else for(I=0;I<16;++I)D[I]=_[E++]|_[E++]<<8|_[E++]<<16|_[E++]<<24;_=C.g[0],E=C.g[1],I=C.g[2];let S=C.g[3],b;b=_+(S^E&(I^S))+D[0]+3614090360&4294967295,_=E+(b<<7&4294967295|b>>>25),b=S+(I^_&(E^I))+D[1]+3905402710&4294967295,S=_+(b<<12&4294967295|b>>>20),b=I+(E^S&(_^E))+D[2]+606105819&4294967295,I=S+(b<<17&4294967295|b>>>15),b=E+(_^I&(S^_))+D[3]+3250441966&4294967295,E=I+(b<<22&4294967295|b>>>10),b=_+(S^E&(I^S))+D[4]+4118548399&4294967295,_=E+(b<<7&4294967295|b>>>25),b=S+(I^_&(E^I))+D[5]+1200080426&4294967295,S=_+(b<<12&4294967295|b>>>20),b=I+(E^S&(_^E))+D[6]+2821735955&4294967295,I=S+(b<<17&4294967295|b>>>15),b=E+(_^I&(S^_))+D[7]+4249261313&4294967295,E=I+(b<<22&4294967295|b>>>10),b=_+(S^E&(I^S))+D[8]+1770035416&4294967295,_=E+(b<<7&4294967295|b>>>25),b=S+(I^_&(E^I))+D[9]+2336552879&4294967295,S=_+(b<<12&4294967295|b>>>20),b=I+(E^S&(_^E))+D[10]+4294925233&4294967295,I=S+(b<<17&4294967295|b>>>15),b=E+(_^I&(S^_))+D[11]+2304563134&4294967295,E=I+(b<<22&4294967295|b>>>10),b=_+(S^E&(I^S))+D[12]+1804603682&4294967295,_=E+(b<<7&4294967295|b>>>25),b=S+(I^_&(E^I))+D[13]+4254626195&4294967295,S=_+(b<<12&4294967295|b>>>20),b=I+(E^S&(_^E))+D[14]+2792965006&4294967295,I=S+(b<<17&4294967295|b>>>15),b=E+(_^I&(S^_))+D[15]+1236535329&4294967295,E=I+(b<<22&4294967295|b>>>10),b=_+(I^S&(E^I))+D[1]+4129170786&4294967295,_=E+(b<<5&4294967295|b>>>27),b=S+(E^I&(_^E))+D[6]+3225465664&4294967295,S=_+(b<<9&4294967295|b>>>23),b=I+(_^E&(S^_))+D[11]+643717713&4294967295,I=S+(b<<14&4294967295|b>>>18),b=E+(S^_&(I^S))+D[0]+3921069994&4294967295,E=I+(b<<20&4294967295|b>>>12),b=_+(I^S&(E^I))+D[5]+3593408605&4294967295,_=E+(b<<5&4294967295|b>>>27),b=S+(E^I&(_^E))+D[10]+38016083&4294967295,S=_+(b<<9&4294967295|b>>>23),b=I+(_^E&(S^_))+D[15]+3634488961&4294967295,I=S+(b<<14&4294967295|b>>>18),b=E+(S^_&(I^S))+D[4]+3889429448&4294967295,E=I+(b<<20&4294967295|b>>>12),b=_+(I^S&(E^I))+D[9]+568446438&4294967295,_=E+(b<<5&4294967295|b>>>27),b=S+(E^I&(_^E))+D[14]+3275163606&4294967295,S=_+(b<<9&4294967295|b>>>23),b=I+(_^E&(S^_))+D[3]+4107603335&4294967295,I=S+(b<<14&4294967295|b>>>18),b=E+(S^_&(I^S))+D[8]+1163531501&4294967295,E=I+(b<<20&4294967295|b>>>12),b=_+(I^S&(E^I))+D[13]+2850285829&4294967295,_=E+(b<<5&4294967295|b>>>27),b=S+(E^I&(_^E))+D[2]+4243563512&4294967295,S=_+(b<<9&4294967295|b>>>23),b=I+(_^E&(S^_))+D[7]+1735328473&4294967295,I=S+(b<<14&4294967295|b>>>18),b=E+(S^_&(I^S))+D[12]+2368359562&4294967295,E=I+(b<<20&4294967295|b>>>12),b=_+(E^I^S)+D[5]+4294588738&4294967295,_=E+(b<<4&4294967295|b>>>28),b=S+(_^E^I)+D[8]+2272392833&4294967295,S=_+(b<<11&4294967295|b>>>21),b=I+(S^_^E)+D[11]+1839030562&4294967295,I=S+(b<<16&4294967295|b>>>16),b=E+(I^S^_)+D[14]+4259657740&4294967295,E=I+(b<<23&4294967295|b>>>9),b=_+(E^I^S)+D[1]+2763975236&4294967295,_=E+(b<<4&4294967295|b>>>28),b=S+(_^E^I)+D[4]+1272893353&4294967295,S=_+(b<<11&4294967295|b>>>21),b=I+(S^_^E)+D[7]+4139469664&4294967295,I=S+(b<<16&4294967295|b>>>16),b=E+(I^S^_)+D[10]+3200236656&4294967295,E=I+(b<<23&4294967295|b>>>9),b=_+(E^I^S)+D[13]+681279174&4294967295,_=E+(b<<4&4294967295|b>>>28),b=S+(_^E^I)+D[0]+3936430074&4294967295,S=_+(b<<11&4294967295|b>>>21),b=I+(S^_^E)+D[3]+3572445317&4294967295,I=S+(b<<16&4294967295|b>>>16),b=E+(I^S^_)+D[6]+76029189&4294967295,E=I+(b<<23&4294967295|b>>>9),b=_+(E^I^S)+D[9]+3654602809&4294967295,_=E+(b<<4&4294967295|b>>>28),b=S+(_^E^I)+D[12]+3873151461&4294967295,S=_+(b<<11&4294967295|b>>>21),b=I+(S^_^E)+D[15]+530742520&4294967295,I=S+(b<<16&4294967295|b>>>16),b=E+(I^S^_)+D[2]+3299628645&4294967295,E=I+(b<<23&4294967295|b>>>9),b=_+(I^(E|~S))+D[0]+4096336452&4294967295,_=E+(b<<6&4294967295|b>>>26),b=S+(E^(_|~I))+D[7]+1126891415&4294967295,S=_+(b<<10&4294967295|b>>>22),b=I+(_^(S|~E))+D[14]+2878612391&4294967295,I=S+(b<<15&4294967295|b>>>17),b=E+(S^(I|~_))+D[5]+4237533241&4294967295,E=I+(b<<21&4294967295|b>>>11),b=_+(I^(E|~S))+D[12]+1700485571&4294967295,_=E+(b<<6&4294967295|b>>>26),b=S+(E^(_|~I))+D[3]+2399980690&4294967295,S=_+(b<<10&4294967295|b>>>22),b=I+(_^(S|~E))+D[10]+4293915773&4294967295,I=S+(b<<15&4294967295|b>>>17),b=E+(S^(I|~_))+D[1]+2240044497&4294967295,E=I+(b<<21&4294967295|b>>>11),b=_+(I^(E|~S))+D[8]+1873313359&4294967295,_=E+(b<<6&4294967295|b>>>26),b=S+(E^(_|~I))+D[15]+4264355552&4294967295,S=_+(b<<10&4294967295|b>>>22),b=I+(_^(S|~E))+D[6]+2734768916&4294967295,I=S+(b<<15&4294967295|b>>>17),b=E+(S^(I|~_))+D[13]+1309151649&4294967295,E=I+(b<<21&4294967295|b>>>11),b=_+(I^(E|~S))+D[4]+4149444226&4294967295,_=E+(b<<6&4294967295|b>>>26),b=S+(E^(_|~I))+D[11]+3174756917&4294967295,S=_+(b<<10&4294967295|b>>>22),b=I+(_^(S|~E))+D[2]+718787259&4294967295,I=S+(b<<15&4294967295|b>>>17),b=E+(S^(I|~_))+D[9]+3951481745&4294967295,C.g[0]=C.g[0]+_&4294967295,C.g[1]=C.g[1]+(I+(b<<21&4294967295|b>>>11))&4294967295,C.g[2]=C.g[2]+I&4294967295,C.g[3]=C.g[3]+S&4294967295}r.prototype.v=function(C,_){_===void 0&&(_=C.length);let E=_-this.blockSize,D=this.C,I=this.h,S=0;for(;S<_;){if(I==0)for(;S<=E;)i(this,C,S),S+=this.blockSize;if(typeof C=="string"){for(;S<_;)if(D[I++]=C.charCodeAt(S++),I==this.blockSize){i(this,D),I=0;break}}else for(;S<_;)if(D[I++]=C[S++],I==this.blockSize){i(this,D),I=0;break}}this.h=I,this.o+=_},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var _=1;_<C.length-8;++_)C[_]=0;_=this.o*8;for(var E=C.length-8;E<C.length;++E)C[E]=_&255,_/=256;for(this.v(C),C=Array(16),_=0,E=0;E<4;++E)for(let D=0;D<32;D+=8)C[_++]=this.g[E]>>>D&255;return C};function o(C,_){var E=a;return Object.prototype.hasOwnProperty.call(E,C)?E[C]:E[C]=_(C)}function s(C,_){this.h=_;let E=[],D=!0;for(let I=C.length-1;I>=0;I--){let S=C[I]|0;D&&S==_||(E[I]=S,D=!1)}this.g=E}var a={};function l(C){return-128<=C&&C<128?o(C,function(_){return new s([_|0],_<0?-1:0)}):new s([C|0],C<0?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return f;if(C<0)return M(u(-C));let _=[],E=1;for(let D=0;C>=E;D++)_[D]=C/E|0,E*=4294967296;return new s(_,0)}function d(C,_){if(C.length==0)throw Error("number format error: empty string");if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(C.charAt(0)=="-")return M(d(C.substring(1),_));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');let E=u(Math.pow(_,8)),D=f;for(let S=0;S<C.length;S+=8){var I=Math.min(8,C.length-S);let b=parseInt(C.substring(S,S+I),_);I<8?(I=u(Math.pow(_,I)),D=D.j(I).add(u(b))):(D=D.j(E),D=D.add(u(b)))}return D}var f=l(0),g=l(1),m=l(16777216);n=s.prototype,n.m=function(){if(w(this))return-M(this).m();let C=0,_=1;for(let E=0;E<this.g.length;E++){let D=this.i(E);C+=(D>=0?D:4294967296+D)*_,_*=4294967296}return C},n.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(v(this))return"0";if(w(this))return"-"+M(this).toString(C);let _=u(Math.pow(C,6));var E=this;let D="";for(;;){let I=ne(E,_).g;E=O(E,I.j(_));let S=((E.g.length>0?E.g[0]:E.h)>>>0).toString(C);if(E=I,v(E))return S+D;for(;S.length<6;)S="0"+S;D=S+D}},n.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function v(C){if(C.h!=0)return!1;for(let _=0;_<C.g.length;_++)if(C.g[_]!=0)return!1;return!0}function w(C){return C.h==-1}n.l=function(C){return C=O(this,C),w(C)?-1:v(C)?0:1};function M(C){let _=C.g.length,E=[];for(let D=0;D<_;D++)E[D]=~C.g[D];return new s(E,~C.h).add(g)}n.abs=function(){return w(this)?M(this):this},n.add=function(C){let _=Math.max(this.g.length,C.g.length),E=[],D=0;for(let I=0;I<=_;I++){let S=D+(this.i(I)&65535)+(C.i(I)&65535),b=(S>>>16)+(this.i(I)>>>16)+(C.i(I)>>>16);D=b>>>16,S&=65535,b&=65535,E[I]=b<<16|S}return new s(E,E[E.length-1]&-2147483648?-1:0)};function O(C,_){return C.add(M(_))}n.j=function(C){if(v(this)||v(C))return f;if(w(this))return w(C)?M(this).j(M(C)):M(M(this).j(C));if(w(C))return M(this.j(M(C)));if(this.l(m)<0&&C.l(m)<0)return u(this.m()*C.m());let _=this.g.length+C.g.length,E=[];for(var D=0;D<2*_;D++)E[D]=0;for(D=0;D<this.g.length;D++)for(let I=0;I<C.g.length;I++){let S=this.i(D)>>>16,b=this.i(D)&65535,vt=C.i(I)>>>16,yn=C.i(I)&65535;E[2*D+2*I]+=b*yn,j(E,2*D+2*I),E[2*D+2*I+1]+=S*yn,j(E,2*D+2*I+1),E[2*D+2*I+1]+=b*vt,j(E,2*D+2*I+1),E[2*D+2*I+2]+=S*vt,j(E,2*D+2*I+2)}for(C=0;C<_;C++)E[C]=E[2*C+1]<<16|E[2*C];for(C=_;C<2*_;C++)E[C]=0;return new s(E,0)};function j(C,_){for(;(C[_]&65535)!=C[_];)C[_+1]+=C[_]>>>16,C[_]&=65535,_++}function z(C,_){this.g=C,this.h=_}function ne(C,_){if(v(_))throw Error("division by zero");if(v(C))return new z(f,f);if(w(C))return _=ne(M(C),_),new z(M(_.g),M(_.h));if(w(_))return _=ne(C,M(_)),new z(M(_.g),_.h);if(C.g.length>30){if(w(C)||w(_))throw Error("slowDivide_ only works with positive integers.");for(var E=g,D=_;D.l(C)<=0;)E=Ce(E),D=Ce(D);var I=ae(E,1),S=ae(D,1);for(D=ae(D,2),E=ae(E,2);!v(D);){var b=S.add(D);b.l(C)<=0&&(I=I.add(E),S=b),D=ae(D,1),E=ae(E,1)}return _=O(C,I.j(_)),new z(I,_)}for(I=f;C.l(_)>=0;){for(E=Math.max(1,Math.floor(C.m()/_.m())),D=Math.ceil(Math.log(E)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),S=u(E),b=S.j(_);w(b)||b.l(C)>0;)E-=D,S=u(E),b=S.j(_);v(S)&&(S=g),I=I.add(S),C=O(C,b)}return new z(I,C)}n.B=function(C){return ne(this,C).h},n.and=function(C){let _=Math.max(this.g.length,C.g.length),E=[];for(let D=0;D<_;D++)E[D]=this.i(D)&C.i(D);return new s(E,this.h&C.h)},n.or=function(C){let _=Math.max(this.g.length,C.g.length),E=[];for(let D=0;D<_;D++)E[D]=this.i(D)|C.i(D);return new s(E,this.h|C.h)},n.xor=function(C){let _=Math.max(this.g.length,C.g.length),E=[];for(let D=0;D<_;D++)E[D]=this.i(D)^C.i(D);return new s(E,this.h^C.h)};function Ce(C){let _=C.g.length+1,E=[];for(let D=0;D<_;D++)E[D]=C.i(D)<<1|C.i(D-1)>>>31;return new s(E,C.h)}function ae(C,_){let E=_>>5;_%=32;let D=C.g.length-E,I=[];for(let S=0;S<D;S++)I[S]=_>0?C.i(S+E)>>>_|C.i(S+E+1)<<32-_:C.i(S+E);return new s(I,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,aC=vO.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,no=vO.Integer=s}).apply(typeof yO<"u"?yO:typeof self<"u"?self:typeof window<"u"?window:{});var vm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ro={};var lC,$z,Ql,cC,Ld,_m,uC,dC,fC;(function(){var n,e=Object.defineProperty;function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof vm=="object"&&vm];for(var h=0;h<c.length;++h){var p=c[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=t(this);function i(c,h){if(h)e:{var p=r;c=c.split(".");for(var y=0;y<c.length-1;y++){var A=c[y];if(!(A in p))break e;p=p[A]}c=c[c.length-1],y=p[c],h=h(y),h!=y&&h!=null&&e(p,c,{configurable:!0,writable:!0,value:h})}}i("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(c){return c||function(h){var p=[],y;for(y in h)Object.prototype.hasOwnProperty.call(h,y)&&p.push([y,h[y]]);return p}});var o=o||{},s=this||self;function a(c){var h=typeof c;return h=="object"&&c!=null||h=="function"}function l(c,h,p){return c.call.apply(c.bind,arguments)}function u(c,h,p){return u=l,u.apply(null,arguments)}function d(c,h){var p=Array.prototype.slice.call(arguments,1);return function(){var y=p.slice();return y.push.apply(y,arguments),c.apply(this,y)}}function f(c,h){function p(){}p.prototype=h.prototype,c.Z=h.prototype,c.prototype=new p,c.prototype.constructor=c,c.Ob=function(y,A,R){for(var W=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)W[Se-2]=arguments[Se];return h.prototype[A].apply(y,W)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function m(c){let h=c.length;if(h>0){let p=Array(h);for(let y=0;y<h;y++)p[y]=c[y];return p}return[]}function v(c,h){for(let y=1;y<arguments.length;y++){let A=arguments[y];var p=typeof A;if(p=p!="object"?p:A?Array.isArray(A)?"array":p:"null",p=="array"||p=="object"&&typeof A.length=="number"){p=c.length||0;let R=A.length||0;c.length=p+R;for(let W=0;W<R;W++)c[p+W]=A[W]}else c.push(A)}}class w{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return this.h>0?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function M(c){s.setTimeout(()=>{throw c},0)}function O(){var c=C;let h=null;return c.g&&(h=c.g,c.g=c.g.next,c.g||(c.h=null),h.next=null),h}class j{constructor(){this.h=this.g=null}add(h,p){let y=z.get();y.set(h,p),this.h?this.h.next=y:this.g=y,this.h=y}}var z=new w(()=>new ne,c=>c.reset());class ne{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Ce,ae=!1,C=new j,_=()=>{let c=Promise.resolve(void 0);Ce=()=>{c.then(E)}};function E(){for(var c;c=O();){try{c.h.call(c.g)}catch(p){M(p)}var h=z;h.j(c),h.h<100&&(h.h++,c.next=h.g,h.g=c)}ae=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(c,h){this.type=c,this.g=this.target=h,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var S=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var c=!1,h=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let p=()=>{};s.addEventListener("test",p,h),s.removeEventListener("test",p,h)}catch{}return c})();function b(c){return/^[\s\xa0]*$/.test(c)}function vt(c,h){I.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,h)}f(vt,I),vt.prototype.init=function(c,h){let p=this.type=c.type,y=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=h,h=c.relatedTarget,h||(p=="mouseover"?h=c.fromElement:p=="mouseout"&&(h=c.toElement)),this.relatedTarget=h,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&vt.Z.h.call(this)},vt.prototype.h=function(){vt.Z.h.call(this);let c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var yn="closure_listenable_"+(Math.random()*1e6|0),Q=0;function Z(c,h,p,y,A){this.listener=c,this.proxy=null,this.src=h,this.type=p,this.capture=!!y,this.ha=A,this.key=++Q,this.da=this.fa=!1}function J(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ie(c,h,p){for(let y in c)h.call(p,c[y],y,c)}function dt(c,h){for(let p in c)h.call(void 0,c[p],p,c)}function Zt(c){let h={};for(let p in c)h[p]=c[p];return h}let Mt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ln(c,h){let p,y;for(let A=1;A<arguments.length;A++){y=arguments[A];for(p in y)c[p]=y[p];for(let R=0;R<Mt.length;R++)p=Mt[R],Object.prototype.hasOwnProperty.call(y,p)&&(c[p]=y[p])}}function ze(c){this.src=c,this.g={},this.h=0}ze.prototype.add=function(c,h,p,y,A){let R=c.toString();c=this.g[R],c||(c=this.g[R]=[],this.h++);let W=fo(c,h,y,A);return W>-1?(h=c[W],p||(h.fa=!1)):(h=new Z(h,this.src,R,!!y,A),h.fa=p,c.push(h)),h};function Ei(c,h){let p=h.type;if(p in c.g){var y=c.g[p],A=Array.prototype.indexOf.call(y,h,void 0),R;(R=A>=0)&&Array.prototype.splice.call(y,A,1),R&&(J(h),c.g[p].length==0&&(delete c.g[p],c.h--))}}function fo(c,h,p,y){for(let A=0;A<c.length;++A){let R=c[A];if(!R.da&&R.listener==h&&R.capture==!!p&&R.ha==y)return A}return-1}var Tt="closure_lm_"+(Math.random()*1e6|0),Kn={};function sn(c,h,p,y,A){if(y&&y.once)return Lf(c,h,p,y,A);if(Array.isArray(h)){for(let R=0;R<h.length;R++)sn(c,h[R],p,y,A);return null}return p=zc(p),c&&c[yn]?c.J(h,p,a(y)?!!y.capture:!!y,A):wi(c,h,p,!1,y,A)}function wi(c,h,p,y,A,R){if(!h)throw Error("Invalid event type");let W=a(A)?!!A.capture:!!A,Se=$c(c);if(Se||(c[Tt]=Se=new ze(c)),p=Se.add(h,p,y,W,R),p.proxy)return p;if(y=ps(),p.proxy=y,y.src=c,y.listener=p,c.addEventListener)S||(A=W),A===void 0&&(A=!1),c.addEventListener(h.toString(),y,A);else if(c.attachEvent)c.attachEvent(Bf(h.toString()),y);else if(c.addListener&&c.removeListener)c.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return p}function ps(){function c(p){return h.call(c.src,c.listener,p)}let h=vv;return c}function Lf(c,h,p,y,A){if(Array.isArray(h)){for(let R=0;R<h.length;R++)Lf(c,h[R],p,y,A);return null}return p=zc(p),c&&c[yn]?c.K(h,p,a(y)?!!y.capture:!!y,A):wi(c,h,p,!0,y,A)}function Vf(c,h,p,y,A){if(Array.isArray(h))for(var R=0;R<h.length;R++)Vf(c,h[R],p,y,A);else y=a(y)?!!y.capture:!!y,p=zc(p),c&&c[yn]?(c=c.i,R=String(h).toString(),R in c.g&&(h=c.g[R],p=fo(h,p,y,A),p>-1&&(J(h[p]),Array.prototype.splice.call(h,p,1),h.length==0&&(delete c.g[R],c.h--)))):c&&(c=$c(c))&&(h=c.g[h.toString()],c=-1,h&&(c=fo(h,p,y,A)),(p=c>-1?h[c]:null)&&Uc(p))}function Uc(c){if(typeof c!="number"&&c&&!c.da){var h=c.src;if(h&&h[yn])Ei(h.i,c);else{var p=c.type,y=c.proxy;h.removeEventListener?h.removeEventListener(p,y,c.capture):h.detachEvent?h.detachEvent(Bf(p),y):h.addListener&&h.removeListener&&h.removeListener(y),(p=$c(h))?(Ei(p,c),p.h==0&&(p.src=null,h[Tt]=null)):J(c)}}}function Bf(c){return c in Kn?Kn[c]:Kn[c]="on"+c}function vv(c,h){if(c.da)c=!0;else{h=new vt(h,this);let p=c.listener,y=c.ha||c.src;c.fa&&Uc(c),c=p.call(y,h)}return c}function $c(c){return c=c[Tt],c instanceof ze?c:null}var Hc="__closure_events_fn_"+(Math.random()*1e9>>>0);function zc(c){return typeof c=="function"?c:(c[Hc]||(c[Hc]=function(h){return c.handleEvent(h)}),c[Hc])}function Jt(){D.call(this),this.i=new ze(this),this.M=this,this.G=null}f(Jt,D),Jt.prototype[yn]=!0,Jt.prototype.removeEventListener=function(c,h,p,y){Vf(this,c,h,p,y)};function an(c,h){var p,y=c.G;if(y)for(p=[];y;y=y.G)p.push(y);if(c=c.M,y=h.type||h,typeof h=="string")h=new I(h,c);else if(h instanceof I)h.target=h.target||c;else{var A=h;h=new I(y,c),Ln(h,A)}A=!0;let R,W;if(p)for(W=p.length-1;W>=0;W--)R=h.g=p[W],A=Va(R,y,!0,h)&&A;if(R=h.g=c,A=Va(R,y,!0,h)&&A,A=Va(R,y,!1,h)&&A,p)for(W=0;W<p.length;W++)R=h.g=p[W],A=Va(R,y,!1,h)&&A}Jt.prototype.N=function(){if(Jt.Z.N.call(this),this.i){var c=this.i;for(let h in c.g){let p=c.g[h];for(let y=0;y<p.length;y++)J(p[y]);delete c.g[h],c.h--}}this.G=null},Jt.prototype.J=function(c,h,p,y){return this.i.add(String(c),h,!1,p,y)},Jt.prototype.K=function(c,h,p,y){return this.i.add(String(c),h,!0,p,y)};function Va(c,h,p,y){if(h=c.i.g[String(h)],!h)return!0;h=h.concat();let A=!0;for(let R=0;R<h.length;++R){let W=h[R];if(W&&!W.da&&W.capture==p){let Se=W.listener,qt=W.ha||W.src;W.fa&&Ei(c.i,W),A=Se.call(qt,y)!==!1&&A}}return A&&!y.defaultPrevented}function _v(c,h){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=u(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(h)>2147483647?-1:s.setTimeout(c,h||0)}function jf(c){c.g=_v(()=>{c.g=null,c.i&&(c.i=!1,jf(c))},c.l);let h=c.h;c.h=null,c.m.apply(null,h)}class jV extends D{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:jf(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qc(c){D.call(this),this.h=c,this.g={}}f(qc,D);var oT=[];function sT(c){Ie(c.g,function(h,p){this.g.hasOwnProperty(p)&&Uc(h)},c),c.g={}}qc.prototype.N=function(){qc.Z.N.call(this),sT(this)},qc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bv=s.JSON.stringify,UV=s.JSON.parse,$V=class{stringify(c){return s.JSON.stringify(c,void 0)}parse(c){return s.JSON.parse(c,void 0)}};function aT(){}function lT(){}var Gc={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ev(){I.call(this,"d")}f(Ev,I);function wv(){I.call(this,"c")}f(wv,I);var gs={},cT=null;function Uf(){return cT=cT||new Jt}gs.Ia="serverreachability";function uT(c){I.call(this,gs.Ia,c)}f(uT,I);function Wc(c){let h=Uf();an(h,new uT(h))}gs.STAT_EVENT="statevent";function dT(c,h){I.call(this,gs.STAT_EVENT,c),this.stat=h}f(dT,I);function Mn(c){let h=Uf();an(h,new dT(h,c))}gs.Ja="timingevent";function fT(c,h){I.call(this,gs.Ja,c),this.size=h}f(fT,I);function Kc(c,h){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){c()},h)}function Qc(){this.g=!0}Qc.prototype.ua=function(){this.g=!1};function HV(c,h,p,y,A,R){c.info(function(){if(c.g)if(R){var W="",Se=R.split("&");for(let at=0;at<Se.length;at++){var qt=Se[at].split("=");if(qt.length>1){let Xt=qt[0];qt=qt[1];let Jr=Xt.split("_");W=Jr.length>=2&&Jr[1]=="type"?W+(Xt+"="+qt+"&"):W+(Xt+"=redacted&")}}}else W=null;else W=R;return"XMLHTTP REQ ("+y+") [attempt "+A+"]: "+h+`
`+p+`
`+W})}function zV(c,h,p,y,A,R,W){c.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+A+"]: "+h+`
`+p+`
`+R+" "+W})}function Ba(c,h,p,y){c.info(function(){return"XMLHTTP TEXT ("+h+"): "+GV(c,p)+(y?" "+y:"")})}function qV(c,h){c.info(function(){return"TIMEOUT: "+h})}Qc.prototype.info=function(){};function GV(c,h){if(!c.g)return h;if(!h)return null;try{let R=JSON.parse(h);if(R){for(c=0;c<R.length;c++)if(Array.isArray(R[c])){var p=R[c];if(!(p.length<2)){var y=p[1];if(Array.isArray(y)&&!(y.length<1)){var A=y[0];if(A!="noop"&&A!="stop"&&A!="close")for(let W=1;W<y.length;W++)y[W]=""}}}}return bv(R)}catch{return h}}var $f={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},hT={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},pT;function Cv(){}f(Cv,aT),Cv.prototype.g=function(){return new XMLHttpRequest},pT=new Cv;function Yc(c){return encodeURIComponent(String(c))}function WV(c){var h=1;c=c.split(":");let p=[];for(;h>0&&c.length;)p.push(c.shift()),h--;return c.length&&p.push(c.join(":")),p}function ho(c,h,p,y){this.j=c,this.i=h,this.l=p,this.S=y||1,this.V=new qc(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new gT}function gT(){this.i=null,this.g="",this.h=!1}var mT={},Iv={};function Dv(c,h,p){c.M=1,c.A=zf(Zr(h)),c.u=p,c.R=!0,yT(c,null)}function yT(c,h){c.F=Date.now(),Hf(c),c.B=Zr(c.A);var p=c.B,y=c.S;Array.isArray(y)||(y=[String(y)]),NT(p.i,"t",y),c.C=0,p=c.j.L,c.h=new gT,c.g=KT(c.j,p?h:null,!c.u),c.P>0&&(c.O=new jV(u(c.Y,c,c.g),c.P)),h=c.V,p=c.g,y=c.ba;var A="readystatechange";Array.isArray(A)||(A&&(oT[0]=A.toString()),A=oT);for(let R=0;R<A.length;R++){let W=sn(p,A[R],y||h.handleEvent,!1,h.h||h);if(!W)break;h.g[W.key]=W}h=c.J?Zt(c.J):{},c.u?(c.v||(c.v="POST"),h["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,h)):(c.v="GET",c.g.ea(c.B,c.v,null,h)),Wc(),HV(c.i,c.v,c.B,c.l,c.S,c.u)}ho.prototype.ba=function(c){c=c.target;let h=this.O;h&&mo(c)==3?h.j():this.Y(c)},ho.prototype.Y=function(c){try{if(c==this.g)e:{let Se=mo(this.g),qt=this.g.ya(),at=this.g.ca();if(!(Se<3)&&(Se!=3||this.g&&(this.h.h||this.g.la()||LT(this.g)))){this.K||Se!=4||qt==7||(qt==8||at<=0?Wc(3):Wc(2)),Tv(this);var h=this.g.ca();this.X=h;var p=KV(this);if(this.o=h==200,zV(this.i,this.v,this.B,this.l,this.S,Se,h),this.o){if(this.U&&!this.L){t:{if(this.g){var y,A=this.g;if((y=A.g?A.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(y)){var R=y;break t}}R=null}if(c=R)Ba(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Sv(this,c);else{this.o=!1,this.m=3,Mn(12),ms(this),Zc(this);break e}}if(this.R){c=!0;let Xt;for(;!this.K&&this.C<p.length;)if(Xt=QV(this,p),Xt==Iv){Se==4&&(this.m=4,Mn(14),c=!1),Ba(this.i,this.l,null,"[Incomplete Response]");break}else if(Xt==mT){this.m=4,Mn(15),Ba(this.i,this.l,p,"[Invalid Chunk]"),c=!1;break}else Ba(this.i,this.l,Xt,null),Sv(this,Xt);if(vT(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||p.length!=0||this.h.h||(this.m=1,Mn(16),c=!1),this.o=this.o&&c,!c)Ba(this.i,this.l,p,"[Invalid Chunked Response]"),ms(this),Zc(this);else if(p.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),Ov(W),W.P=!0,Mn(11))}}else Ba(this.i,this.l,p,null),Sv(this,p);Se==4&&ms(this),this.o&&!this.K&&(Se==4?zT(this.j,this):(this.o=!1,Hf(this)))}else c2(this.g),h==400&&p.indexOf("Unknown SID")>0?(this.m=3,Mn(12)):(this.m=0,Mn(13)),ms(this),Zc(this)}}}catch{}};function KV(c){if(!vT(c))return c.g.la();let h=LT(c.g);if(h==="")return"";let p="",y=h.length,A=mo(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return ms(c),Zc(c),"";c.h.i=new s.TextDecoder}for(let R=0;R<y;R++)c.h.h=!0,p+=c.h.i.decode(h[R],{stream:!(A&&R==y-1)});return h.length=0,c.h.g+=p,c.C=0,c.h.g}function vT(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function QV(c,h){var p=c.C,y=h.indexOf(`
`,p);return y==-1?Iv:(p=Number(h.substring(p,y)),isNaN(p)?mT:(y+=1,y+p>h.length?Iv:(h=h.slice(y,y+p),c.C=y+p,h)))}ho.prototype.cancel=function(){this.K=!0,ms(this)};function Hf(c){c.T=Date.now()+c.H,_T(c,c.H)}function _T(c,h){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Kc(u(c.aa,c),h)}function Tv(c){c.D&&(s.clearTimeout(c.D),c.D=null)}ho.prototype.aa=function(){this.D=null;let c=Date.now();c-this.T>=0?(qV(this.i,this.B),this.M!=2&&(Wc(),Mn(17)),ms(this),this.m=2,Zc(this)):_T(this,this.T-c)};function Zc(c){c.j.I==0||c.K||zT(c.j,c)}function ms(c){Tv(c);var h=c.O;h&&typeof h.dispose=="function"&&h.dispose(),c.O=null,sT(c.V),c.g&&(h=c.g,c.g=null,h.abort(),h.dispose())}function Sv(c,h){try{var p=c.j;if(p.I!=0&&(p.g==c||Av(p.h,c))){if(!c.L&&Av(p.h,c)&&p.I==3){try{var y=p.Ba.g.parse(h)}catch{y=null}if(Array.isArray(y)&&y.length==3){var A=y;if(A[0]==0){e:if(!p.v){if(p.g)if(p.g.F+3e3<c.F)Yf(p),Kf(p);else break e;Pv(p),Mn(18)}}else p.xa=A[1],0<p.xa-p.K&&A[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=Kc(u(p.Va,p),6e3));wT(p.h)<=1&&p.ta&&(p.ta=void 0)}else vs(p,11)}else if((c.L||p.g==c)&&Yf(p),!b(h))for(A=p.Ba.g.parse(h),h=0;h<A.length;h++){let at=A[h],Xt=at[0];if(!(Xt<=p.K))if(p.K=Xt,at=at[1],p.I==2)if(at[0]=="c"){p.M=at[1],p.ba=at[2];let Jr=at[3];Jr!=null&&(p.ka=Jr,p.j.info("VER="+p.ka));let _s=at[4];_s!=null&&(p.za=_s,p.j.info("SVER="+p.za));let yo=at[5];yo!=null&&typeof yo=="number"&&yo>0&&(y=1.5*yo,p.O=y,p.j.info("backChannelRequestTimeoutMs_="+y)),y=p;let vo=c.g;if(vo){let Jf=vo.g?vo.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jf){var R=y.h;R.g||Jf.indexOf("spdy")==-1&&Jf.indexOf("quic")==-1&&Jf.indexOf("h2")==-1||(R.j=R.l,R.g=new Set,R.h&&(Mv(R,R.h),R.h=null))}if(y.G){let kv=vo.g?vo.g.getResponseHeader("X-HTTP-Session-Id"):null;kv&&(y.wa=kv,ft(y.J,y.G,kv))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-c.F,p.j.info("Handshake RTT: "+p.T+"ms")),y=p;var W=c;if(y.na=WT(y,y.L?y.ba:null,y.W),W.L){CT(y.h,W);var Se=W,qt=y.O;qt&&(Se.H=qt),Se.D&&(Tv(Se),Hf(Se)),y.g=W}else $T(y);p.i.length>0&&Qf(p)}else at[0]!="stop"&&at[0]!="close"||vs(p,7);else p.I==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?vs(p,7):Rv(p):at[0]!="noop"&&p.l&&p.l.qa(at),p.A=0)}}Wc(4)}catch{}}var YV=class{constructor(c,h){this.g=c,this.map=h}};function bT(c){this.l=c||10,s.PerformanceNavigationTiming?(c=s.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ET(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function wT(c){return c.h?1:c.g?c.g.size:0}function Av(c,h){return c.h?c.h==h:c.g?c.g.has(h):!1}function Mv(c,h){c.g?c.g.add(h):c.h=h}function CT(c,h){c.h&&c.h==h?c.h=null:c.g&&c.g.has(h)&&c.g.delete(h)}bT.prototype.cancel=function(){if(this.i=IT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function IT(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let h=c.i;for(let p of c.g.values())h=h.concat(p.G);return h}return m(c.i)}var DT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ZV(c,h){if(c){c=c.split("&");for(let p=0;p<c.length;p++){let y=c[p].indexOf("="),A,R=null;y>=0?(A=c[p].substring(0,y),R=c[p].substring(y+1)):A=c[p],h(A,R?decodeURIComponent(R.replace(/\+/g," ")):"")}}}function po(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let h;c instanceof po?(this.l=c.l,Jc(this,c.j),this.o=c.o,this.g=c.g,Xc(this,c.u),this.h=c.h,Nv(this,xT(c.i)),this.m=c.m):c&&(h=String(c).match(DT))?(this.l=!1,Jc(this,h[1]||"",!0),this.o=eu(h[2]||""),this.g=eu(h[3]||"",!0),Xc(this,h[4]),this.h=eu(h[5]||"",!0),Nv(this,h[6]||"",!0),this.m=eu(h[7]||"")):(this.l=!1,this.i=new nu(null,this.l))}po.prototype.toString=function(){let c=[];var h=this.j;h&&c.push(tu(h,TT,!0),":");var p=this.g;return(p||h=="file")&&(c.push("//"),(h=this.o)&&c.push(tu(h,TT,!0),"@"),c.push(Yc(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&c.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&c.push("/"),c.push(tu(p,p.charAt(0)=="/"?e2:XV,!0))),(p=this.i.toString())&&c.push("?",p),(p=this.m)&&c.push("#",tu(p,n2)),c.join("")},po.prototype.resolve=function(c){let h=Zr(this),p=!!c.j;p?Jc(h,c.j):p=!!c.o,p?h.o=c.o:p=!!c.g,p?h.g=c.g:p=c.u!=null;var y=c.h;if(p)Xc(h,c.u);else if(p=!!c.h){if(y.charAt(0)!="/")if(this.g&&!this.h)y="/"+y;else{var A=h.h.lastIndexOf("/");A!=-1&&(y=h.h.slice(0,A+1)+y)}if(A=y,A==".."||A==".")y="";else if(A.indexOf("./")!=-1||A.indexOf("/.")!=-1){y=A.lastIndexOf("/",0)==0,A=A.split("/");let R=[];for(let W=0;W<A.length;){let Se=A[W++];Se=="."?y&&W==A.length&&R.push(""):Se==".."?((R.length>1||R.length==1&&R[0]!="")&&R.pop(),y&&W==A.length&&R.push("")):(R.push(Se),y=!0)}y=R.join("/")}else y=A}return p?h.h=y:p=c.i.toString()!=="",p?Nv(h,xT(c.i)):p=!!c.m,p&&(h.m=c.m),h};function Zr(c){return new po(c)}function Jc(c,h,p){c.j=p?eu(h,!0):h,c.j&&(c.j=c.j.replace(/:$/,""))}function Xc(c,h){if(h){if(h=Number(h),isNaN(h)||h<0)throw Error("Bad port number "+h);c.u=h}else c.u=null}function Nv(c,h,p){h instanceof nu?(c.i=h,r2(c.i,c.l)):(p||(h=tu(h,t2)),c.i=new nu(h,c.l))}function ft(c,h,p){c.i.set(h,p)}function zf(c){return ft(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function eu(c,h){return c?h?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function tu(c,h,p){return typeof c=="string"?(c=encodeURI(c).replace(h,JV),p&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function JV(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var TT=/[#\/\?@]/g,XV=/[#\?:]/g,e2=/[#\?]/g,t2=/[#\?@]/g,n2=/#/g;function nu(c,h){this.h=this.g=null,this.i=c||null,this.j=!!h}function ys(c){c.g||(c.g=new Map,c.h=0,c.i&&ZV(c.i,function(h,p){c.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}n=nu.prototype,n.add=function(c,h){ys(this),this.i=null,c=ja(this,c);let p=this.g.get(c);return p||this.g.set(c,p=[]),p.push(h),this.h+=1,this};function ST(c,h){ys(c),h=ja(c,h),c.g.has(h)&&(c.i=null,c.h-=c.g.get(h).length,c.g.delete(h))}function AT(c,h){return ys(c),h=ja(c,h),c.g.has(h)}n.forEach=function(c,h){ys(this),this.g.forEach(function(p,y){p.forEach(function(A){c.call(h,A,y,this)},this)},this)};function MT(c,h){ys(c);let p=[];if(typeof h=="string")AT(c,h)&&(p=p.concat(c.g.get(ja(c,h))));else for(c=Array.from(c.g.values()),h=0;h<c.length;h++)p=p.concat(c[h]);return p}n.set=function(c,h){return ys(this),this.i=null,c=ja(this,c),AT(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[h]),this.h+=1,this},n.get=function(c,h){return c?(c=MT(this,c),c.length>0?String(c[0]):h):h};function NT(c,h,p){ST(c,h),p.length>0&&(c.i=null,c.g.set(ja(c,h),m(p)),c.h+=p.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],h=Array.from(this.g.keys());for(let y=0;y<h.length;y++){var p=h[y];let A=Yc(p);p=MT(this,p);for(let R=0;R<p.length;R++){let W=A;p[R]!==""&&(W+="="+Yc(p[R])),c.push(W)}}return this.i=c.join("&")};function xT(c){let h=new nu;return h.i=c.i,c.g&&(h.g=new Map(c.g),h.h=c.h),h}function ja(c,h){return h=String(h),c.j&&(h=h.toLowerCase()),h}function r2(c,h){h&&!c.j&&(ys(c),c.i=null,c.g.forEach(function(p,y){let A=y.toLowerCase();y!=A&&(ST(this,y),NT(this,A,p))},c)),c.j=h}function i2(c,h){let p=new Qc;if(s.Image){let y=new Image;y.onload=d(go,p,"TestLoadImage: loaded",!0,h,y),y.onerror=d(go,p,"TestLoadImage: error",!1,h,y),y.onabort=d(go,p,"TestLoadImage: abort",!1,h,y),y.ontimeout=d(go,p,"TestLoadImage: timeout",!1,h,y),s.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=c}else h(!1)}function o2(c,h){let p=new Qc,y=new AbortController,A=setTimeout(()=>{y.abort(),go(p,"TestPingServer: timeout",!1,h)},1e4);fetch(c,{signal:y.signal}).then(R=>{clearTimeout(A),R.ok?go(p,"TestPingServer: ok",!0,h):go(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(A),go(p,"TestPingServer: error",!1,h)})}function go(c,h,p,y,A){try{A&&(A.onload=null,A.onerror=null,A.onabort=null,A.ontimeout=null),y(p)}catch{}}function s2(){this.g=new $V}function qf(c){this.i=c.Sb||null,this.h=c.ab||!1}f(qf,aT),qf.prototype.g=function(){return new Gf(this.i,this.h)};function Gf(c,h){Jt.call(this),this.H=c,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Gf,Jt),n=Gf.prototype,n.open=function(c,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=h,this.readyState=1,iu(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;let h={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(h.body=c),(this.H||s).fetch(new Request(this.D,h)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ru(this)),this.readyState=0},n.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,iu(this)),this.g&&(this.readyState=3,iu(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;RT(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function RT(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}n.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var h=c.value?c.value:new Uint8Array(0);(h=this.B.decode(h,{stream:!c.done}))&&(this.response=this.responseText+=h)}c.done?ru(this):iu(this),this.readyState==3&&RT(this)}},n.Oa=function(c){this.g&&(this.response=this.responseText=c,ru(this))},n.Na=function(c){this.g&&(this.response=c,ru(this))},n.ga=function(){this.g&&ru(this)};function ru(c){c.readyState=4,c.l=null,c.j=null,c.B=null,iu(c)}n.setRequestHeader=function(c,h){this.A.append(c,h)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,c.push(p[0]+": "+p[1]),p=h.next();return c.join(`\r
`)};function iu(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Gf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function PT(c){let h="";return Ie(c,function(p,y){h+=y,h+=":",h+=p,h+=`\r
`}),h}function xv(c,h,p){e:{for(y in p){var y=!1;break e}y=!0}y||(p=PT(p),typeof c=="string"?p!=null&&Yc(p):ft(c,h,p))}function St(c){Jt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(St,Jt);var a2=/^https?$/i,l2=["POST","PUT"];n=St.prototype,n.Fa=function(c){this.H=c},n.ea=function(c,h,p,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);h=h?h.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():pT.g(),this.g.onreadystatechange=g(u(this.Ca,this));try{this.B=!0,this.g.open(h,String(c),!0),this.B=!1}catch(R){OT(this,R);return}if(c=p||"",p=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var A in y)p.set(A,y[A]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(let R of y.keys())p.set(R,y.get(R));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(p.keys()).find(R=>R.toLowerCase()=="content-type"),A=s.FormData&&c instanceof s.FormData,!(Array.prototype.indexOf.call(l2,h,void 0)>=0)||y||A||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[R,W]of p)this.g.setRequestHeader(R,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(R){OT(this,R)}};function OT(c,h){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=h,c.o=5,kT(c),Wf(c)}function kT(c){c.A||(c.A=!0,an(c,"complete"),an(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,an(this,"complete"),an(this,"abort"),Wf(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wf(this,!0)),St.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?FT(this):this.Xa())},n.Xa=function(){FT(this)};function FT(c){if(c.h&&typeof o<"u"){if(c.v&&mo(c)==4)setTimeout(c.Ca.bind(c),0);else if(an(c,"readystatechange"),mo(c)==4){c.h=!1;try{let R=c.ca();e:switch(R){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var y;if(y=R===0){let W=String(c.D).match(DT)[1]||null;!W&&s.self&&s.self.location&&(W=s.self.location.protocol.slice(0,-1)),y=!a2.test(W?W.toLowerCase():"")}p=y}if(p)an(c,"complete"),an(c,"success");else{c.o=6;try{var A=mo(c)>2?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.ca()+"]",kT(c)}}finally{Wf(c)}}}}function Wf(c,h){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);let p=c.g;c.g=null,h||an(c,"ready");try{p.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function mo(c){return c.g?c.g.readyState:0}n.ca=function(){try{return mo(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(c){if(this.g){var h=this.g.responseText;return c&&h.indexOf(c)==0&&(h=h.substring(c.length)),UV(h)}};function LT(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function c2(c){let h={};c=(c.g&&mo(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<c.length;y++){if(b(c[y]))continue;var p=WV(c[y]);let A=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let R=h[A]||[];h[A]=R,R.push(p)}dt(h,function(y){return y.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ou(c,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[c]||h}function VT(c){this.za=0,this.i=[],this.j=new Qc,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ou("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ou("baseRetryDelayMs",5e3,c),this.Za=ou("retryDelaySeedMs",1e4,c),this.Ta=ou("forwardChannelMaxRetries",2,c),this.va=ou("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new bT(c&&c.concurrentRequestLimit),this.Ba=new s2,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=VT.prototype,n.ka=8,n.I=1,n.connect=function(c,h,p,y){Mn(0),this.W=c,this.H=h||{},p&&y!==void 0&&(this.H.OSID=p,this.H.OAID=y),this.F=this.X,this.J=WT(this,null,this.W),Qf(this)};function Rv(c){if(BT(c),c.I==3){var h=c.V++,p=Zr(c.J);if(ft(p,"SID",c.M),ft(p,"RID",h),ft(p,"TYPE","terminate"),su(c,p),h=new ho(c,c.j,h),h.M=2,h.A=zf(Zr(p)),p=!1,s.navigator&&s.navigator.sendBeacon)try{p=s.navigator.sendBeacon(h.A.toString(),"")}catch{}!p&&s.Image&&(new Image().src=h.A,p=!0),p||(h.g=KT(h.j,null),h.g.ea(h.A)),h.F=Date.now(),Hf(h)}GT(c)}function Kf(c){c.g&&(Ov(c),c.g.cancel(),c.g=null)}function BT(c){Kf(c),c.v&&(s.clearTimeout(c.v),c.v=null),Yf(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&s.clearTimeout(c.m),c.m=null)}function Qf(c){if(!ET(c.h)&&!c.m){c.m=!0;var h=c.Ea;Ce||_(),ae||(Ce(),ae=!0),C.add(h,c),c.D=0}}function u2(c,h){return wT(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=h.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Kc(u(c.Ea,c,h),qT(c,c.D)),c.D++,!0)}n.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;let A=new ho(this,this.j,c),R=this.o;if(this.U&&(R?(R=Zt(R),Ln(R,this.U)):R=this.U),this.u!==null||this.R||(A.J=R,R=null),this.S)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var y=this.i[p];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(h+=y,h>4096){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=UT(this,A,h),p=Zr(this.J),ft(p,"RID",c),ft(p,"CVER",22),this.G&&ft(p,"X-HTTP-Session-Id",this.G),su(this,p),R&&(this.R?h="headers="+Yc(PT(R))+"&"+h:this.u&&xv(p,this.u,R)),Mv(this.h,A),this.Ra&&ft(p,"TYPE","init"),this.S?(ft(p,"$req",h),ft(p,"SID","null"),A.U=!0,Dv(A,p,null)):Dv(A,p,h),this.I=2}}else this.I==3&&(c?jT(this,c):this.i.length==0||ET(this.h)||jT(this))};function jT(c,h){var p;h?p=h.l:p=c.V++;let y=Zr(c.J);ft(y,"SID",c.M),ft(y,"RID",p),ft(y,"AID",c.K),su(c,y),c.u&&c.o&&xv(y,c.u,c.o),p=new ho(c,c.j,p,c.D+1),c.u===null&&(p.J=c.o),h&&(c.i=h.G.concat(c.i)),h=UT(c,p,1e3),p.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Mv(c.h,p),Dv(p,y,h)}function su(c,h){c.H&&Ie(c.H,function(p,y){ft(h,y,p)}),c.l&&Ie({},function(p,y){ft(h,y,p)})}function UT(c,h,p){p=Math.min(c.i.length,p);let y=c.l?u(c.l.Ka,c.l,c):null;e:{var A=c.i;let Se=-1;for(;;){let qt=["count="+p];Se==-1?p>0?(Se=A[0].g,qt.push("ofs="+Se)):Se=0:qt.push("ofs="+Se);let at=!0;for(let Xt=0;Xt<p;Xt++){var R=A[Xt].g;let Jr=A[Xt].map;if(R-=Se,R<0)Se=Math.max(0,A[Xt].g-100),at=!1;else try{R="req"+R+"_"||"";try{var W=Jr instanceof Map?Jr:Object.entries(Jr);for(let[_s,yo]of W){let vo=yo;a(yo)&&(vo=bv(yo)),qt.push(R+_s+"="+encodeURIComponent(vo))}}catch(_s){throw qt.push(R+"type="+encodeURIComponent("_badmap")),_s}}catch{y&&y(Jr)}}if(at){W=qt.join("&");break e}}W=void 0}return c=c.i.splice(0,p),h.G=c,W}function $T(c){if(!c.g&&!c.v){c.Y=1;var h=c.Da;Ce||_(),ae||(Ce(),ae=!0),C.add(h,c),c.A=0}}function Pv(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Kc(u(c.Da,c),qT(c,c.A)),c.A++,!0)}n.Da=function(){if(this.v=null,HT(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Kc(u(this.Wa,this),c)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Mn(10),Kf(this),HT(this))};function Ov(c){c.B!=null&&(s.clearTimeout(c.B),c.B=null)}function HT(c){c.g=new ho(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var h=Zr(c.na);ft(h,"RID","rpc"),ft(h,"SID",c.M),ft(h,"AID",c.K),ft(h,"CI",c.F?"0":"1"),!c.F&&c.ia&&ft(h,"TO",c.ia),ft(h,"TYPE","xmlhttp"),su(c,h),c.u&&c.o&&xv(h,c.u,c.o),c.O&&(c.g.H=c.O);var p=c.g;c=c.ba,p.M=1,p.A=zf(Zr(h)),p.u=null,p.R=!0,yT(p,c)}n.Va=function(){this.C!=null&&(this.C=null,Kf(this),Pv(this),Mn(19))};function Yf(c){c.C!=null&&(s.clearTimeout(c.C),c.C=null)}function zT(c,h){var p=null;if(c.g==h){Yf(c),Ov(c),c.g=null;var y=2}else if(Av(c.h,h))p=h.G,CT(c.h,h),y=1;else return;if(c.I!=0){if(h.o)if(y==1){p=h.u?h.u.length:0,h=Date.now()-h.F;var A=c.D;y=Uf(),an(y,new fT(y,p)),Qf(c)}else $T(c);else if(A=h.m,A==3||A==0&&h.X>0||!(y==1&&u2(c,h)||y==2&&Pv(c)))switch(p&&p.length>0&&(h=c.h,h.i=h.i.concat(p)),A){case 1:vs(c,5);break;case 4:vs(c,10);break;case 3:vs(c,6);break;default:vs(c,2)}}}function qT(c,h){let p=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(p*=2),p*h}function vs(c,h){if(c.j.info("Error code "+h),h==2){var p=u(c.bb,c),y=c.Ua;let A=!y;y=new po(y||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Jc(y,"https"),zf(y),A?i2(y.toString(),p):o2(y.toString(),p)}else Mn(2);c.I=0,c.l&&c.l.pa(h),GT(c),BT(c)}n.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Mn(2)):(this.j.info("Failed to ping google.com"),Mn(1))};function GT(c){if(c.I=0,c.ja=[],c.l){let h=IT(c.h);(h.length!=0||c.i.length!=0)&&(v(c.ja,h),v(c.ja,c.i),c.h.i.length=0,m(c.i),c.i.length=0),c.l.oa()}}function WT(c,h,p){var y=p instanceof po?Zr(p):new po(p);if(y.g!="")h&&(y.g=h+"."+y.g),Xc(y,y.u);else{var A=s.location;y=A.protocol,h=h?h+"."+A.hostname:A.hostname,A=+A.port;let R=new po(null);y&&Jc(R,y),h&&(R.g=h),A&&Xc(R,A),p&&(R.h=p),y=R}return p=c.G,h=c.wa,p&&h&&ft(y,p,h),ft(y,"VER",c.ka),su(c,y),y}function KT(c,h,p){if(h&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return h=c.Aa&&!c.ma?new St(new qf({ab:p})):new St(c.ma),h.Fa(c.L),h}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function QT(){}n=QT.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Zf(){}Zf.prototype.g=function(c,h){return new Qn(c,h)};function Qn(c,h){Jt.call(this),this.g=new VT(h),this.l=c,this.h=h&&h.messageUrlParams||null,c=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(c?c["X-WebChannel-Content-Type"]=h.messageContentType:c={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.sa&&(c?c["X-WebChannel-Client-Profile"]=h.sa:c={"X-WebChannel-Client-Profile":h.sa}),this.g.U=c,(c=h&&h.Qb)&&!b(c)&&(this.g.u=c),this.A=h&&h.supportsCrossDomainXhr||!1,this.v=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!b(h)&&(this.g.G=h,c=this.h,c!==null&&h in c&&(c=this.h,h in c&&delete c[h])),this.j=new Ua(this)}f(Qn,Jt),Qn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Qn.prototype.close=function(){Rv(this.g)},Qn.prototype.o=function(c){var h=this.g;if(typeof c=="string"){var p={};p.__data__=c,c=p}else this.v&&(p={},p.__data__=bv(c),c=p);h.i.push(new YV(h.Ya++,c)),h.I==3&&Qf(h)},Qn.prototype.N=function(){this.g.l=null,delete this.j,Rv(this.g),delete this.g,Qn.Z.N.call(this)};function YT(c){Ev.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var h=c.__sm__;if(h){e:{for(let p in h){c=p;break e}c=void 0}(this.i=c)&&(c=this.i,h=h!==null&&c in h?h[c]:void 0),this.data=h}else this.data=c}f(YT,Ev);function ZT(){wv.call(this),this.status=1}f(ZT,wv);function Ua(c){this.g=c}f(Ua,QT),Ua.prototype.ra=function(){an(this.g,"a")},Ua.prototype.qa=function(c){an(this.g,new YT(c))},Ua.prototype.pa=function(c){an(this.g,new ZT)},Ua.prototype.oa=function(){an(this.g,"b")},Zf.prototype.createWebChannel=Zf.prototype.g,Qn.prototype.send=Qn.prototype.o,Qn.prototype.open=Qn.prototype.m,Qn.prototype.close=Qn.prototype.close,fC=ro.createWebChannelTransport=function(){return new Zf},dC=ro.getStatEventTarget=function(){return Uf()},uC=ro.Event=gs,_m=ro.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},$f.NO_ERROR=0,$f.TIMEOUT=8,$f.HTTP_ERROR=6,Ld=ro.ErrorCode=$f,hT.COMPLETE="complete",cC=ro.EventType=hT,lT.EventType=Gc,Gc.OPEN="a",Gc.CLOSE="b",Gc.ERROR="c",Gc.MESSAGE="d",Jt.prototype.listen=Jt.prototype.J,Ql=ro.WebChannel=lT,$z=ro.FetchXmlHttpFactory=qf,St.prototype.listenOnce=St.prototype.K,St.prototype.getLastError=St.prototype.Ha,St.prototype.getLastErrorCode=St.prototype.ya,St.prototype.getStatus=St.prototype.ca,St.prototype.getResponseJson=St.prototype.La,St.prototype.getResponseText=St.prototype.la,St.prototype.send=St.prototype.ea,St.prototype.setWithCredentials=St.prototype.Fa,lC=ro.XhrIo=St}).apply(typeof vm<"u"?vm:typeof self<"u"?self:typeof window<"u"?window:{});var Qt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Qt.UNAUTHENTICATED=new Qt(null),Qt.GOOGLE_CREDENTIALS=new Qt("google-credentials-uid"),Qt.FIRST_PARTY=new Qt("first-party-uid"),Qt.MOCK_USER=new Qt("mock-user");var Ac="12.9.0";function Sk(n){Ac=n}var wa=new Kl("@firebase/firestore");function nc(){return wa.logLevel}function B(n,...e){if(wa.logLevel<=Ve.DEBUG){let t=e.map(rD);wa.debug(`Firestore (${Ac}): ${n}`,...t)}}function kn(n,...e){if(wa.logLevel<=Ve.ERROR){let t=e.map(rD);wa.error(`Firestore (${Ac}): ${n}`,...t)}}function vi(n,...e){if(wa.logLevel<=Ve.WARN){let t=e.map(rD);wa.warn(`Firestore (${Ac}): ${n}`,...t)}}function rD(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Y(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,Ak(n,r,t)}function Ak(n,e,t){let r=`FIRESTORE (${Ac}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw kn(r),new Error(r)}function X(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||Ak(e,i,r)}function ye(n,e){return n}var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},H=class extends Ji{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Qr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Pm=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Om=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Qt.UNAUTHENTICATED))}shutdown(){}},bC=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},km=class{constructor(e){this.t=e,this.currentUser=Qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){X(this.o===void 0,42304);let r=this.i,i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve(),o=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Qr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Qr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(X(typeof r.accessToken=="string",31837,{l:r}),new Pm(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return X(e===null||typeof e=="string",2055,{h:e}),new Qt(e)}},EC=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Qt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);let e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}},wC=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new EC(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Fm=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Lm=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fO(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){X(this.o===void 0,3512);let r=o=>{o.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,B("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Fm(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(X(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Fm(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Hz(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var Ca=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=Hz(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function me(n,e){return n<e?-1:n>e?1:0}function CC(n,e){let t=Math.min(n.length,e.length);for(let r=0;r<t;r++){let i=n.charAt(r),o=e.charAt(r);if(i!==o)return hC(i)===hC(o)?me(i,o):hC(i)?1:-1}return me(n.length,e.length)}var zz=55296,qz=57343;function hC(n){let e=n.charCodeAt(0);return e>=zz&&e<=qz}function uc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Mk(n){return n+"\0"}var _O="__name__",Vm=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&Y(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Y(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return me(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):CC(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return no.fromString(e.substring(4,e.length-2))}},Je=class n extends Vm{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new H(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},Gz=/^[_a-zA-Z][_a-zA-Z0-9]*$/,$t=class n extends Vm{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return Gz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_O}static keyField(){return new n([_O])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new H(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new H(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new H(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new H(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var K=class n{constructor(e){this.path=e}static fromPath(e){return new n(Je.fromString(e))}static fromName(e){return new n(Je.fromString(e).popFirst(5))}static empty(){return new n(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Je.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Je(e.slice()))}};function Nk(n,e,t){if(!t)throw new H(P.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function xk(n,e,t,r){if(e===!0&&r===!0)throw new H(P.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function bO(n){if(!K.isDocumentKey(n))throw new H(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function EO(n){if(K.isDocumentKey(n))throw new H(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Rk(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function mf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Y(12329,{type:typeof n})}function ir(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new H(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=mf(n);throw new H(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Ot(n,e){let t={typeString:n};return e&&(t.value=e),t}function Mc(n,e){if(!Rk(n))throw new H(P.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new H(P.INVALID_ARGUMENT,t);return!0}var wO=-62135596800,CO=1e6,ht=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*CO);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new H(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new H(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<wO)throw new H(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/CO}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Mc(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-wO;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:Ot("string",ht._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};var se=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new ht(0,0))}static max(){return new n(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Zd=-1,Ia=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};function IC(n){return n.fields.find(e=>e.kind===2)}function ca(n){return n.fields.filter(e=>e.kind!==2)}Ia.UNKNOWN_ID=-1;var ya=class{constructor(e,t){this.fieldPath=e,this.kind=t}};var dc=class n{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new n(0,Er.min())}};function Wz(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=se.fromTimestamp(r===1e9?new ht(t+1,0):new ht(t,r));return new Er(i,K.empty(),e)}function Pk(n){return new Er(n.readTime,n.key,Zd)}var Er=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(se.min(),K.empty(),Zd)}static max(){return new n(se.max(),K.empty(),Zd)}};function iD(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=K.comparator(n.documentKey,e.documentKey),t!==0?t:me(n.largestBatchId,e.largestBatchId))}var Ok="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Bm=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function Pa(n){if(n.code!==P.FAILED_PRECONDITION||n.message!==Ok)throw n;B("LocalStore","Unexpectedly lost primary lease")}var x=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Y(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},l=>r(l))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let l=0;l<o;l++){let u=l;t(e[u]).next(d=>{s[u]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};var nr="SimpleDb",jm=class n{static open(e,t,r,i){try{return new n(t,e.transaction(i,r))}catch(o){throw new va(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new Qr,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new va(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{let i=oD(r.target.error);this.S.reject(new va(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(B(nr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let t=this.transaction.objectStore(e);return new TC(t)}},fc=class n{static delete(e){return B(nr,"Removing database:",e),da(U0().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!pm())return!1;if(n.F())return!0;let e=Od(),t=n.M(e),r=0<t&&t<10,i=kk(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,t){return e.store(t)}static M(e){let t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.N=r,this.B=null,n.M(Od())===12.2&&kn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(B(nr,"Opening database:",this.name),this.db=await new Promise((t,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{let s=o.target.result;t(s)},i.onblocked=()=>{r(new va(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{let s=o.target.error;s.name==="VersionError"?r(new H(P.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new H(P.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new va(e,s))},i.onupgradeneeded=o=>{B(nr,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);let s=o.target.result;this.N.k(s,i.transaction,o.oldVersion,this.version).next(()=>{B(nr,"Database upgrade to version "+this.version+" complete")})}})),this.K&&(this.db.onversionchange=t=>this.K(t)),this.db}q(e){this.K=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){let o=t==="readonly",s=0;for(;;){++s;try{this.db=await this.L(e);let a=jm.open(this.db,e,o?"readonly":"readwrite",r),l=i(a).next(u=>(a.C(),u)).catch(u=>(a.abort(u),x.reject(u))).toPromise();return l.catch(()=>{}),await a.D,l}catch(a){let l=a,u=l.name!=="FirebaseError"&&s<3;if(B(nr,"Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}};function kk(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}var DC=class{constructor(e){this.U=e,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(e){this.U=e}done(){this.$=!0}j(e){this.W=e}delete(){return da(this.U.delete())}},va=class extends H{constructor(e,t){super(P.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}};function us(n){return n.name==="IndexedDbTransactionError"}var TC=class{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(B(nr,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(B(nr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),da(r)}add(e){return B(nr,"ADD",this.store.name,e,e),da(this.store.add(e))}get(e){return da(this.store.get(e)).next(t=>(t===void 0&&(t=null),B(nr,"GET",this.store.name,e,t),t))}delete(e){return B(nr,"DELETE",this.store.name,e),da(this.store.delete(e))}count(){return B(nr,"COUNT",this.store.name),da(this.store.count())}H(e,t){let r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let o=i.getAll(r.range);return new x((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{let o=this.cursor(r),s=[];return this.J(o,(a,l)=>{s.push(l)}).next(()=>s)}}Z(e,t){let r=this.store.getAll(e,t===null?void 0:t);return new x((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}X(e,t){B(nr,"DELETE ALL",this.store.name);let r=this.options(e,t);r.Y=!1;let i=this.cursor(r);return this.J(i,(o,s,a)=>a.delete())}ee(e,t){let r;t?r=e:(r={},t=e);let i=this.cursor(r);return this.J(i,t)}te(e){let t=this.cursor({});return new x((r,i)=>{t.onerror=o=>{let s=oD(o.target.error);i(s)},t.onsuccess=o=>{let s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}J(e,t){let r=[];return new x((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{let a=s.target.result;if(!a)return void i();let l=new DC(a),u=t(a.primaryKey,a.value,l);if(u instanceof x){let d=u.catch(f=>(l.done(),x.reject(f)));r.push(d)}l.isDone?i():l.G===null?a.continue():a.continue(l.G)}}).next(()=>x.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){let r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}};function da(n){return new x((e,t)=>{n.onsuccess=r=>{let i=r.target.result;e(i)},n.onerror=r=>{let i=oD(r.target.error);t(i)}})}var IO=!1;function oD(n){let e=fc.M(Od());if(e>=12.2&&e<13){let t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){let r=new H("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return IO||(IO=!0,setTimeout(()=>{throw r},0)),r}}return n}var qd="IndexBackfiller",SC=class{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){B(qd,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{let t=await this.ne.ie();B(qd,`Documents written: ${t}`)}catch(t){us(t)?B(qd,"Ignoring IndexedDB error during index backfill: ",t):await Pa(t)}await this.re(6e4)})}},AC=class{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.se(t,e))}se(e,t){let r=new Set,i=t,o=!0;return x.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!r.has(s))return B(qd,`Processing collection: ${s}`),this.oe(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>t-i)}oe(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(o=>{let s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this._e(i,o)).next(a=>(B(qd,`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>s.size)}))}_e(e,t){let r=e;return t.changes.forEach((i,o)=>{let s=Pk(o);iD(s,r)>0&&(r=s)}),new Er(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}};var Wr=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>r.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ue&&this.ue(t),t}}n.ce=-1;return n})(),_a=-1;function Fy(n){return n==null}function Jd(n){return n===0&&1/n==-1/0}function Kz(n){return typeof n=="number"&&Number.isInteger(n)&&!Jd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var Um="";function An(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=DO(e)),e=Qz(n.get(t),e);return DO(e)}function Qz(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case Um:t+="";break;default:t+=o}}return t}function DO(n){return n+Um+""}function hi(n){let e=n.length;if(X(e>=2,64408,{path:n}),e===2)return X(n.charAt(0)===Um&&n.charAt(1)==="",56145,{path:n}),Je.emptyPath();let t=e-2,r=[],i="";for(let o=0;o<e;){let s=n.indexOf(Um,o);switch((s<0||s>t)&&Y(50515,{path:n}),n.charAt(s+1)){case"":let a=n.substring(o,s),l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=n.substring(o,s),i+="\0";break;case"":i+=n.substring(o,s+1);break;default:Y(61167,{path:n})}o=s+2}return new Je(r)}var ua="remoteDocuments",yf="owner",Yl="owner",Xd="mutationQueues",Yz="userId",Gr="mutations",TO="batchId",ga="userMutationsIndex",SO=["userId","batchId"];function Dm(n,e){return[n,An(e)]}function Fk(n,e,t){return[n,An(e),t]}var Zz={},hc="documentMutations",$m="remoteDocumentsV14",Jz=["prefixPath","collectionGroup","readTime","documentId"],Tm="documentKeyIndex",Xz=["prefixPath","collectionGroup","documentId"],Lk="collectionGroupIndex",e8=["collectionGroup","readTime","prefixPath","documentId"],ef="remoteDocumentGlobal",MC="remoteDocumentGlobalKey",pc="targets",Vk="queryTargetsIndex",t8=["canonicalId","targetId"],gc="targetDocuments",n8=["targetId","path"],sD="documentTargetsIndex",r8=["path","targetId"],Hm="targetGlobalKey",ba="targetGlobal",tf="collectionParents",i8=["collectionId","parent"],mc="clientMetadata",o8="clientId",Ly="bundles",s8="bundleId",Vy="namedQueries",a8="name",aD="indexConfiguration",l8="indexId",NC="collectionGroupIndex",c8="collectionGroup",Gd="indexState",u8=["indexId","uid"],Bk="sequenceNumberIndex",d8=["uid","sequenceNumber"],Wd="indexEntries",f8=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],jk="documentKeyIndex",h8=["indexId","uid","orderedDocumentKey"],By="documentOverlays",p8=["userId","collectionPath","documentId"],xC="collectionPathOverlayIndex",g8=["userId","collectionPath","largestBatchId"],Uk="collectionGroupOverlayIndex",m8=["userId","collectionGroup","largestBatchId"],lD="globals",y8="name",$k=[Xd,Gr,hc,ua,pc,yf,ba,gc,mc,ef,tf,Ly,Vy],v8=[...$k,By],Hk=[Xd,Gr,hc,$m,pc,yf,ba,gc,mc,ef,tf,Ly,Vy,By],zk=Hk,cD=[...zk,aD,Gd,Wd],_8=cD,qk=[...cD,lD],b8=qk;var nf=class extends Bm{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}};function Yt(n,e){let t=ye(n);return fc.O(t.le,e)}function AO(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Oa(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Gk(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Dt=class n{constructor(e,t){this.comparator=e,this.root=t||gi.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,gi.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ac(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ac(this.root,e,this.comparator,!1)}getReverseIterator(){return new ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ac(this.root,e,this.comparator,!0)}},ac=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},gi=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Y(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Y(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw Y(27949);return e+(this.isRed()?0:1)}};gi.EMPTY=null,gi.RED=!0,gi.BLACK=!1;gi.EMPTY=new class{constructor(){this.size=0}get key(){throw Y(57766)}get value(){throw Y(16141)}get color(){throw Y(16727)}get left(){throw Y(29726)}get right(){throw Y(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new gi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var st=class n{constructor(e){this.comparator=e,this.data=new Dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new zm(this.data.getIterator())}getIteratorFrom(e){return new zm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},zm=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function Zl(n){return n.hasNext()?n.getNext():void 0}var Kr=class n{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new n([])}unionWith(e){let t=new st($t.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return uc(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var qm=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var zt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new qm("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};zt.EMPTY_BYTE_STRING=new zt("");var E8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ao(n){if(X(!!n,39018),typeof n=="string"){let e=0,t=E8.exec(n);if(X(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yt(n.seconds),nanos:yt(n.nanos)}}function yt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function lo(n){return typeof n=="string"?zt.fromBase64String(n):zt.fromUint8Array(n)}var Wk="server_timestamp",Kk="__type__",Qk="__previous_value__",Yk="__local_write_time__";function jy(n){return(n?.mapValue?.fields||{})[Kk]?.stringValue===Wk}function Uy(n){let e=n.mapValue.fields[Qk];return jy(e)?Uy(e):e}function rf(n){let e=ao(n.mapValue.fields[Yk].timestampValue);return new ht(e.seconds,e.nanos)}var RC=class{constructor(e,t,r,i,o,s,a,l,u,d,f){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d,this.apiKey=f}},Gm="(default)",Da=class n{constructor(e,t){this.projectId=e,this.database=t||Gm}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Gm}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};function Zk(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new H(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Da(n.options.projectId,e)}var uD="__type__",Jk="__max__",Xo={mapValue:{fields:{__type__:{stringValue:Jk}}}},dD="__vector__",yc="value",Sm={nullValue:"NULL_VALUE"};function es(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?jy(n)?4:Xk(n)?9007199254740991:$y(n)?10:11:Y(28295,{value:n})}function _i(n,e){if(n===e)return!0;let t=es(n);if(t!==es(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return rf(n).isEqual(rf(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=ao(i.timestampValue),a=ao(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return lo(i.bytesValue).isEqual(lo(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return yt(i.geoPointValue.latitude)===yt(o.geoPointValue.latitude)&&yt(i.geoPointValue.longitude)===yt(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return yt(i.integerValue)===yt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=yt(i.doubleValue),a=yt(o.doubleValue);return s===a?Jd(s)===Jd(a):isNaN(s)&&isNaN(a)}return!1})(n,e);case 9:return uc(n.arrayValue.values||[],e.arrayValue.values||[],_i);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(AO(s)!==AO(a))return!1;for(let l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!_i(s[l],a[l])))return!1;return!0})(n,e);default:return Y(52216,{left:n})}}function of(n,e){return(n.values||[]).find(t=>_i(t,e))!==void 0}function ts(n,e){if(n===e)return 0;let t=es(n),r=es(e);if(t!==r)return me(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return me(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=yt(o.integerValue||o.doubleValue),l=yt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1})(n,e);case 3:return MO(n.timestampValue,e.timestampValue);case 4:return MO(rf(n),rf(e));case 5:return CC(n.stringValue,e.stringValue);case 6:return(function(o,s){let a=lo(o),l=lo(s);return a.compareTo(l)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){let d=me(a[u],l[u]);if(d!==0)return d}return me(a.length,l.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=me(yt(o.latitude),yt(s.latitude));return a!==0?a:me(yt(o.longitude),yt(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return NO(n.arrayValue,e.arrayValue);case 10:return(function(o,s){let a=o.fields||{},l=s.fields||{},u=a[yc]?.arrayValue,d=l[yc]?.arrayValue,f=me(u?.values?.length||0,d?.values?.length||0);return f!==0?f:NO(u,d)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Xo.mapValue&&s===Xo.mapValue)return 0;if(o===Xo.mapValue)return 1;if(s===Xo.mapValue)return-1;let a=o.fields||{},l=Object.keys(a),u=s.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){let g=CC(l[f],d[f]);if(g!==0)return g;let m=ts(a[l[f]],u[d[f]]);if(m!==0)return m}return me(l.length,d.length)})(n.mapValue,e.mapValue);default:throw Y(23264,{he:t})}}function MO(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return me(n,e);let t=ao(n),r=ao(e),i=me(t.seconds,r.seconds);return i!==0?i:me(t.nanos,r.nanos)}function NO(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=ts(t[i],r[i]);if(o)return o}return me(t.length,r.length)}function vc(n){return PC(n)}function PC(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=ao(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return lo(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return K.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=PC(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${PC(t.fields[s])}`;return i+"}"})(n.mapValue):Y(61005,{value:n})}function Am(n){switch(es(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Uy(n);return e?16+Am(e):16;case 5:return 2*n.stringValue.length;case 6:return lo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+Am(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Oa(r.fields,(o,s)=>{i+=o.length+Am(s)}),i})(n.mapValue);default:throw Y(13486,{value:n})}}function Nc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function OC(n){return!!n&&"integerValue"in n}function sf(n){return!!n&&"arrayValue"in n}function xO(n){return!!n&&"nullValue"in n}function RO(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Mm(n){return!!n&&"mapValue"in n}function $y(n){return(n?.mapValue?.fields||{})[uD]?.stringValue===dD}function Kd(n){if(n.geoPointValue)return{geoPointValue:N({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:N({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Oa(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Kd(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Kd(n.arrayValue.values[t]);return e}return N({},n)}function Xk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Jk}var eF={mapValue:{fields:{[uD]:{stringValue:dD},[yc]:{arrayValue:{}}}}};function w8(n){return"nullValue"in n?Sm:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Nc(Da.empty(),K.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?$y(n)?eF:{mapValue:{}}:Y(35942,{value:n})}function C8(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Nc(Da.empty(),K.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?eF:"mapValue"in n?$y(n)?{mapValue:{}}:Xo:Y(61959,{value:n})}function PO(n,e){let t=ts(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function OO(n,e){let t=ts(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}var Gn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Mm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kd(t)}setAll(e){let t=$t.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Kd(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Mm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return _i(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Mm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Oa(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Kd(this.value))}};function tF(n){let e=[];return Oa(n.fields,(t,r)=>{let i=new $t([t]);if(Mm(r)){let o=tF(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Kr(e)}var mn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,se.min(),se.min(),se.min(),Gn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,se.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,se.min(),se.min(),Gn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,se.min(),se.min(),Gn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var co=class{constructor(e,t){this.position=e,this.inclusive=t}};function kO(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=K.comparator(K.fromName(s.referenceValue),t.key):r=ts(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function FO(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!_i(n.position[t],e.position[t]))return!1;return!0}var ns=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function I8(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Wm=class{},Re=class n extends Wm{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new LC(e,t,r):t==="array-contains"?new jC(e,r):t==="in"?new Km(e,r):t==="not-in"?new UC(e,r):t==="array-contains-any"?new $C(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new VC(e,r):new BC(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ts(t,this.value)):t!==null&&es(this.value)===es(t)&&this.matchesComparison(ts(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Xe=class n extends Wm{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new n(e,t)}matches(e){return _c(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function _c(n){return n.op==="and"}function kC(n){return n.op==="or"}function fD(n){return nF(n)&&_c(n)}function nF(n){for(let e of n.filters)if(e instanceof Xe)return!1;return!0}function FC(n){if(n instanceof Re)return n.field.canonicalString()+n.op.toString()+vc(n.value);if(fD(n))return n.filters.map(e=>FC(e)).join(",");{let e=n.filters.map(t=>FC(t)).join(",");return`${n.op}(${e})`}}function rF(n,e){return n instanceof Re?(function(r,i){return i instanceof Re&&r.op===i.op&&r.field.isEqual(i.field)&&_i(r.value,i.value)})(n,e):n instanceof Xe?(function(r,i){return i instanceof Xe&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&rF(s,i.filters[a]),!0):!1})(n,e):void Y(19439)}function iF(n,e){let t=n.filters.concat(e);return Xe.create(t,n.op)}function oF(n){return n instanceof Re?(function(t){return`${t.field.canonicalString()} ${t.op} ${vc(t.value)}`})(n):n instanceof Xe?(function(t){return t.op.toString()+" {"+t.getFilters().map(oF).join(" ,")+"}"})(n):"Filter"}var LC=class extends Re{constructor(e,t,r){super(e,t,r),this.key=K.fromName(r.referenceValue)}matches(e){let t=K.comparator(e.key,this.key);return this.matchesComparison(t)}},VC=class extends Re{constructor(e,t){super(e,"in",t),this.keys=sF("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},BC=class extends Re{constructor(e,t){super(e,"not-in",t),this.keys=sF("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function sF(n,e){return(e.arrayValue?.values||[]).map(t=>K.fromName(t.referenceValue))}var jC=class extends Re{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return sf(t)&&of(t.arrayValue,this.value)}},Km=class extends Re{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&of(this.value.arrayValue,t)}},UC=class extends Re{constructor(e,t){super(e,"not-in",t)}matches(e){if(of(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!of(this.value.arrayValue,t)}},$C=class extends Re{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!sf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>of(this.value.arrayValue,r))}};var HC=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Te=null}};function zC(n,e=null,t=[],r=[],i=null,o=null,s=null){return new HC(n,e,t,r,i,o,s)}function Ta(n){let e=ye(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>FC(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),Fy(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>vc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>vc(r)).join(",")),e.Te=t}return e.Te}function vf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!I8(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!rF(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!FO(n.startAt,e.startAt)&&FO(n.endAt,e.endAt)}function Qm(n){return K.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Ym(n,e){return n.filters.filter(t=>t instanceof Re&&t.field.isEqual(e))}function LO(n,e,t){let r=Sm,i=!0;for(let o of Ym(n,e)){let s=Sm,a=!0;switch(o.op){case"<":case"<=":s=w8(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=Sm}PO({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){let s=t.position[o];PO({value:r,inclusive:i},{value:s,inclusive:t.inclusive})<0&&(r=s,i=t.inclusive);break}}return{value:r,inclusive:i}}function VO(n,e,t){let r=Xo,i=!0;for(let o of Ym(n,e)){let s=Xo,a=!0;switch(o.op){case">=":case">":s=C8(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=Xo}OO({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){let s=t.position[o];OO({value:r,inclusive:i},{value:s,inclusive:t.inclusive})>0&&(r=s,i=t.inclusive);break}}return{value:r,inclusive:i}}var rs=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}};function D8(n,e,t,r,i,o,s,a){return new rs(n,e,t,r,i,o,s,a)}function xc(n){return new rs(n)}function BO(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function T8(n){return K.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function hD(n){return n.collectionGroup!==null}function lc(n){let e=ye(n);if(e.Ie===null){e.Ie=[];let t=new Set;for(let o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new st($t.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new ns(o,r))}),t.has($t.keyField().canonicalString())||e.Ie.push(new ns($t.keyField(),r))}return e.Ie}function br(n){let e=ye(n);return e.Ee||(e.Ee=S8(e,lc(n))),e.Ee}function S8(n,e){if(n.limitType==="F")return zC(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ns(i.field,o)});let t=n.endAt?new co(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new co(n.startAt.position,n.startAt.inclusive):null;return zC(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Hy(n,e){let t=n.filters.concat([e]);return new rs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function aF(n,e){let t=n.explicitOrderBy.concat([e]);return new rs(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function Zm(n,e,t){return new rs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function zy(n,e){return vf(br(n),br(e))&&n.limitType===e.limitType}function lF(n){return`${Ta(br(n))}|lt:${n.limitType}`}function rc(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>oF(i)).join(", ")}]`),Fy(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>vc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>vc(i)).join(",")),`Target(${r})`})(br(n))}; limitType=${n.limitType})`}function _f(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):K.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of lc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,l){let u=kO(s,a,l);return s.inclusive?u<=0:u<0})(r.startAt,lc(r),i)||r.endAt&&!(function(s,a,l){let u=kO(s,a,l);return s.inclusive?u>=0:u>0})(r.endAt,lc(r),i))})(n,e)}function A8(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function cF(n){return(e,t)=>{let r=!1;for(let i of lc(n)){let o=M8(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function M8(n,e,t){let r=n.field.isKeyField()?K.comparator(e.key,t.key):(function(o,s,a){let l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?ts(l,u):Y(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Y(19790,{direction:n.dir})}}var Yr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Oa(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return Gk(this.inner)}size(){return this.innerSize}};var N8=new Dt(K.comparator);function rr(){return N8}var uF=new Dt(K.comparator);function Hd(...n){let e=uF;for(let t of n)e=e.insert(t.key,t);return e}function dF(n){let e=uF;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function pi(){return Qd()}function fF(){return Qd()}function Qd(){return new Yr(n=>n.toString(),(n,e)=>n.isEqual(e))}var x8=new Dt(K.comparator),R8=new st(K.comparator);function Ae(...n){let e=R8;for(let t of n)e=e.add(t);return e}var P8=new st(me);function O8(){return P8}function pD(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jd(e)?"-0":e}}function hF(n){return{integerValue:""+n}}function k8(n,e){return Kz(e)?hF(e):pD(n,e)}var bc=class{constructor(){this._=void 0}};function F8(n,e,t){return n instanceof is?(function(i,o){let s={fields:{[Kk]:{stringValue:Wk},[Yk]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&jy(o)&&(o=Uy(o)),o&&(s.fields[Qk]=o),{mapValue:s}})(t,e):n instanceof os?gF(n,e):n instanceof ss?mF(n,e):(function(i,o){let s=pF(i,o),a=jO(s)+jO(i.Ae);return OC(s)&&OC(i.Ae)?hF(a):pD(i.serializer,a)})(n,e)}function L8(n,e,t){return n instanceof os?gF(n,e):n instanceof ss?mF(n,e):t}function pF(n,e){return n instanceof Sa?(function(r){return OC(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var is=class extends bc{},os=class extends bc{constructor(e){super(),this.elements=e}};function gF(n,e){let t=yF(e);for(let r of n.elements)t.some(i=>_i(i,r))||t.push(r);return{arrayValue:{values:t}}}var ss=class extends bc{constructor(e){super(),this.elements=e}};function mF(n,e){let t=yF(e);for(let r of n.elements)t=t.filter(i=>!_i(i,r));return{arrayValue:{values:t}}}var Sa=class extends bc{constructor(e,t){super(),this.serializer=e,this.Ae=t}};function jO(n){return yt(n.integerValue||n.doubleValue)}function yF(n){return sf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var Jm=class{constructor(e,t){this.field=e,this.transform=t}};function V8(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof os&&i instanceof os||r instanceof ss&&i instanceof ss?uc(r.elements,i.elements,_i):r instanceof Sa&&i instanceof Sa?_i(r.Ae,i.Ae):r instanceof is&&i instanceof is})(n.transform,e.transform)}var qC=class{constructor(e,t){this.version=e,this.transformResults=t}},Wn=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Nm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Ec=class{};function vF(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Aa(n.key,Wn.none()):new as(n.key,n.data,Wn.none());{let t=n.data,r=Gn.empty(),i=new st($t.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new bi(n.key,r,new Kr(i.toArray()),Wn.none())}}function B8(n,e,t){n instanceof as?(function(i,o,s){let a=i.value.clone(),l=$O(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(n,e,t):n instanceof bi?(function(i,o,s){if(!Nm(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=$O(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(_F(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function Yd(n,e,t,r){return n instanceof as?(function(o,s,a,l){if(!Nm(o.precondition,s))return a;let u=o.value.clone(),d=HO(o.fieldTransforms,l,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null})(n,e,t,r):n instanceof bi?(function(o,s,a,l){if(!Nm(o.precondition,s))return a;let u=HO(o.fieldTransforms,l,s),d=s.data;return d.setAll(_F(o)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))})(n,e,t,r):(function(o,s,a){return Nm(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(n,e,t)}function j8(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=pF(r.transform,i||null);o!=null&&(t===null&&(t=Gn.empty()),t.set(r.field,o))}return t||null}function UO(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&uc(r,i,(o,s)=>V8(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var as=class extends Ec{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},bi=class extends Ec{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function _F(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function $O(n,e,t){let r=new Map;X(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,L8(s,a,t[i]))}return r}function HO(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,F8(o,s,e))}return r}var Aa=class extends Ec{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Xm=class extends Ec{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var af=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&B8(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Yd(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Yd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=fF();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let l=vF(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ae())}isEqual(e){return this.batchId===e.batchId&&uc(this.mutations,e.mutations,(t,r)=>UO(t,r))&&uc(this.baseMutations,e.baseMutations,(t,r)=>UO(t,r))}},GC=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){X(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return x8})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var lf=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var WC=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var jt,Be;function U8(n){switch(n){case P.OK:return Y(64938);case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0;default:return Y(15467,{code:n})}}function bF(n){if(n===void 0)return kn("GRPC error has no .code"),P.UNKNOWN;switch(n){case jt.OK:return P.OK;case jt.CANCELLED:return P.CANCELLED;case jt.UNKNOWN:return P.UNKNOWN;case jt.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case jt.INTERNAL:return P.INTERNAL;case jt.UNAVAILABLE:return P.UNAVAILABLE;case jt.UNAUTHENTICATED:return P.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case jt.NOT_FOUND:return P.NOT_FOUND;case jt.ALREADY_EXISTS:return P.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return P.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case jt.ABORTED:return P.ABORTED;case jt.OUT_OF_RANGE:return P.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return P.UNIMPLEMENTED;case jt.DATA_LOSS:return P.DATA_LOSS;default:return Y(39323,{code:n})}}(Be=jt||(jt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";var $8=null;function H8(){return new TextEncoder}var z8=new no([4294967295,4294967295],0);function zO(n){let e=H8().encode(n),t=new aC;return t.update(e),new Uint8Array(t.digest())}function qO(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new no([t,r],0),new no([i,o],0)]}var KC=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ma(`Invalid padding: ${t}`);if(r<0)throw new ma(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ma(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ma(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=no.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(no.fromNumber(r)));return i.compare(z8)===1&&(i=new no([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;let t=zO(e),[r,i]=qO(t);for(let o=0;o<this.hashCount;o++){let s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.ge===0)return;let t=zO(e),[r,i]=qO(t);for(let o=0;o<this.hashCount;o++){let s=this.ye(r,i,o);this.be(s)}}be(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},ma=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var ey=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,cf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(se.min(),i,new Dt(me),rr(),Ae())}},cf=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Ae(),Ae(),Ae())}};var cc=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=i}},ty=class{constructor(e,t){this.targetId=e,this.Ce=t}},ny=class{constructor(e,t,r=zt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},ry=class{constructor(){this.ve=0,this.Fe=GO(),this.Me=zt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ae(),t=Ae(),r=Ae();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Y(38017,{changeType:o})}}),new cf(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=GO()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,X(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}},QC=class{constructor(e){this.Ge=e,this.ze=new Map,this.je=rr(),this.He=bm(),this.Je=bm(),this.Ze=new Dt(me)}Xe(e){for(let t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(let t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{let r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Y(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((r,i)=>{this.rt(i)&&t(i)})}st(e){let t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){let o=i.target;if(Qm(o))if(r===0){let s=new K(o.path);this.et(t,s,mn.newNoDocument(s,se.min()))}else X(r===1,20013,{expectedCount:r});else{let s=this._t(t);if(s!==r){let a=this.ut(e),l=a?this.ct(a,e,s):1;if(l!==0){this.it(t);let u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,u)}$8?.lt((function(d,f,g,m,v){let w={localCacheCount:d,existenceFilterCount:f.count,databaseId:g.database,projectId:g.projectId},M=f.unchangedNames;return M&&(w.bloomFilter={applied:v===0,hashCount:M?.hashCount??0,bitmapLength:M?.bits?.bitmap?.length??0,padding:M?.bits?.padding??0,mightContain:O=>m?.mightContain(O)??!1}),w})(s,e.Ce,this.Ge.ht(),a,l))}}}}ut(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=lo(r).toUint8Array()}catch(l){if(l instanceof qm)return vi("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new KC(s,i,o)}catch(l){return vi(l instanceof ma?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){let r=this.Ge.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Ge.ht(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.et(t,o,null),i++)}),i}Tt(e){let t=new Map;this.ze.forEach((o,s)=>{let a=this.ot(s);if(a){if(o.current&&Qm(a.target)){let l=new K(a.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,mn.newNoDocument(l,e))}o.Be&&(t.set(s,o.ke()),o.Ke())}});let r=Ae();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{let u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));let i=new ey(e,t,this.Ze,this.je,r);return this.je=rr(),this.He=bm(),this.Je=bm(),this.Ze=new Dt(me),i}Ye(e,t){if(!this.rt(e))return;let r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;let i=this.nt(e);this.Et(e,t)?i.qe(t,1):i.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){let t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new ry,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new st(me),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new st(me),this.He=this.He.insert(e,t)),t}rt(e){let t=this.ot(e)!==null;return t||B("WatchChangeAggregator","Detected inactive target",e),t}ot(e){let t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ry),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}};function bm(){return new Dt(K.comparator)}function GO(){return new Dt(K.comparator)}var q8={asc:"ASCENDING",desc:"DESCENDING"},G8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},W8={and:"AND",or:"OR"},YC=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function ZC(n,e){return n.useProto3Json||Fy(e)?e:{value:e}}function wc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function EF(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function K8(n,e){return wc(n,e.toTimestamp())}function Fn(n){return X(!!n,49232),se.fromTimestamp((function(t){let r=ao(t);return new ht(r.seconds,r.nanos)})(n))}function gD(n,e){return JC(n,e).canonicalString()}function JC(n,e){let t=(function(i){return new Je(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function wF(n){let e=Je.fromString(n);return X(RF(e),10190,{key:e.toString()}),e}function iy(n,e){return gD(n.databaseId,e.path)}function Ea(n,e){let t=wF(e);if(t.get(1)!==n.databaseId.projectId)throw new H(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new H(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new K(DF(t))}function CF(n,e){return gD(n.databaseId,e)}function IF(n){let e=wF(n);return e.length===4?Je.emptyPath():DF(e)}function XC(n){return new Je(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function DF(n){return X(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function WO(n,e,t){return{name:iy(n,e),fields:t.value.mapValue.fields}}function TF(n,e,t){let r=Ea(n,e.name),i=Fn(e.updateTime),o=e.createTime?Fn(e.createTime):se.min(),s=new Gn({mapValue:{fields:e.fields}}),a=mn.newFoundDocument(r,i,o,s);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function Q8(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Y(39313,{state:u})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(u,d){return u.useProto3Json?(X(d===void 0||typeof d=="string",58123),zt.fromBase64String(d||"")):(X(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),zt.fromUint8Array(d||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(u){let d=u.code===void 0?P.UNKNOWN:bF(u.code);return new H(d,u.message||"")})(s);t=new ny(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Ea(n,r.document.name),o=Fn(r.document.updateTime),s=r.document.createTime?Fn(r.document.createTime):se.min(),a=new Gn({mapValue:{fields:r.document.fields}}),l=mn.newFoundDocument(i,o,s,a),u=r.targetIds||[],d=r.removedTargetIds||[];t=new cc(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Ea(n,r.document),o=r.readTime?Fn(r.readTime):se.min(),s=mn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new cc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Ea(n,r.document),o=r.removedTargetIds||[];t=new cc([],o,i,null)}else{if(!("filter"in e))return Y(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new WC(i,o),a=r.targetId;t=new ty(a,s)}}return t}function oy(n,e){let t;if(e instanceof as)t={update:WO(n,e.key,e.value)};else if(e instanceof Aa)t={delete:iy(n,e.key)};else if(e instanceof bi)t={update:WO(n,e.key,e.data),updateMask:tq(e.fieldMask)};else{if(!(e instanceof Xm))return Y(16599,{dt:e.type});t={verify:iy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof is)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof os)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ss)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Sa)return{fieldPath:s.field.canonicalString(),increment:a.Ae};throw Y(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:K8(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Y(27497)})(n,e.precondition)),t}function eI(n,e){let t=e.currentDocument?(function(o){return o.updateTime!==void 0?Wn.updateTime(Fn(o.updateTime)):o.exists!==void 0?Wn.exists(o.exists):Wn.none()})(e.currentDocument):Wn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>(function(s,a){let l=null;if("setToServerValue"in a)X(a.setToServerValue==="REQUEST_TIME",16630,{proto:a}),l=new is;else if("appendMissingElements"in a){let d=a.appendMissingElements.values||[];l=new os(d)}else if("removeAllFromArray"in a){let d=a.removeAllFromArray.values||[];l=new ss(d)}else"increment"in a?l=new Sa(s,a.increment):Y(16584,{proto:a});let u=$t.fromServerFormat(a.fieldPath);return new Jm(u,l)})(n,i)):[];if(e.update){e.update.name;let i=Ea(n,e.update.name),o=new Gn({mapValue:{fields:e.update.fields}});if(e.updateMask){let s=(function(l){let u=l.fieldPaths||[];return new Kr(u.map(d=>$t.fromServerFormat(d)))})(e.updateMask);return new bi(i,o,s,t,r)}return new as(i,o,t,r)}if(e.delete){let i=Ea(n,e.delete);return new Aa(i,t)}if(e.verify){let i=Ea(n,e.verify);return new Xm(i,t)}return Y(1463,{proto:e})}function Y8(n,e){return n&&n.length>0?(X(e!==void 0,14353),n.map(t=>(function(i,o){let s=i.updateTime?Fn(i.updateTime):Fn(o);return s.isEqual(se.min())&&(s=Fn(o)),new qC(s,i.transformResults||[])})(t,e))):[]}function SF(n,e){return{documents:[CF(n,e.path)]}}function AF(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=CF(n,i);let o=(function(u){if(u.length!==0)return xF(Xe.create(u,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(u){if(u.length!==0)return u.map(d=>(function(g){return{field:ic(g.field),direction:J8(g.dir)}})(d))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=ZC(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(e.endAt)),{ft:t,parent:i}}function MF(n){let e=IF(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){X(r===1,65062);let d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];t.where&&(o=(function(f){let g=NF(f);return g instanceof Xe&&fD(g)?g.getFilters():[g]})(t.where));let s=[];t.orderBy&&(s=(function(f){return f.map(g=>(function(v){return new ns(oc(v.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(v.direction))})(g))})(t.orderBy));let a=null;t.limit&&(a=(function(f){let g;return g=typeof f=="object"?f.value:f,Fy(g)?null:g})(t.limit));let l=null;t.startAt&&(l=(function(f){let g=!!f.before,m=f.values||[];return new co(m,g)})(t.startAt));let u=null;return t.endAt&&(u=(function(f){let g=!f.before,m=f.values||[];return new co(m,g)})(t.endAt)),D8(e,i,s,o,a,"F",l,u)}function Z8(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function NF(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=oc(t.unaryFilter.field);return Re.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=oc(t.unaryFilter.field);return Re.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=oc(t.unaryFilter.field);return Re.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=oc(t.unaryFilter.field);return Re.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Y(61313);default:return Y(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Re.create(oc(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Y(58110);default:return Y(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Xe.create(t.compositeFilter.filters.map(r=>NF(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Y(1026)}})(t.compositeFilter.op))})(n):Y(30097,{filter:n})}function J8(n){return q8[n]}function X8(n){return G8[n]}function eq(n){return W8[n]}function ic(n){return{fieldPath:n.canonicalString()}}function oc(n){return $t.fromServerFormat(n.fieldPath)}function xF(n){return n instanceof Re?(function(t){if(t.op==="=="){if(RO(t.value))return{unaryFilter:{field:ic(t.field),op:"IS_NAN"}};if(xO(t.value))return{unaryFilter:{field:ic(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(RO(t.value))return{unaryFilter:{field:ic(t.field),op:"IS_NOT_NAN"}};if(xO(t.value))return{unaryFilter:{field:ic(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ic(t.field),op:X8(t.op),value:t.value}}})(n):n instanceof Xe?(function(t){let r=t.getFilters().map(i=>xF(i));return r.length===1?r[0]:{compositeFilter:{op:eq(t.op),filters:r}}})(n):Y(54877,{filter:n})}function tq(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function RF(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function PF(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}var Cc=class n{constructor(e,t,r,i,o=se.min(),s=se.min(),a=zt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var sy=class{constructor(e){this.yt=e}};function nq(n,e){let t;if(e.document)t=TF(n.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let r=K.fromSegments(e.noDocument.path),i=Na(e.noDocument.readTime);t=mn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Y(56709);{let r=K.fromSegments(e.unknownDocument.path),i=Na(e.unknownDocument.version);t=mn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime((function(i){let o=new ht(i[0],i[1]);return se.fromTimestamp(o)})(e.readTime)),t}function KO(n,e){let t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:ay(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(o,s){return{name:iy(o,s.key),fields:s.data.value.mapValue.fields,updateTime:wc(o,s.version.toTimestamp()),createTime:wc(o,s.createTime.toTimestamp())}})(n.yt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Ma(e.version)};else{if(!e.isUnknownDocument())return Y(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:Ma(e.version)}}return r}function ay(n){let e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Ma(n){let e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Na(n){let e=new ht(n.seconds,n.nanoseconds);return se.fromTimestamp(e)}function fa(n,e){let t=(e.baseMutations||[]).map(o=>eI(n.yt,o));for(let o=0;o<e.mutations.length-1;++o){let s=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){let a=e.mutations[o+1];s.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}let r=e.mutations.map(o=>eI(n.yt,o)),i=ht.fromMillis(e.localWriteTimeMs);return new af(e.batchId,i,t,r)}function zd(n){let e=Na(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?Na(n.lastLimboFreeSnapshotVersion):se.min(),r;return r=(function(o){return o.documents!==void 0})(n.query)?(function(o){let s=o.documents.length;return X(s===1,1966,{count:s}),br(xc(IF(o.documents[0])))})(n.query):(function(o){return br(MF(o))})(n.query),new Cc(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,zt.fromBase64String(n.resumeToken))}function OF(n,e){let t=Ma(e.snapshotVersion),r=Ma(e.lastLimboFreeSnapshotVersion),i;i=Qm(e.target)?SF(n.yt,e.target):AF(n.yt,e.target).ft;let o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ta(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function mD(n){let e=MF({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Zm(e,e.limit,"L"):e}function pC(n,e){return new lf(e.largestBatchId,eI(n.yt,e.overlayMutation))}function QO(n,e){let t=e.path.lastSegment();return[n,An(e.path.popLast()),t]}function YO(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:Ma(r.readTime),documentKey:An(r.documentKey.path),largestBatchId:r.largestBatchId}}var tI=class{getBundleMetadata(e,t){return ZO(e).get(t).next(r=>{if(r)return(function(o){return{id:o.bundleId,createTime:Na(o.createTime),version:o.version}})(r)})}saveBundleMetadata(e,t){return ZO(e).put((function(i){return{bundleId:i.id,createTime:Ma(Fn(i.createTime)),version:i.version}})(t))}getNamedQuery(e,t){return JO(e).get(t).next(r=>{if(r)return(function(o){return{name:o.name,query:mD(o.bundledQuery),readTime:Na(o.readTime)}})(r)})}saveNamedQuery(e,t){return JO(e).put((function(i){return{name:i.name,readTime:Ma(Fn(i.readTime)),bundledQuery:i.bundledQuery}})(t))}};function ZO(n){return Yt(n,Ly)}function JO(n){return Yt(n,Vy)}var ly=class n{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){let r=t.uid||"";return new n(e,r)}getOverlay(e,t){return Vd(e).get(QO(this.userId,t)).next(r=>r?pC(this.serializer,r):null)}getOverlays(e,t){let r=pi();return x.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){let i=[];return r.forEach((o,s)=>{let a=new lf(t,s);i.push(this.bt(e,a))}),x.waitFor(i)}removeOverlaysForBatchId(e,t,r){let i=new Set;t.forEach(s=>i.add(An(s.getCollectionPath())));let o=[];return i.forEach(s=>{let a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(Vd(e).X(xC,a))}),x.waitFor(o)}getOverlaysForCollection(e,t,r){let i=pi(),o=An(t),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Vd(e).H(xC,s).next(a=>{for(let l of a){let u=pC(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,t,r,i){let o=pi(),s,a=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Vd(e).ee({index:Uk,range:a},(l,u,d)=>{let f=pC(this.serializer,u);o.size()<i||f.largestBatchId===s?(o.set(f.getKey(),f),s=f.largestBatchId):d.done()}).next(()=>o)}bt(e,t){return Vd(e).put((function(i,o,s){let[a,l,u]=QO(o,s.mutation.key);return{userId:o,collectionPath:l,documentId:u,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:oy(i.yt,s.mutation)}})(this.serializer,this.userId,t))}};function Vd(n){return Yt(n,By)}var nI=class{St(e){return Yt(e,lD)}getSessionToken(e){return this.St(e).get("sessionToken").next(t=>{let r=t?.value;return r?zt.fromUint8Array(r):zt.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.St(e).put({name:"sessionToken",value:t.toUint8Array()})}};var io=class{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(yt(e.integerValue));else if("doubleValue"in e){let r=yt(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),Jd(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=ao(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(lo(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?Xk(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):$y(e)?this.kt(e.mapValue,t):(this.Kt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Nt(t)):Y(19022,{Ut:e})}Ot(e,t){this.Ft(t,25),this.$t(e,t)}$t(e,t){t.xt(e)}Kt(e,t){let r=e.fields||{};this.Ft(t,55);for(let i of Object.keys(r))this.Ot(i,t),this.Ct(r[i],t)}kt(e,t){let r=e.fields||{};this.Ft(t,53);let i=yc,o=r[i].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(yt(o)),this.Ot(i,t),this.Ct(r[i],t)}qt(e,t){let r=e.values||[];this.Ft(t,50);for(let i of r)this.Ct(i,t)}Lt(e,t){this.Ft(t,37),K.fromName(e).path.forEach(r=>{this.Ft(t,60),this.$t(r,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}};io.Wt=new io;var Jl=255;function rq(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function XO(n){let e=64-(function(r){let i=0;for(let o=0;o<8;++o){let s=rq(255&r[o]);if(i+=s,s!==8)break}return i})(n);return Math.ceil(e/8)}var rI=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(e){let t=e[Symbol.iterator](),r=t.next();for(;!r.done;)this.Gt(r.value),r=t.next();this.zt()}jt(e){let t=e[Symbol.iterator](),r=t.next();for(;!r.done;)this.Ht(r.value),r=t.next();this.Jt()}Zt(e){for(let t of e){let r=t.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{let i=t.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Xt(e){for(let t of e){let r=t.charCodeAt(0);if(r<128)this.Ht(r);else if(r<2048)this.Ht(960|r>>>6),this.Ht(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Ht(480|r>>>12),this.Ht(128|63&r>>>6),this.Ht(128|63&r);else{let i=t.codePointAt(0);this.Ht(240|i>>>18),this.Ht(128|63&i>>>12),this.Ht(128|63&i>>>6),this.Ht(128|63&i)}}this.Jt()}Yt(e){let t=this.en(e),r=XO(t);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}nn(e){let t=this.en(e),r=XO(t);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}rn(){this.sn(Jl),this.sn(255)}_n(){this.an(Jl),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){let t=(function(o){let s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)})(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Gt(e){let t=255&e;t===0?(this.sn(0),this.sn(255)):t===Jl?(this.sn(Jl),this.sn(0)):this.sn(t)}Ht(e){let t=255&e;t===0?(this.an(0),this.an(255)):t===Jl?(this.an(Jl),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){let t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);let i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}},iI=class{constructor(e){this.cn=e}Bt(e){this.cn.Qt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.Yt(e)}vt(){this.cn.rn()}},oI=class{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Xt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}},ha=class{constructor(){this.cn=new rI,this.ascending=new iI(this.cn),this.descending=new oI(this.cn)}seed(e){this.cn.seed(e)}ln(e){return e===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}};var pa=class n{constructor(e,t,r,i){this.hn=e,this.Pn=t,this.Tn=r,this.In=i}En(){let e=this.In.length,t=e===0||this.In[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.In,0),t!==e?r.set([0],this.In.length):++r[r.length-1],new n(this.hn,this.Pn,this.Tn,r)}Rn(e,t,r){return{indexId:this.hn,uid:e,arrayValue:xm(this.Tn),directionalValue:xm(this.In),orderedDocumentKey:xm(t),documentKey:r.path.toArray()}}An(e,t,r){let i=this.Rn(e,t,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}};function Qo(n,e){let t=n.hn-e.hn;return t!==0?t:(t=ek(n.Tn,e.Tn),t!==0?t:(t=ek(n.In,e.In),t!==0?t:K.comparator(n.Pn,e.Pn)))}function ek(n,e){for(let t=0;t<n.length&&t<e.length;++t){let r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}function xm(n){return q0()?(function(t){let r="";for(let i=0;i<t.length;i++)r+=String.fromCharCode(t[i]);return r})(n):n}function tk(n){return typeof n!="string"?n:(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(n)}var cy=class{constructor(e){this.Vn=new st((t,r)=>$t.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.mn=[];for(let t of e.filters){let r=t;r.isInequality()?this.Vn=this.Vn.add(r):this.mn.push(r)}}get fn(){return this.Vn.size>1}gn(e){if(X(e.collectionGroup===this.collectionId,49279),this.fn)return!1;let t=IC(e);if(t!==void 0&&!this.pn(t))return!1;let r=ca(e),i=new Set,o=0,s=0;for(;o<r.length&&this.pn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Vn.size>0){let a=this.Vn.getIterator().getNext();if(!i.has(a.field.canonicalString())){let l=r[o];if(!this.yn(a,l)||!this.wn(this.dn[s++],l))return!1}++o}for(;o<r.length;++o){let a=r[o];if(s>=this.dn.length||!this.wn(this.dn[s++],a))return!1}return!0}bn(){if(this.fn)return null;let e=new st($t.comparator),t=[];for(let r of this.mn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new ya(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new ya(r.field,0))}for(let r of this.dn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new ya(r.field,r.dir==="asc"?0:1)));return new Ia(Ia.UNKNOWN_ID,this.collectionId,t,dc.empty())}pn(e){for(let t of this.mn)if(this.yn(t,e))return!0;return!1}yn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;let r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}wn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}};function kF(n){if(X(n instanceof Re||n instanceof Xe,20012),n instanceof Re){if(n instanceof Km){let t=n.value.arrayValue?.values?.map(r=>Re.create(n.field,"==",r))||[];return Xe.create(t,"or")}return n}let e=n.filters.map(t=>kF(t));return Xe.create(e,n.op)}function iq(n){if(n.getFilters().length===0)return[];let e=lI(kF(n));return X(FF(e),7391),sI(e)||aI(e)?[e]:e.getFilters()}function sI(n){return n instanceof Re}function aI(n){return n instanceof Xe&&fD(n)}function FF(n){return sI(n)||aI(n)||(function(t){if(t instanceof Xe&&kC(t)){for(let r of t.getFilters())if(!sI(r)&&!aI(r))return!1;return!0}return!1})(n)}function lI(n){if(X(n instanceof Re||n instanceof Xe,34018),n instanceof Re)return n;if(n.filters.length===1)return lI(n.filters[0]);let e=n.filters.map(r=>lI(r)),t=Xe.create(e,n.op);return t=uy(t),FF(t)?t:(X(t instanceof Xe,64498),X(_c(t),40251),X(t.filters.length>1,57927),t.filters.reduce((r,i)=>yD(r,i)))}function yD(n,e){let t;return X(n instanceof Re||n instanceof Xe,38388),X(e instanceof Re||e instanceof Xe,25473),t=n instanceof Re?e instanceof Re?(function(i,o){return Xe.create([i,o],"and")})(n,e):nk(n,e):e instanceof Re?nk(e,n):(function(i,o){if(X(i.filters.length>0&&o.filters.length>0,48005),_c(i)&&_c(o))return iF(i,o.getFilters());let s=kC(i)?i:o,a=kC(i)?o:i,l=s.filters.map(u=>yD(u,a));return Xe.create(l,"or")})(n,e),uy(t)}function nk(n,e){if(_c(e))return iF(e,n.getFilters());{let t=e.filters.map(r=>yD(n,r));return Xe.create(t,"or")}}function uy(n){if(X(n instanceof Re||n instanceof Xe,11850),n instanceof Re)return n;let e=n.getFilters();if(e.length===1)return uy(e[0]);if(nF(n))return n;let t=e.map(i=>uy(i)),r=[];return t.forEach(i=>{i instanceof Re?r.push(i):i instanceof Xe&&(i.op===n.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Xe.create(r,n.op)}var cI=class{constructor(){this.Sn=new uf}addToCollectionParentIndex(e,t){return this.Sn.add(t),x.resolve()}getCollectionParents(e,t){return x.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return x.resolve()}deleteFieldIndex(e,t){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,t){return x.resolve()}getDocumentsMatchingTarget(e,t){return x.resolve(null)}getIndexType(e,t){return x.resolve(0)}getFieldIndexes(e,t){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,t){return x.resolve(Er.min())}getMinOffsetFromCollectionGroup(e,t){return x.resolve(Er.min())}updateCollectionGroup(e,t,r){return x.resolve()}updateIndexEntries(e,t){return x.resolve()}},uf=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new st(Je.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new st(Je.comparator)).toArray()}};var rk="IndexedDbIndexManager",Em=new Uint8Array(0),uI=class{constructor(e,t){this.databaseId=t,this.Dn=new uf,this.Cn=new Yr(r=>Ta(r),(r,i)=>vf(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Dn.has(t)){let r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Dn.add(t)});let o={collectionId:r,parent:An(i)};return ik(e).put(o)}return x.resolve()}getCollectionParents(e,t){let r=[],i=IDBKeyRange.bound([t,""],[Mk(t),""],!1,!0);return ik(e).H(i).next(o=>{for(let s of o){if(s.collectionId!==t)break;r.push(hi(s.parent))}return r})}addFieldIndex(e,t){let r=Bd(e),i=(function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}})(t);delete i.indexId;let o=r.add(i);if(t.indexState){let s=ec(e);return o.next(a=>{s.put(YO(a,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){let r=Bd(e),i=ec(e),o=Xl(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let t=Bd(e),r=Xl(e),i=ec(e);return t.X().next(()=>r.X()).next(()=>i.X())}createTargetIndexes(e,t){return x.forEach(this.vn(t),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){let o=new cy(r).bn();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){let r=Xl(e),i=!0,o=new Map;return x.forEach(this.vn(t),s=>this.Fn(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=Ae(),a=[];return x.forEach(o,(l,u)=>{B(rk,`Using index ${(function(z){return`id=${z.indexId}|cg=${z.collectionGroup}|f=${z.fields.map(ne=>`${ne.fieldPath}:${ne.kind}`).join(",")}`})(l)} to execute ${Ta(t)}`);let d=(function(z,ne){let Ce=IC(ne);if(Ce===void 0)return null;for(let ae of Ym(z,Ce.fieldPath))switch(ae.op){case"array-contains-any":return ae.value.arrayValue.values||[];case"array-contains":return[ae.value]}return null})(u,l),f=(function(z,ne){let Ce=new Map;for(let ae of ca(ne))for(let C of Ym(z,ae.fieldPath))switch(C.op){case"==":case"in":Ce.set(ae.fieldPath.canonicalString(),C.value);break;case"not-in":case"!=":return Ce.set(ae.fieldPath.canonicalString(),C.value),Array.from(Ce.values())}return null})(u,l),g=(function(z,ne){let Ce=[],ae=!0;for(let C of ca(ne)){let _=C.kind===0?LO(z,C.fieldPath,z.startAt):VO(z,C.fieldPath,z.startAt);Ce.push(_.value),ae&&(ae=_.inclusive)}return new co(Ce,ae)})(u,l),m=(function(z,ne){let Ce=[],ae=!0;for(let C of ca(ne)){let _=C.kind===0?VO(z,C.fieldPath,z.endAt):LO(z,C.fieldPath,z.endAt);Ce.push(_.value),ae&&(ae=_.inclusive)}return new co(Ce,ae)})(u,l),v=this.Mn(l,u,g),w=this.Mn(l,u,m),M=this.xn(l,u,f),O=this.On(l.indexId,d,v,g.inclusive,w,m.inclusive,M);return x.forEach(O,j=>r.Z(j,t.limit).next(z=>{z.forEach(ne=>{let Ce=K.fromSegments(ne.documentKey);s.has(Ce)||(s=s.add(Ce),a.push(Ce))})}))}).next(()=>a)}return x.resolve(null)})}vn(e){let t=this.Cn.get(e);return t||(e.filters.length===0?t=[e]:t=iq(Xe.create(e.filters,"and")).map(r=>zC(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Cn.set(e,t),t)}On(e,t,r,i,o,s,a){let l=(t!=null?t.length:1)*Math.max(r.length,o.length),u=l/(t!=null?t.length:1),d=[];for(let f=0;f<l;++f){let g=t?this.Nn(t[f/u]):Em,m=this.Bn(e,g,r[f%u],i),v=this.Ln(e,g,o[f%u],s),w=a.map(M=>this.Bn(e,g,M,!0));d.push(...this.createRange(m,v,w))}return d}Bn(e,t,r,i){let o=new pa(e,K.empty(),t,r);return i?o:o.En()}Ln(e,t,r,i){let o=new pa(e,K.empty(),t,r);return i?o.En():o}Fn(e,t){let r=new cy(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(let a of o)r.gn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,t){let r=2,i=this.vn(t);return x.forEach(i,o=>this.Fn(e,o).next(s=>{s?r!==0&&s.fields.length<(function(l){let u=new st($t.comparator),d=!1;for(let f of l.filters)for(let g of f.getFlattenedFilters())g.field.isKeyField()||(g.op==="array-contains"||g.op==="array-contains-any"?d=!0:u=u.add(g.field));for(let f of l.orderBy)f.field.isKeyField()||(u=u.add(f.field));return u.size+(d?1:0)})(o)&&(r=1):r=0})).next(()=>(function(s){return s.limit!==null})(t)&&i.length>1&&r===2?1:r)}kn(e,t){let r=new ha;for(let i of ca(e)){let o=t.data.field(i.fieldPath);if(o==null)return null;let s=r.ln(i.kind);io.Wt.Dt(o,s)}return r.un()}Nn(e){let t=new ha;return io.Wt.Dt(e,t.ln(0)),t.un()}Kn(e,t){let r=new ha;return io.Wt.Dt(Nc(this.databaseId,t),r.ln((function(o){let s=ca(o);return s.length===0?0:s[s.length-1].kind})(e))),r.un()}xn(e,t,r){if(r===null)return[];let i=[];i.push(new ha);let o=0;for(let s of ca(e)){let a=r[o++];for(let l of i)if(this.qn(t,s.fieldPath)&&sf(a))i=this.Un(i,s,a);else{let u=l.ln(s.kind);io.Wt.Dt(a,u)}}return this.$n(i)}Mn(e,t,r){return this.xn(e,t,r.position)}$n(e){let t=[];for(let r=0;r<e.length;++r)t[r]=e[r].un();return t}Un(e,t,r){let i=[...e],o=[];for(let s of r.arrayValue.values||[])for(let a of i){let l=new ha;l.seed(a.un()),io.Wt.Dt(s,l.ln(t.kind)),o.push(l)}return o}qn(e,t){return!!e.filters.find(r=>r instanceof Re&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){let r=Bd(e),i=ec(e);return(t?r.H(NC,IDBKeyRange.bound(t,t)):r.H()).next(o=>{let s=[];return x.forEach(o,a=>i.get([a.indexId,this.uid]).next(l=>{s.push((function(d,f){let g=f?new dc(f.sequenceNumber,new Er(Na(f.readTime),new K(hi(f.documentKey)),f.largestBatchId)):dc.empty(),m=d.fields.map(([v,w])=>new ya($t.fromServerFormat(v),w));return new Ia(d.indexId,d.collectionGroup,m,g)})(a,l))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,i)=>{let o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:me(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){let i=Bd(e),o=ec(e);return this.Wn(e).next(s=>i.H(NC,IDBKeyRange.bound(t,t)).next(a=>x.forEach(a,l=>o.put(YO(l.indexId,this.uid,s,r)))))}updateIndexEntries(e,t){let r=new Map;return x.forEach(t,(i,o)=>{let s=r.get(i.collectionGroup);return(s?x.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),x.forEach(a,l=>this.Qn(e,i,l).next(u=>{let d=this.Gn(o,l);return u.isEqual(d)?x.resolve():this.zn(e,o,l,u,d)}))))})}jn(e,t,r,i){return Xl(e).put(i.Rn(this.uid,this.Kn(r,t.key),t.key))}Hn(e,t,r,i){return Xl(e).delete(i.An(this.uid,this.Kn(r,t.key),t.key))}Qn(e,t,r){let i=Xl(e),o=new st(Qo);return i.ee({index:jk,range:IDBKeyRange.only([r.indexId,this.uid,xm(this.Kn(r,t))])},(s,a)=>{o=o.add(new pa(r.indexId,t,tk(a.arrayValue),tk(a.directionalValue)))}).next(()=>o)}Gn(e,t){let r=new st(Qo),i=this.kn(t,e);if(i==null)return r;let o=IC(t);if(o!=null){let s=e.data.field(o.fieldPath);if(sf(s))for(let a of s.arrayValue.values||[])r=r.add(new pa(t.indexId,e.key,this.Nn(a),i))}else r=r.add(new pa(t.indexId,e.key,Em,i));return r}zn(e,t,r,i,o){B(rk,"Updating index entries for document '%s'",t.key);let s=[];return(function(l,u,d,f,g){let m=l.getIterator(),v=u.getIterator(),w=Zl(m),M=Zl(v);for(;w||M;){let O=!1,j=!1;if(w&&M){let z=d(w,M);z<0?j=!0:z>0&&(O=!0)}else w!=null?j=!0:O=!0;O?(f(M),M=Zl(v)):j?(g(w),w=Zl(m)):(w=Zl(m),M=Zl(v))}})(i,o,Qo,a=>{s.push(this.jn(e,t,r,a))},a=>{s.push(this.Hn(e,t,r,a))}),x.waitFor(s)}Wn(e){let t=1;return ec(e).ee({index:Bk,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((s,a)=>Qo(s,a)).filter((s,a,l)=>!a||Qo(s,l[a-1])!==0);let i=[];i.push(e);for(let s of r){let a=Qo(s,e),l=Qo(s,t);if(a===0)i[0]=e.En();else if(a>0&&l<0)i.push(s),i.push(s.En());else if(l>0)break}i.push(t);let o=[];for(let s=0;s<i.length;s+=2){if(this.Jn(i[s],i[s+1]))return[];let a=i[s].An(this.uid,Em,K.empty()),l=i[s+1].An(this.uid,Em,K.empty());o.push(IDBKeyRange.bound(a,l))}return o}Jn(e,t){return Qo(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(ok)}getMinOffset(e,t){return x.mapArray(this.vn(t),r=>this.Fn(e,r).next(i=>i||Y(44426))).next(ok)}};function ik(n){return Yt(n,tf)}function Xl(n){return Yt(n,Wd)}function Bd(n){return Yt(n,aD)}function ec(n){return Yt(n,Gd)}function ok(n){X(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){let i=n[r].indexState.offset;iD(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Er(e.readTime,e.documentKey,t)}var sk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},LF=41943040,qn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};function VF(n,e,t){let r=n.store(Gr),i=n.store(hc),o=[],s=IDBKeyRange.only(t.batchId),a=0,l=r.ee({range:s},(d,f,g)=>(a++,g.delete()));o.push(l.next(()=>{X(a===1,47070,{batchId:t.batchId})}));let u=[];for(let d of t.mutations){let f=Fk(e,d.key.path,t.batchId);o.push(i.delete(f)),u.push(d.key)}return x.waitFor(o).next(()=>u)}function dy(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Y(14731);e=n.noDocument}return JSON.stringify(e).length}qn.DEFAULT_COLLECTION_PERCENTILE=10,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qn.DEFAULT=new qn(LF,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qn.DISABLED=new qn(-1,0,0);var fy=class n{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Zn={}}static wt(e,t,r,i){X(e.uid!=="",64387);let o=e.isAuthenticated()?e.uid:"";return new n(o,t,r,i)}checkEmpty(e){let t=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Yo(e).ee({index:ga,range:r},(i,o,s)=>{t=!1,s.done()}).next(()=>t)}addMutationBatch(e,t,r,i){let o=sc(e),s=Yo(e);return s.add({}).next(a=>{X(typeof a=="number",49019);let l=new af(a,t,r,i),u=(function(m,v,w){let M=w.baseMutations.map(j=>oy(m.yt,j)),O=w.mutations.map(j=>oy(m.yt,j));return{userId:v,batchId:w.batchId,localWriteTimeMs:w.localWriteTime.toMillis(),baseMutations:M,mutations:O}})(this.serializer,this.userId,l),d=[],f=new st((g,m)=>me(g.canonicalString(),m.canonicalString()));for(let g of i){let m=Fk(this.userId,g.key.path,a);f=f.add(g.key.path.popLast()),d.push(s.put(u)),d.push(o.put(m,Zz))}return f.forEach(g=>{d.push(this.indexManager.addToCollectionParentIndex(e,g))}),e.addOnCommittedListener(()=>{this.Zn[a]=l.keys()}),x.waitFor(d).next(()=>l)})}lookupMutationBatch(e,t){return Yo(e).get(t).next(r=>r?(X(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),fa(this.serializer,r)):null)}Xn(e,t){return this.Zn[t]?x.resolve(this.Zn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){let i=r.keys();return this.Zn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Yo(e).ee({index:ga,range:i},(s,a,l)=>{a.userId===this.userId&&(X(a.batchId>=r,47524,{Yn:r}),o=fa(this.serializer,a)),l.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){let t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=_a;return Yo(e).ee({index:ga,range:t,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){let t=IDBKeyRange.bound([this.userId,_a],[this.userId,Number.POSITIVE_INFINITY]);return Yo(e).H(ga,t).next(r=>r.map(i=>fa(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){let r=Dm(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return sc(e).ee({range:i},(s,a,l)=>{let[u,d,f]=s,g=hi(d);if(u===this.userId&&t.path.isEqual(g))return Yo(e).get(f).next(m=>{if(!m)throw Y(61480,{er:s,batchId:f});X(m.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:m.userId,batchId:f}),o.push(fa(this.serializer,m))});l.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new st(me),i=[];return t.forEach(o=>{let s=Dm(this.userId,o.path),a=IDBKeyRange.lowerBound(s),l=sc(e).ee({range:a},(u,d,f)=>{let[g,m,v]=u,w=hi(m);g===this.userId&&o.path.isEqual(w)?r=r.add(v):f.done()});i.push(l)}),x.waitFor(i).next(()=>this.tr(e,r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=Dm(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new st(me);return sc(e).ee({range:s},(l,u,d)=>{let[f,g,m]=l,v=hi(g);f===this.userId&&r.isPrefixOf(v)?v.length===i&&(a=a.add(m)):d.done()}).next(()=>this.tr(e,a))}tr(e,t){let r=[],i=[];return t.forEach(o=>{i.push(Yo(e).get(o).next(s=>{if(s===null)throw Y(35274,{batchId:o});X(s.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:s.userId,batchId:o}),r.push(fa(this.serializer,s))}))}),x.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return VF(e.le,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.nr(t.batchId)}),x.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}nr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return x.resolve();let r=IDBKeyRange.lowerBound((function(s){return[s]})(this.userId)),i=[];return sc(e).ee({range:r},(o,s,a)=>{if(o[0]===this.userId){let l=hi(o[1]);i.push(l)}else a.done()}).next(()=>{X(i.length===0,56720,{rr:i.map(o=>o.canonicalString())})})})}containsKey(e,t){return BF(e,this.userId,t)}ir(e){return jF(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:_a,lastStreamToken:""})}};function BF(n,e,t){let r=Dm(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return sc(n).ee({range:o,Y:!0},(a,l,u)=>{let[d,f,g]=a;d===e&&f===i&&(s=!0),u.done()}).next(()=>s)}function Yo(n){return Yt(n,Gr)}function sc(n){return Yt(n,hc)}function jF(n){return Yt(n,Xd)}var Ic=class n{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new n(0)}static ar(){return new n(-1)}};var dI=class{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.ur(e).next(t=>{let r=new Ic(t.highestTargetId);return t.highestTargetId=r.next(),this.cr(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.ur(e).next(t=>se.fromTimestamp(new ht(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.ur(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.ur(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.cr(e,i)))}addTargetData(e,t){return this.lr(e,t).next(()=>this.ur(e).next(r=>(r.targetCount+=1,this.hr(t,r),this.cr(e,r))))}updateTargetData(e,t){return this.lr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>tc(e).delete(t.targetId)).next(()=>this.ur(e)).next(r=>(X(r.targetCount>0,8065),r.targetCount-=1,this.cr(e,r)))}removeTargets(e,t,r){let i=0,o=[];return tc(e).ee((s,a)=>{let l=zd(a);l.sequenceNumber<=t&&r.get(l.targetId)===null&&(i++,o.push(this.removeTargetData(e,l)))}).next(()=>x.waitFor(o)).next(()=>i)}forEachTarget(e,t){return tc(e).ee((r,i)=>{let o=zd(i);t(o)})}ur(e){return ak(e).get(Hm).next(t=>(X(t!==null,2888),t))}cr(e,t){return ak(e).put(Hm,t)}lr(e,t){return tc(e).put(OF(this.serializer,t))}hr(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.ur(e).next(t=>t.targetCount)}getTargetData(e,t){let r=Ta(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return tc(e).ee({range:i,index:Vk},(s,a,l)=>{let u=zd(a);vf(t,u.target)&&(o=u,l.done())}).next(()=>o)}addMatchingKeys(e,t,r){let i=[],o=Jo(e);return t.forEach(s=>{let a=An(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),x.waitFor(i)}removeMatchingKeys(e,t,r){let i=Jo(e);return x.forEach(t,o=>{let s=An(o.path);return x.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){let r=Jo(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){let r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Jo(e),o=Ae();return i.ee({range:r,Y:!0},(s,a,l)=>{let u=hi(s[1]),d=new K(u);o=o.add(d)}).next(()=>o)}containsKey(e,t){let r=An(t.path),i=IDBKeyRange.bound([r],[Mk(r)],!1,!0),o=0;return Jo(e).ee({index:sD,Y:!0,range:i},([s,a],l,u)=>{s!==0&&(o++,u.done())}).next(()=>o>0)}At(e,t){return tc(e).get(t).next(r=>r?zd(r):null)}};function tc(n){return Yt(n,pc)}function ak(n){return Yt(n,ba)}function Jo(n){return Yt(n,gc)}var lk="LruGarbageCollector",oq=1048576;function ck([n,e],[t,r]){let i=me(n,t);return i===0?me(e,r):i}var fI=class{constructor(e){this.Pr=e,this.buffer=new st(ck),this.Tr=0}Ir(){return++this.Tr}Er(e){let t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();ck(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},hy=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){B(lk,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){us(t)?B(lk,"Ignoring IndexedDB error during garbage collection: ",t):await Pa(t)}await this.Ar(3e5)})}},hI=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return x.resolve(Wr.ce);let r=new fI(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.mr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(B("LruGarbageCollector","Garbage collection skipped; disabled"),x.resolve(sk)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(B("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sk):this.gr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,i,o,s,a,l,u,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(B("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,t))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),nc()<=Ve.DEBUG&&B("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),x.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}};function UF(n,e){return new hI(n,e)}var pI=class{constructor(e,t){this.db=e,this.garbageCollector=UF(this,t)}dr(e){let t=this.pr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}pr(e){let t=0;return this.mr(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}mr(e,t){return this.yr(e,(r,i)=>t(i))}addReference(e,t,r){return wm(e,r)}removeReference(e,t,r){return wm(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return wm(e,t)}wr(e,t){return(function(i,o){let s=!1;return jF(i).te(a=>BF(i,a,o).next(l=>(l&&(s=!0),x.resolve(!l)))).next(()=>s)})(e,t)}removeOrphanedDocuments(e,t){let r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.yr(e,(s,a)=>{if(a<=t){let l=this.wr(e,s).next(u=>{if(!u)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,se.min()),Jo(e).delete((function(f){return[0,An(f.path)]})(s))))});i.push(l)}}).next(()=>x.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return wm(e,t)}yr(e,t){let r=Jo(e),i,o=Wr.ce;return r.ee({index:sD},([s,a],{path:l,sequenceNumber:u})=>{s===0?(o!==Wr.ce&&t(new K(hi(i)),o),o=u,i=l):o=Wr.ce}).next(()=>{o!==Wr.ce&&t(new K(hi(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function wm(n,e){return Jo(n).put((function(r,i){return{targetId:0,path:An(r.path),sequenceNumber:i}})(e,n.currentSequenceNumber))}var py=class{constructor(){this.changes=new Yr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?x.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var gI=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return la(e).put(r)}removeEntry(e,t,r){return la(e).delete((function(o,s){let a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],ay(s),a[a.length-1]]})(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.br(e,r)))}getEntry(e,t){let r=mn.newInvalidDocument(t);return la(e).ee({index:Tm,range:IDBKeyRange.only(jd(t))},(i,o)=>{r=this.Sr(t,o)}).next(()=>r)}Dr(e,t){let r={size:0,document:mn.newInvalidDocument(t)};return la(e).ee({index:Tm,range:IDBKeyRange.only(jd(t))},(i,o)=>{r={document:this.Sr(t,o),size:dy(o)}}).next(()=>r)}getEntries(e,t){let r=rr();return this.Cr(e,t,(i,o)=>{let s=this.Sr(i,o);r=r.insert(i,s)}).next(()=>r)}vr(e,t){let r=rr(),i=new Dt(K.comparator);return this.Cr(e,t,(o,s)=>{let a=this.Sr(o,s);r=r.insert(o,a),i=i.insert(o,dy(s))}).next(()=>({documents:r,Fr:i}))}Cr(e,t,r){if(t.isEmpty())return x.resolve();let i=new st(fk);t.forEach(l=>i=i.add(l));let o=IDBKeyRange.bound(jd(i.first()),jd(i.last())),s=i.getIterator(),a=s.getNext();return la(e).ee({index:Tm,range:o},(l,u,d)=>{let f=K.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&fk(a,f)<0;)r(a,null),a=s.getNext();a&&a.isEqual(f)&&(r(a,u),a=s.hasNext()?s.getNext():null),a?d.j(jd(a)):d.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,o){let s=t.path,a=[s.popLast().toArray(),s.lastSegment(),ay(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return la(e).H(IDBKeyRange.bound(a,l,!0)).next(u=>{o?.incrementDocumentReadCount(u.length);let d=rr();for(let f of u){let g=this.Sr(K.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);g.isFoundDocument()&&(_f(t,g)||i.has(g.key))&&(d=d.insert(g.key,g))}return d})}getAllFromCollectionGroup(e,t,r,i){let o=rr(),s=dk(t,r),a=dk(t,Er.max());return la(e).ee({index:Lk,range:IDBKeyRange.bound(s,a,!0)},(l,u,d)=>{let f=this.Sr(K.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);o=o.insert(f.key,f),o.size===i&&d.done()}).next(()=>o)}newChangeBuffer(e){return new mI(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return uk(e).get(MC).next(t=>(X(!!t,20021),t))}br(e,t){return uk(e).put(MC,t)}Sr(e,t){if(t){let r=nq(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(se.min())))return r}return mn.newInvalidDocument(e)}};function $F(n){return new gI(n)}var mI=class extends py{constructor(e,t){super(),this.Mr=e,this.trackRemovals=t,this.Or=new Yr(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){let t=[],r=0,i=new st((o,s)=>me(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{let a=this.Or.get(o);if(t.push(this.Mr.removeEntry(e,o,a.readTime)),s.isValidDocument()){let l=KO(this.Mr.serializer,s);i=i.add(o.path.popLast());let u=dy(l);r+=u-a.size,t.push(this.Mr.addEntry(e,o,l))}else if(r-=a.size,this.trackRemovals){let l=KO(this.Mr.serializer,s.convertToNoDocument(se.min()));t.push(this.Mr.addEntry(e,o,l))}}),i.forEach(o=>{t.push(this.Mr.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.Mr.updateMetadata(e,r)),x.waitFor(t)}getFromCache(e,t){return this.Mr.Dr(e,t).next(r=>(this.Or.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Mr.vr(e,t).next(({documents:r,Fr:i})=>(i.forEach((o,s)=>{this.Or.set(o,{size:s,readTime:r.get(o).readTime})}),r))}};function uk(n){return Yt(n,ef)}function la(n){return Yt(n,$m)}function jd(n){let e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function dk(n,e){let t=e.documentKey.path.toArray();return[n,ay(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function fk(n,e){let t=n.path.toArray(),r=e.path.toArray(),i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=me(t[o],r[o]),i)return i;return i=me(t.length,r.length),i||(i=me(t[t.length-2],r[r.length-2]),i||me(t[t.length-1],r[r.length-1]))}var yI=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var gy=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Yd(r.mutation,i,Kr.empty(),ht.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ae()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ae()){let i=pi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Hd();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=pi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ae()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=rr(),s=Qd(),a=(function(){return Qd()})();return t.forEach((l,u)=>{let d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof bi)?o=o.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),Yd(d.mutation,u,d.mutation.getFieldMask(),ht.now())):s.set(u.key,Kr.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,d)=>s.set(u,d)),t.forEach((u,d)=>a.set(u,new yI(d,s.get(u)??null))),a))}recalculateAndSaveOverlays(e,t){let r=Qd(),i=new Dt((s,a)=>s-a),o=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(l=>{let u=t.get(l);if(u===null)return;let d=r.get(l)||Kr.empty();d=a.applyToLocalView(u,d),r.set(l,d);let f=(i.get(a.batchId)||Ae()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),u=l.key,d=l.value,f=fF();d.forEach(g=>{if(!o.has(g)){let m=vF(t.get(g),r.get(g));m!==null&&f.set(g,m),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return x.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return T8(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):hD(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):x.resolve(pi()),a=Zd,l=o;return s.next(u=>x.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(d)?x.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{l=l.insert(d,g)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Ae())).next(d=>({batchId:a,changes:dF(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new K(t)).next(r=>{let i=Hd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Hd();return this.indexManager.getCollectionParents(e,o).next(a=>x.forEach(a,l=>{let u=(function(f,g){return new rs(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)})(t,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,g)=>{s=s.insert(f,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((l,u)=>{let d=u.getKey();s.get(d)===null&&(s=s.insert(d,mn.newInvalidDocument(d)))});let a=Hd();return s.forEach((l,u)=>{let d=o.get(l);d!==void 0&&Yd(d.mutation,u,Kr.empty(),ht.now()),_f(t,u)&&(a=a.insert(l,u))}),a})}};var vI=class{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return x.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Fn(i.createTime)}})(t)),x.resolve()}getNamedQuery(e,t){return x.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(i){return{name:i.name,query:mD(i.bundledQuery),readTime:Fn(i.readTime)}})(t)),x.resolve()}};var _I=class{constructor(){this.overlays=new Dt(K.comparator),this.Lr=new Map}getOverlay(e,t){return x.resolve(this.overlays.get(t))}getOverlays(e,t){let r=pi();return x.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.bt(e,t,o)}),x.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Lr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Lr.delete(r)),x.resolve()}getOverlaysForCollection(e,t,r){let i=pi(),o=t.length+1,s=new K(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let l=a.getNext().value,u=l.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return x.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Dt((u,d)=>u-d),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=pi(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let a=pi(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return x.resolve(a)}bt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new lf(t,r));let o=this.Lr.get(t);o===void 0&&(o=Ae(),this.Lr.set(t,o)),this.Lr.set(t,o.add(r.key))}};var bI=class{constructor(){this.sessionToken=zt.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,x.resolve()}};var df=class{constructor(){this.kr=new st(Ut.Kr),this.qr=new st(Ut.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){let r=new Ut(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new Ut(e,t))}Qr(e,t){e.forEach(r=>this.removeReference(r,t))}Gr(e){let t=new K(new Je([])),r=new Ut(t,e),i=new Ut(t,e+1),o=[];return this.qr.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){let t=new K(new Je([])),r=new Ut(t,e),i=new Ut(t,e+1),o=Ae();return this.qr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Ut(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Ut=class{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return K.comparator(e.key,t.key)||me(e.Hr,t.Hr)}static Ur(e,t){return me(e.Hr,t.Hr)||K.comparator(e.key,t.key)}};var EI=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new st(Ut.Kr)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new af(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Jr=this.Jr.add(new Ut(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(s)}lookupMutationBatch(e,t){return x.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return x.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?_a:this.Yn-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Ut(t,0),i=new Ut(t,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),x.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new st(me);return t.forEach(i=>{let o=new Ut(i,0),s=new Ut(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),x.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;K.isDocumentKey(o)||(o=o.child(""));let s=new Ut(new K(o),0),a=new st(me);return this.Jr.forEachWhile(l=>{let u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Hr)),!0)},s),x.resolve(this.Yr(a))}Yr(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){X(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return x.forEach(t.mutations,i=>{let o=new Ut(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,t){let r=new Ut(t,0),i=this.Jr.firstAfterOrEqual(r);return x.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var wI=class{constructor(e){this.ti=e,this.docs=(function(){return new Dt(K.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return x.resolve(r?r.document.mutableCopy():mn.newInvalidDocument(t))}getEntries(e,t){let r=rr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():mn.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=rr(),s=t.path,a=new K(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:u,value:{document:d}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||iD(Pk(d),r)<=0||(i.has(d.key)||_f(t,d))&&(o=o.insert(d.key,d.mutableCopy()))}return x.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Y(9500)}ni(e,t){return x.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new CI(this)}getSize(e){return x.resolve(this.size)}},CI=class extends py{constructor(e){super(),this.Mr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)}),x.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}};var II=class{constructor(e){this.persistence=e,this.ri=new Yr(t=>Ta(t),vf),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.ii=0,this.si=new df,this.targetCount=0,this.oi=Ic._r()}forEachTarget(e,t){return this.ri.forEach((r,i)=>t(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),x.resolve()}lr(e){this.ri.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.oi=new Ic(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,x.resolve()}updateTargetData(e,t){return this.lr(t),x.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ri.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ri.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(o).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,t){let r=this.ri.get(t)||null;return x.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),x.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),x.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),x.resolve()}getMatchingKeysForTargetId(e,t){let r=this.si.jr(t);return x.resolve(r)}containsKey(e,t){return x.resolve(this.si.containsKey(t))}};var ff=class{constructor(e,t){this._i={},this.overlays={},this.ai=new Wr(0),this.ui=!1,this.ui=!0,this.ci=new bI,this.referenceDelegate=e(this),this.li=new II(this),this.indexManager=new cI,this.remoteDocumentCache=(function(i){return new wI(i)})(r=>this.referenceDelegate.hi(r)),this.serializer=new sy(t),this.Pi=new vI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _I,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new EI(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){B("MemoryPersistence","Starting transaction:",e);let i=new DI(this.ai.next());return this.referenceDelegate.Ti(),r(i).next(o=>this.referenceDelegate.Ii(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return x.or(Object.values(this._i).map(r=>()=>r.containsKey(e,t)))}},DI=class extends Bm{constructor(e){super(),this.currentSequenceNumber=e}},my=class n{constructor(e){this.persistence=e,this.Ri=new df,this.Ai=null}static Vi(e){return new n(e)}get di(){if(this.Ai)return this.Ai;throw Y(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),x.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),x.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach(i=>this.di.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ti(){this.Ai=new Set}Ii(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.di,r=>{let i=K.fromPath(r);return this.mi(e,i).next(o=>{o||t.removeEntry(i,se.min())})}).next(()=>(this.Ai=null,t.apply(e)))}updateLimboDocument(e,t){return this.mi(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}hi(e){return 0}mi(e,t){return x.or([()=>x.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},yy=class n{constructor(e,t){this.persistence=e,this.fi=new Yr(r=>An(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=UF(this,t)}static Vi(e,t){return new n(e,t)}Ti(){}Ii(e){return x.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){let t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}pr(e){let t=0;return this.mr(e,r=>{t++}).next(()=>t)}mr(e,t){return x.forEach(this.fi,(r,i)=>this.wr(e,r,i).next(o=>o?x.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ni(e,s=>this.wr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,se.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),x.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),x.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),x.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),x.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Am(e.data.value)),t}wr(e,t,r){return x.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.fi.get(t);return x.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var TI=class{constructor(e){this.serializer=e}k(e,t,r,i){let o=new jm("createOrUpgrade",t);r<1&&i>=1&&((function(l){l.createObjectStore(yf)})(e),(function(l){l.createObjectStore(Xd,{keyPath:Yz}),l.createObjectStore(Gr,{keyPath:TO,autoIncrement:!0}).createIndex(ga,SO,{unique:!0}),l.createObjectStore(hc)})(e),hk(e),(function(l){l.createObjectStore(ua)})(e));let s=x.resolve();return r<3&&i>=3&&(r!==0&&((function(l){l.deleteObjectStore(gc),l.deleteObjectStore(pc),l.deleteObjectStore(ba)})(e),hk(e)),s=s.next(()=>(function(l){let u=l.store(ba),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:se.min().toTimestamp(),targetCount:0};return u.put(Hm,d)})(o))),r<4&&i>=4&&(r!==0&&(s=s.next(()=>(function(l,u){return u.store(Gr).H().next(f=>{l.deleteObjectStore(Gr),l.createObjectStore(Gr,{keyPath:TO,autoIncrement:!0}).createIndex(ga,SO,{unique:!0});let g=u.store(Gr),m=f.map(v=>g.put(v));return x.waitFor(m)})})(e,o))),s=s.next(()=>{(function(l){l.createObjectStore(mc,{keyPath:o8})})(e)})),r<5&&i>=5&&(s=s.next(()=>this.gi(o))),r<6&&i>=6&&(s=s.next(()=>((function(l){l.createObjectStore(ef)})(e),this.pi(o)))),r<7&&i>=7&&(s=s.next(()=>this.yi(o))),r<8&&i>=8&&(s=s.next(()=>this.wi(e,o))),r<9&&i>=9&&(s=s.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(s=s.next(()=>this.bi(o))),r<11&&i>=11&&(s=s.next(()=>{(function(l){l.createObjectStore(Ly,{keyPath:s8})})(e),(function(l){l.createObjectStore(Vy,{keyPath:a8})})(e)})),r<12&&i>=12&&(s=s.next(()=>{(function(l){let u=l.createObjectStore(By,{keyPath:p8});u.createIndex(xC,g8,{unique:!1}),u.createIndex(Uk,m8,{unique:!1})})(e)})),r<13&&i>=13&&(s=s.next(()=>(function(l){let u=l.createObjectStore($m,{keyPath:Jz});u.createIndex(Tm,Xz),u.createIndex(Lk,e8)})(e)).next(()=>this.Si(e,o)).next(()=>e.deleteObjectStore(ua))),r<14&&i>=14&&(s=s.next(()=>this.Di(e,o))),r<15&&i>=15&&(s=s.next(()=>(function(l){l.createObjectStore(aD,{keyPath:l8,autoIncrement:!0}).createIndex(NC,c8,{unique:!1}),l.createObjectStore(Gd,{keyPath:u8}).createIndex(Bk,d8,{unique:!1}),l.createObjectStore(Wd,{keyPath:f8}).createIndex(jk,h8,{unique:!1})})(e))),r<16&&i>=16&&(s=s.next(()=>{t.objectStore(Gd).clear()}).next(()=>{t.objectStore(Wd).clear()})),r<17&&i>=17&&(s=s.next(()=>{(function(l){l.createObjectStore(lD,{keyPath:y8})})(e)})),r<18&&i>=18&&q0()&&(s=s.next(()=>{t.objectStore(Gd).clear()}).next(()=>{t.objectStore(Wd).clear()})),s}pi(e){let t=0;return e.store(ua).ee((r,i)=>{t+=dy(i)}).next(()=>{let r={byteSize:t};return e.store(ef).put(MC,r)})}gi(e){let t=e.store(Xd),r=e.store(Gr);return t.H().next(i=>x.forEach(i,o=>{let s=IDBKeyRange.bound([o.userId,_a],[o.userId,o.lastAcknowledgedBatchId]);return r.H(ga,s).next(a=>x.forEach(a,l=>{X(l.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:l.batchId});let u=fa(this.serializer,l);return VF(e,o.userId,u).next(()=>{})}))}))}yi(e){let t=e.store(gc),r=e.store(ua);return e.store(ba).get(Hm).next(i=>{let o=[];return r.ee((s,a)=>{let l=new Je(s),u=(function(f){return[0,An(f)]})(l);o.push(t.get(u).next(d=>d?x.resolve():(f=>t.put({targetId:0,path:An(f),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>x.waitFor(o))})}wi(e,t){e.createObjectStore(tf,{keyPath:i8});let r=t.store(tf),i=new uf,o=s=>{if(i.add(s)){let a=s.lastSegment(),l=s.popLast();return r.put({collectionId:a,parent:An(l)})}};return t.store(ua).ee({Y:!0},(s,a)=>{let l=new Je(s);return o(l.popLast())}).next(()=>t.store(hc).ee({Y:!0},([s,a,l],u)=>{let d=hi(a);return o(d.popLast())}))}bi(e){let t=e.store(pc);return t.ee((r,i)=>{let o=zd(i),s=OF(this.serializer,o);return t.put(s)})}Si(e,t){let r=t.store(ua),i=[];return r.ee((o,s)=>{let a=t.store($m),l=(function(f){return f.document?new K(Je.fromString(f.document.name).popFirst(5)):f.noDocument?K.fromSegments(f.noDocument.path):f.unknownDocument?K.fromSegments(f.unknownDocument.path):Y(36783)})(s).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(a.put(u))}).next(()=>x.waitFor(i))}Di(e,t){let r=t.store(Gr),i=$F(this.serializer),o=new ff(my.Vi,this.serializer.yt);return r.H().next(s=>{let a=new Map;return s.forEach(l=>{let u=a.get(l.userId)??Ae();fa(this.serializer,l).keys().forEach(d=>u=u.add(d)),a.set(l.userId,u)}),x.forEach(a,(l,u)=>{let d=new Qt(u),f=ly.wt(this.serializer,d),g=o.getIndexManager(d),m=fy.wt(d,this.serializer,g,o.referenceDelegate);return new gy(i,m,f,g).recalculateAndSaveOverlaysForDocumentKeys(new nf(t,Wr.ce),l).next()})})}};function hk(n){n.createObjectStore(gc,{keyPath:n8}).createIndex(sD,r8,{unique:!0}),n.createObjectStore(pc,{keyPath:"targetId"}).createIndex(Vk,t8,{unique:!0}),n.createObjectStore(ba)}var Zo="IndexedDbPersistence",gC=18e5,mC=5e3,yC="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",sq="main",SI=class n{constructor(e,t,r,i,o,s,a,l,u,d,f=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Ci=o,this.window=s,this.document=a,this.Fi=u,this.Mi=d,this.xi=f,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=g=>Promise.resolve(),!n.v())throw new H(P.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new pI(this,i),this.Ki=t+sq,this.serializer=new sy(l),this.qi=new fc(this.Ki,this.xi,new TI(this.serializer)),this.ci=new nI,this.li=new dI(this.referenceDelegate,this.serializer),this.remoteDocumentCache=$F(this.serializer),this.Pi=new tI,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,d===!1&&kn(Zo,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new H(P.FAILED_PRECONDITION,yC);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.li.getHighestSequenceNumber(e))}).then(e=>{this.ai=new Wr(e,this.Fi)}).then(()=>{this.ui=!0}).catch(e=>(this.qi&&this.qi.close(),Promise.reject(e)))}zi(e){return this.ki=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.qi.q(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ci.enqueueAndForget(async()=>{this.started&&await this.$i()}))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Cm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ji(e).next(t=>{t||(this.isPrimary=!1,this.Ci.enqueueRetryable(()=>this.ki(!1)))})}).next(()=>this.Hi(e)).next(t=>this.isPrimary&&!t?this.Ji(e).next(()=>!1):!!t&&this.Zi(e).next(()=>!0))).catch(e=>{if(us(e))return B(Zo,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return B(Zo,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ci.enqueueRetryable(()=>this.ki(e)),this.isPrimary=e})}ji(e){return Ud(e).get(Yl).next(t=>x.resolve(this.Xi(t)))}Yi(e){return Cm(e).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,gC)){this.Li=Date.now();let e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{let r=Yt(t,mc);return r.H().next(i=>{let o=this.ns(i,gC),s=i.filter(a=>o.indexOf(a)===-1);return x.forEach(s,a=>r.delete(a.clientId)).next(()=>s)})}).catch(()=>[]);if(this.Ui)for(let t of e)this.Ui.removeItem(this.rs(t.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.$i().then(()=>this.es()).then(()=>this.Gi()))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.Mi?x.resolve(!0):Ud(e).get(Yl).next(t=>{if(t!==null&&this.ts(t.leaseTimestampMs,mC)&&!this.ss(t.ownerId)){if(this.Xi(t)&&this.networkEnabled)return!0;if(!this.Xi(t)){if(!t.allowTabSynchronization)throw new H(P.FAILED_PRECONDITION,yC);return!1}}return!(!this.networkEnabled||!this.inForeground)||Cm(e).H().next(r=>this.ns(r,mC).find(i=>{if(this.clientId!==i.clientId){let o=!this.networkEnabled&&i.networkEnabled,s=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(o||s&&a)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&B(Zo,`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[yf,mc],e=>{let t=new nf(e,Wr.ce);return this.Ji(t).next(()=>this.Yi(t))}),this.qi.close(),this.ls()}ns(e,t){return e.filter(r=>this.ts(r.updateTimeMs,t)&&!this.ss(r.clientId))}hs(){return this.runTransaction("getActiveClients","readonly",e=>Cm(e).H().next(t=>this.ns(t,gC).map(r=>r.clientId)))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(e,t){return fy.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new uI(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return ly.wt(this.serializer,e)}getBundleCache(){return this.Pi}runTransaction(e,t,r){B(Zo,"Starting transaction:",e);let i=t==="readonly"?"readonly":"readwrite",o=(function(l){return l===18?b8:l===17?qk:l===16?_8:l===15?cD:l===14?zk:l===13?Hk:l===12?v8:l===11?$k:void Y(60245)})(this.xi),s;return this.qi.runTransaction(e,i,o,a=>(s=new nf(a,this.ai?this.ai.next():Wr.ce),t==="readwrite-primary"?this.ji(s).next(l=>!!l||this.Hi(s)).next(l=>{if(!l)throw kn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable(()=>this.ki(!1)),new H(P.FAILED_PRECONDITION,Ok);return r(s)}).next(l=>this.Zi(s).next(()=>l)):this.Ps(s).next(()=>r(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Ps(e){return Ud(e).get(Yl).next(t=>{if(t!==null&&this.ts(t.leaseTimestampMs,mC)&&!this.ss(t.ownerId)&&!this.Xi(t)&&!(this.Mi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new H(P.FAILED_PRECONDITION,yC)})}Zi(e){let t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ud(e).put(Yl,t)}static v(){return fc.v()}Ji(e){let t=Ud(e);return t.get(Yl).next(r=>this.Xi(r)?(B(Zo,"Releasing primary lease."),t.delete(Yl)):x.resolve())}ts(e,t){let r=Date.now();return!(e<r-t)&&(!(e>r)||(kn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.$i()))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){typeof this.window?.addEventListener=="function"&&(this.Oi=()=>{this._s();let e=/(?:Version|Mobile)\/1[456]/;z0()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(e){try{let t=this.Ui?.getItem(this.rs(e))!==null;return B(Zo,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(t){return kn(Zo,"Failed to get zombied client id.",t),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(e){kn("Failed to set zombie client id.",e)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function Ud(n){return Yt(n,yf)}function Cm(n){return Yt(n,mc)}function aq(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}var AI=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=i}static Es(e,t){let r=Ae(),i=Ae();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var MI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var vy=class{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return z0()?8:kk(Od())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.gs(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ps(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new MI;return this.ys(e,t,s).next(a=>{if(o.result=a,this.As)return this.ws(e,t,s,a.size)})}).next(()=>o.result)}ws(e,t,r,i){return r.documentReadCount<this.Vs?(nc()<=Ve.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",rc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),x.resolve()):(nc()<=Ve.DEBUG&&B("QueryEngine","Query:",rc(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(nc()<=Ve.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",rc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,br(t))):x.resolve())}gs(e,t){if(BO(t))return x.resolve(null);let r=br(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Zm(t,null,"F"),r=br(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Ae(...o);return this.fs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{let u=this.bs(t,a);return this.Ss(t,u,s,l.readTime)?this.gs(e,Zm(t,null,"F")):this.Ds(e,u,t,l)}))})))}ps(e,t,r,i){return BO(t)||i.isEqual(se.min())?x.resolve(null):this.fs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ss(t,s,r,i)?x.resolve(null):(nc()<=Ve.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),rc(t)),this.Ds(e,s,t,Wz(i,Zd)).next(a=>a))})}bs(e,t){let r=new st(cF(e));return t.forEach((i,o)=>{_f(e,o)&&(r=r.add(o))}),r}Ss(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ys(e,t,r){return nc()<=Ve.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",rc(t)),this.fs.getDocumentsMatchingQuery(e,t,Er.min(),r)}Ds(e,t,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var vD="LocalStore",lq=3e8,NI=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.vs=new Dt(me),this.Fs=new Yr(o=>Ta(o),vf),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gy(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.vs))}};function HF(n,e,t,r){return new NI(n,e,t,r)}async function zF(n,e){let t=ye(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Os(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],l=Ae();for(let u of i){s.push(u.batchId);for(let d of u.mutations)l=l.add(d.key)}for(let u of o){a.push(u.batchId);for(let d of u.mutations)l=l.add(d.key)}return t.localDocuments.getDocuments(r,l).next(u=>({Ns:u,removedBatchIds:s,addedBatchIds:a}))})})}function cq(n,e){let t=ye(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.xs.newChangeBuffer({trackRemovals:!0});return(function(a,l,u,d){let f=u.batch,g=f.keys(),m=x.resolve();return g.forEach(v=>{m=m.next(()=>d.getEntry(l,v)).next(w=>{let M=u.docVersions.get(v);X(M!==null,48541),w.version.compareTo(M)<0&&(f.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),d.addEntry(w)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,f))})(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let l=Ae();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l})(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function qF(n){let e=ye(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.li.getLastRemoteSnapshotVersion(t))}function uq(n,e){let t=ye(n),r=e.snapshotVersion,i=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.xs.newChangeBuffer({trackRemovals:!0});i=t.vs;let a=[];e.targetChanges.forEach((d,f)=>{let g=i.get(f);if(!g)return;a.push(t.li.removeMatchingKeys(o,d.removedDocuments,f).next(()=>t.li.addMatchingKeys(o,d.addedDocuments,f)));let m=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(zt.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(f,m),(function(w,M,O){return w.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=lq?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(g,m,d)&&a.push(t.li.updateTargetData(o,m))});let l=rr(),u=Ae();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(dq(o,s,e.documentUpdates).next(d=>{l=d.Bs,u=d.Ls})),!r.isEqual(se.min())){let d=t.li.getLastRemoteSnapshotVersion(o).next(f=>t.li.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return x.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(t.vs=i,o))}function dq(n,e,t){let r=Ae(),i=Ae();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=rr();return t.forEach((a,l)=>{let u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(se.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):B(vD,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Bs:s,Ls:i}})}function fq(n,e){let t=ye(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=_a),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function hq(n,e){let t=ye(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.li.getTargetData(r,e).next(o=>o?(i=o,x.resolve(i)):t.li.allocateTargetId(r).next(s=>(i=new Cc(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r})}async function xI(n,e,t){let r=ye(n),i=r.vs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!us(s))throw s;B(vD,`Failed to update sequence numbers for target ${e}: ${s}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function pk(n,e,t){let r=ye(n),i=se.min(),o=Ae();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(l,u,d){let f=ye(l),g=f.Fs.get(d);return g!==void 0?x.resolve(f.vs.get(g)):f.li.getTargetData(u,d)})(r,s,br(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:se.min(),t?o:Ae())).next(a=>(pq(r,A8(e),a),{documents:a,ks:o})))}function pq(n,e,t){let r=n.Ms.get(e)||se.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ms.set(e,r)}var _y=class{constructor(){this.activeTargetIds=O8()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var by=class{constructor(){this.vo=new _y,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new _y,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var RI=class{Mo(e){}shutdown(){}};var gk="ConnectivityMonitor",Ey=class{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){B(gk,"Network connectivity changed: AVAILABLE");for(let e of this.Lo)e(0)}Bo(){B(gk,"Network connectivity changed: UNAVAILABLE");for(let e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Im=null;function PI(){return Im===null?Im=(function(){return 268435456+Math.round(2147483648*Math.random())})():Im++,"0x"+Im.toString(16)}var vC="RestConnection",gq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"},OI=class{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===Gm?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=PI(),a=this.Qo(e,t.toUriEncodedString());B(vC,`Sending RPC '${e}' ${s}:`,a,r);let l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(l,i,o);let{host:u}=new URL(a),d=hm(u);return this.zo(e,a,l,r,d).then(f=>(B(vC,`Received RPC '${e}' ${s}: `,f),f),f=>{throw vi(vC,`RPC '${e}' ${s} failed with error: `,f,"url: ",a,"request:",r),f})}jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ac})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Qo(e,t){let r=gq[e],i=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}};var kI=class{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}};var Sn="WebChannelConnection",$d=(n,e,t)=>{n.listen(e,r=>{try{t(r)}catch(i){setTimeout(()=>{throw i},0)}})},wy=class n extends OI{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!n.c_){let e=dC();$d(e,uC.STAT_EVENT,t=>{t.stat===_m.PROXY?B(Sn,"STAT_EVENT: detected buffering proxy"):t.stat===_m.NOPROXY&&B(Sn,"STAT_EVENT: detected no buffering proxy")}),n.c_=!0}}zo(e,t,r,i,o){let s=PI();return new Promise((a,l)=>{let u=new lC;u.setWithCredentials(!0),u.listenOnce(cC.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ld.NO_ERROR:let f=u.getResponseJson();B(Sn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case Ld.TIMEOUT:B(Sn,`RPC '${e}' ${s} timed out`),l(new H(P.DEADLINE_EXCEEDED,"Request time out"));break;case Ld.HTTP_ERROR:let g=u.getStatus();if(B(Sn,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let v=m?.error;if(v&&v.status&&v.message){let w=(function(O){let j=O.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(j)>=0?j:P.UNKNOWN})(v.status);l(new H(w,v.message))}else l(new H(P.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new H(P.UNAVAILABLE,"Connection failed."));break;default:Y(9055,{l_:e,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{B(Sn,`RPC '${e}' ${s} completed.`)}});let d=JSON.stringify(i);B(Sn,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",d,r,15)})}T_(e,t,r){let i=PI(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=this.createWebChannelTransport(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Go(a.initMessageHeaders,t,r),a.encodeInitMessageHeaders=!0;let u=o.join("");B(Sn,`Creating RPC '${e}' stream ${i}: ${u}`,a);let d=s.createWebChannel(u,a);this.I_(d);let f=!1,g=!1,m=new kI({Ho:v=>{g?B(Sn,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(f||(B(Sn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),B(Sn,`RPC '${e}' stream ${i} sending:`,v),d.send(v))},Jo:()=>d.close()});return $d(d,Ql.EventType.OPEN,()=>{g||(B(Sn,`RPC '${e}' stream ${i} transport opened.`),m.i_())}),$d(d,Ql.EventType.CLOSE,()=>{g||(g=!0,B(Sn,`RPC '${e}' stream ${i} transport closed`),m.o_(),this.E_(d))}),$d(d,Ql.EventType.ERROR,v=>{g||(g=!0,vi(Sn,`RPC '${e}' stream ${i} transport errored. Name:`,v.name,"Message:",v.message),m.o_(new H(P.UNAVAILABLE,"The operation could not be completed")))}),$d(d,Ql.EventType.MESSAGE,v=>{if(!g){let w=v.data[0];X(!!w,16349);let M=w,O=M?.error||M[0]?.error;if(O){B(Sn,`RPC '${e}' stream ${i} received error:`,O);let j=O.status,z=(function(ae){let C=jt[ae];if(C!==void 0)return bF(C)})(j),ne=O.message;j==="NOT_FOUND"&&ne.includes("database")&&ne.includes("does not exist")&&ne.includes(this.databaseId.database)&&vi(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),z===void 0&&(z=P.INTERNAL,ne="Unknown error status: "+j+" with message "+O.message),g=!0,m.o_(new H(z,ne)),d.close()}else B(Sn,`RPC '${e}' stream ${i} received:`,w),m.__(w)}}),n.u_(),setTimeout(()=>{m.s_()},0),m}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(t=>t===e)}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return fC()}};function mq(n){return new wy(n)}function yq(){return typeof window<"u"?window:null}function Rm(){return typeof document<"u"?document:null}function bf(n){return new YC(n,!0)}wy.c_=!1;var Cy=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=i,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();let t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}};var mk="PersistentStream",Iy=class{constructor(e,t,r,i,o,s,a,l){this.Ci=e,this.b_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Cy(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===P.RESOURCE_EXHAUSTED?(kn(t.toString()),kn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;let e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===t&&this.G_(r,i)},r=>{e(()=>{let i=new H(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,t){let r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.H_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return B(mk,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget(()=>this.D_===e?t():(B(mk,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},FI=class extends Iy{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();let t=Q8(this.serializer,e),r=(function(o){if(!("targetChange"in o))return se.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?se.min():s.readTime?Fn(s.readTime):se.min()})(e);return this.listener.J_(t,r)}Z_(e){let t={};t.database=XC(this.serializer),t.addTarget=(function(o,s){let a,l=s.target;if(a=Qm(l)?{documents:SF(o,l)}:{query:AF(o,l).ft},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=EF(o,s.resumeToken);let u=ZC(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(se.min())>0){a.readTime=wc(o,s.snapshotVersion.toTimestamp());let u=ZC(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a})(this.serializer,e);let r=Z8(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){let t={};t.database=XC(this.serializer),t.removeTarget=e,this.K_(t)}},LI=class extends Iy{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return X(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,X(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){X(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();let t=Y8(e.writeResults,e.commitTime),r=Fn(e.commitTime);return this.listener.na(r,t)}ra(){let e={};e.database=XC(this.serializer),this.K_(e)}ea(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>oy(this.serializer,r))};this.K_(t)}};var VI=class{},BI=class extends VI{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new H(P.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,JC(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(P.UNKNOWN,o.toString())})}jo(e,t,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.jo(e,JC(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(P.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}};function vq(n,e,t,r){return new BI(n,e,t,r)}var jI=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(kn(t),this.aa=!1):B("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}};var xa="RemoteStore",UI=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo(s=>{r.enqueueAndForget(async()=>{ka(this)&&(B(xa,"Restarting streams for network reachability change."),await(async function(l){let u=ye(l);u.Ea.add(4),await Ef(u),u.Va.set("Unknown"),u.Ea.delete(4),await qy(u)})(this))})}),this.Va=new jI(r,i)}};async function qy(n){if(ka(n))for(let e of n.Ra)await e(!0)}async function Ef(n){for(let e of n.Ra)await e(!1)}function GF(n,e){let t=ye(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),wD(t)?ED(t):Rc(t).O_()&&bD(t,e))}function _D(n,e){let t=ye(n),r=Rc(t);t.Ia.delete(e),r.O_()&&WF(t,e),t.Ia.size===0&&(r.O_()?r.L_():ka(t)&&t.Va.set("Unknown"))}function bD(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Rc(n).Z_(e)}function WF(n,e){n.da.$e(e),Rc(n).X_(e)}function ED(n){n.da=new QC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Rc(n).start(),n.Va.ua()}function wD(n){return ka(n)&&!Rc(n).x_()&&n.Ia.size>0}function ka(n){return ye(n).Ea.size===0}function KF(n){n.da=void 0}async function _q(n){n.Va.set("Online")}async function bq(n){n.Ia.forEach((e,t)=>{bD(n,e)})}async function Eq(n,e){KF(n),wD(n)?(n.Va.ha(e),ED(n)):n.Va.set("Unknown")}async function wq(n,e,t){if(n.Va.set("Online"),e instanceof ny&&e.state===2&&e.cause)try{await(async function(i,o){let s=o.cause;for(let a of o.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ia.delete(a),i.da.removeTarget(a))})(n,e)}catch(r){B(xa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Dy(n,r)}else if(e instanceof cc?n.da.Xe(e):e instanceof ty?n.da.st(e):n.da.tt(e),!t.isEqual(se.min()))try{let r=await qF(n.localStore);t.compareTo(r)>=0&&await(function(o,s){let a=o.da.Tt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){let d=o.Ia.get(u);d&&o.Ia.set(u,d.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{let d=o.Ia.get(l);if(!d)return;o.Ia.set(l,d.withResumeToken(zt.EMPTY_BYTE_STRING,d.snapshotVersion)),WF(o,l);let f=new Cc(d.target,l,u,d.sequenceNumber);bD(o,f)}),o.remoteSyncer.applyRemoteEvent(a)})(n,t)}catch(r){B(xa,"Failed to raise snapshot:",r),await Dy(n,r)}}async function Dy(n,e,t){if(!us(e))throw e;n.Ea.add(1),await Ef(n),n.Va.set("Offline"),t||(t=()=>qF(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{B(xa,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await qy(n)})}function QF(n,e){return e().catch(t=>Dy(n,t,e))}async function wf(n){let e=ye(n),t=ls(e),r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:_a;for(;Cq(e);)try{let i=await fq(e.localStore,r);if(i===null){e.Ta.length===0&&t.L_();break}r=i.batchId,Iq(e,i)}catch(i){await Dy(e,i)}YF(e)&&ZF(e)}function Cq(n){return ka(n)&&n.Ta.length<10}function Iq(n,e){n.Ta.push(e);let t=ls(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function YF(n){return ka(n)&&!ls(n).x_()&&n.Ta.length>0}function ZF(n){ls(n).start()}async function Dq(n){ls(n).ra()}async function Tq(n){let e=ls(n);for(let t of n.Ta)e.ea(t.mutations)}async function Sq(n,e,t){let r=n.Ta.shift(),i=GC.from(r,e,t);await QF(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await wf(n)}async function Aq(n,e){e&&ls(n).Y_&&await(async function(r,i){if((function(s){return U8(s)&&s!==P.ABORTED})(i.code)){let o=r.Ta.shift();ls(r).B_(),await QF(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await wf(r)}})(n,e),YF(n)&&ZF(n)}async function yk(n,e){let t=ye(n);t.asyncQueue.verifyOperationInProgress(),B(xa,"RemoteStore received new credentials");let r=ka(t);t.Ea.add(3),await Ef(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await qy(t)}async function Mq(n,e){let t=ye(n);e?(t.Ea.delete(2),await qy(t)):e||(t.Ea.add(2),await Ef(t),t.Va.set("Unknown"))}function Rc(n){return n.ma||(n.ma=(function(t,r,i){let o=ye(t);return o.sa(),new FI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:_q.bind(null,n),Yo:bq.bind(null,n),t_:Eq.bind(null,n),J_:wq.bind(null,n)}),n.Ra.push(async e=>{e?(n.ma.B_(),wD(n)?ED(n):n.Va.set("Unknown")):(await n.ma.stop(),KF(n))})),n.ma}function ls(n){return n.fa||(n.fa=(function(t,r,i){let o=ye(t);return o.sa(),new LI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Dq.bind(null,n),t_:Aq.bind(null,n),ta:Tq.bind(null,n),na:Sq.bind(null,n)}),n.Ra.push(async e=>{e?(n.fa.B_(),await wf(n)):(await n.fa.stop(),n.Ta.length>0&&(B(xa,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}var $I=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function CD(n,e){if(kn("AsyncQueue",`${e}: ${n}`),us(n))return new H(P.UNAVAILABLE,`${e}: ${n}`);throw n}var hf=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||K.comparator(t.key,r.key):(t,r)=>K.comparator(t.key,r.key),this.keyedMap=Hd(),this.sortedSet=new Dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Ty=class{constructor(){this.ga=new Dt(K.comparator)}track(e){let t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Y(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){let e=[];return this.ga.inorderTraversal((t,r)=>{e.push(r)}),e}},Ra=class n{constructor(e,t,r,i,o,s,a,l,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,hf.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var HI=class{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}},zI=class{constructor(){this.queries=vk(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){let i=ye(t),o=i.queries;i.queries=vk(),o.forEach((s,a)=>{for(let l of a.ba)l.onError(r)})})(this,new H(P.ABORTED,"Firestore shutting down"))}};function vk(){return new Yr(n=>lF(n),zy)}async function JF(n,e){let t=ye(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.Da()&&(r=2):(o=new HI,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(i,!0);break;case 1:o.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(s){let a=CD(s,`Initialization of query '${rc(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.ba.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&ID(t)}async function XF(n,e){let t=ye(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.ba.indexOf(e);s>=0&&(o.ba.splice(s,1),o.ba.length===0?i=e.Da()?0:1:!o.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function Nq(n,e){let t=ye(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.ba)a.Fa(i)&&(r=!0);s.wa=i}}r&&ID(t)}function xq(n,e,t){let r=ye(n),i=r.queries.get(e);if(i)for(let o of i.ba)o.onError(t);r.queries.delete(e)}function ID(n){n.Ca.forEach(e=>{e.next()})}var qI,_k;(_k=qI||(qI={})).Ma="default",_k.Cache="cache";var Sy=class{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ra(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;let r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;let t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Ra.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==qI.Cache}};var Ay=class{constructor(e){this.key=e}},My=class{constructor(e){this.key=e}},GI=class{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ae(),this.mutatedKeys=Ae(),this.eu=cF(e),this.tu=new hf(this.eu)}get nu(){return this.Za}ru(e,t){let r=t?t.iu:new Ty,i=t?t.tu:this.tu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{let g=i.get(d),m=_f(this.query,f)?f:null,v=!!g&&this.mutatedKeys.has(g.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),M=!1;g&&m?g.data.isEqual(m.data)?v!==w&&(r.track({type:3,doc:m}),M=!0):this.su(g,m)||(r.track({type:2,doc:m}),M=!0,(l&&this.eu(m,l)>0||u&&this.eu(m,u)<0)&&(a=!0)):!g&&m?(r.track({type:0,doc:m}),M=!0):g&&!m&&(r.track({type:1,doc:g}),M=!0,(l||u)&&(a=!0)),M&&(m?(s=s.add(m),o=w?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{tu:s,iu:r,Ss:a,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;let s=e.iu.ya();s.sort((d,f)=>(function(m,v){let w=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y(20277,{Vt:M})}};return w(m)-w(v)})(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(r),i=i??!1;let a=t&&!i?this._u():[],l=this.Ya.size===0&&this.current&&!i?1:0,u=l!==this.Xa;return this.Xa=l,s.length!==0||u?{snapshot:new Ra(this.query,e.tu,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ty,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Za=this.Za.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Za=this.Za.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];let e=this.Ya;this.Ya=Ae(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});let t=[];return e.forEach(r=>{this.Ya.has(r)||t.push(new My(r))}),this.Ya.forEach(r=>{e.has(r)||t.push(new Ay(r))}),t}cu(e){this.Za=e.ks,this.Ya=Ae();let t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ra.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}},DD="SyncEngine",WI=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},KI=class{constructor(e){this.key=e,this.hu=!1}},QI=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Yr(a=>lF(a),zy),this.Iu=new Map,this.Eu=new Set,this.Ru=new Dt(K.comparator),this.Au=new Map,this.Vu=new df,this.du={},this.mu=new Map,this.fu=Ic.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}};async function Rq(n,e,t=!0){let r=oL(n),i,o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await eL(r,e,t,!0),i}async function Pq(n,e){let t=oL(n);await eL(t,e,!0,!1)}async function eL(n,e,t,r){let i=await hq(n.localStore,br(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=await Oq(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&GF(n.remoteStore,i),a}async function Oq(n,e,t,r,i){n.pu=(f,g,m)=>(async function(w,M,O,j){let z=M.view.ru(O);z.Ss&&(z=await pk(w.localStore,M.query,!1).then(({documents:C})=>M.view.ru(C,z)));let ne=j&&j.targetChanges.get(M.targetId),Ce=j&&j.targetMismatches.get(M.targetId)!=null,ae=M.view.applyChanges(z,w.isPrimaryClient,ne,Ce);return Ek(w,M.targetId,ae.au),ae.snapshot})(n,f,g,m);let o=await pk(n.localStore,e,!0),s=new GI(e,o.ks),a=s.ru(o.documents),l=cf.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),u=s.applyChanges(a,n.isPrimaryClient,l);Ek(n,t,u.au);let d=new WI(e,t,s);return n.Tu.set(e,d),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),u.snapshot}async function kq(n,e,t){let r=ye(n),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!zy(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await xI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&_D(r.remoteStore,i.targetId),YI(r,i.targetId)}).catch(Pa)):(YI(r,i.targetId),await xI(r.localStore,i.targetId,!0))}async function Fq(n,e){let t=ye(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),_D(t.remoteStore,r.targetId))}async function Lq(n,e,t){let r=sL(n);try{let i=await(function(s,a){let l=ye(s),u=ht.now(),d=a.reduce((m,v)=>m.add(v.key),Ae()),f,g;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=rr(),w=Ae();return l.xs.getEntries(m,d).next(M=>{v=M,v.forEach((O,j)=>{j.isValidDocument()||(w=w.add(O))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,v)).next(M=>{f=M;let O=[];for(let j of a){let z=j8(j,f.get(j.key).overlayedDocument);z!=null&&O.push(new bi(j.key,z,tF(z.value.mapValue),Wn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,O,a)}).next(M=>{g=M;let O=M.applyToLocalDocumentSet(f,w);return l.documentOverlayCache.saveOverlays(m,M.batchId,O)})}).then(()=>({batchId:g.batchId,changes:dF(f)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,l){let u=s.du[s.currentUser.toKey()];u||(u=new Dt(me)),u=u.insert(a,l),s.du[s.currentUser.toKey()]=u})(r,i.batchId,t),await Cf(r,i.changes),await wf(r.remoteStore)}catch(i){let o=CD(i,"Failed to persist write");t.reject(o)}}async function tL(n,e){let t=ye(n);try{let r=await uq(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Au.get(o);s&&(X(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?X(s.hu,14607):i.removedDocuments.size>0&&(X(s.hu,42227),s.hu=!1))}),await Cf(t,r,e)}catch(r){await Pa(r)}}function bk(n,e,t){let r=ye(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Tu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let l=ye(s);l.onlineState=a;let u=!1;l.queries.forEach((d,f)=>{for(let g of f.ba)g.va(a)&&(u=!0)}),u&&ID(l)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Vq(n,e,t){let r=ye(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Au.get(e),o=i&&i.key;if(o){let s=new Dt(K.comparator);s=s.insert(o,mn.newNoDocument(o,se.min()));let a=Ae().add(o),l=new ey(se.min(),new Map,new Dt(me),s,a);await tL(r,l),r.Ru=r.Ru.remove(o),r.Au.delete(e),TD(r)}else await xI(r.localStore,e,!1).then(()=>YI(r,e,t)).catch(Pa)}async function Bq(n,e){let t=ye(n),r=e.batch.batchId;try{let i=await cq(t.localStore,e);rL(t,r,null),nL(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Cf(t,i)}catch(i){await Pa(i)}}async function jq(n,e,t){let r=ye(n);try{let i=await(function(s,a){let l=ye(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(X(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})})(r.localStore,e);rL(r,e,t),nL(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Cf(r,i)}catch(i){await Pa(i)}}function nL(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function rL(n,e,t){let r=ye(n),i=r.du[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function YI(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach(r=>{n.Vu.containsKey(r)||iL(n,r)})}function iL(n,e){n.Eu.delete(e.path.canonicalString());let t=n.Ru.get(e);t!==null&&(_D(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),TD(n))}function Ek(n,e,t){for(let r of t)r instanceof Ay?(n.Vu.addReference(r.key,e),Uq(n,r)):r instanceof My?(B(DD,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||iL(n,r.key)):Y(19791,{wu:r})}function Uq(n,e){let t=e.key,r=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(r)||(B(DD,"New document in limbo: "+t),n.Eu.add(r),TD(n))}function TD(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){let e=n.Eu.values().next().value;n.Eu.delete(e);let t=new K(Je.fromString(e)),r=n.fu.next();n.Au.set(r,new KI(t)),n.Ru=n.Ru.insert(t,r),GF(n.remoteStore,new Cc(br(xc(t.path)),r,"TargetPurposeLimboResolution",Wr.ce))}}async function Cf(n,e,t){let r=ye(n),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{s.push(r.pu(l,e,t).then(u=>{if((u||t)&&r.isPrimaryClient){let d=u?!u.fromCache:t?.targetChanges.get(l.targetId)?.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);let d=AI.Es(l.targetId,u);o.push(d)}}))}),await Promise.all(s),r.Pu.J_(i),await(async function(l,u){let d=ye(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>x.forEach(u,g=>x.forEach(g.Ts,m=>d.persistence.referenceDelegate.addReference(f,g.targetId,m)).next(()=>x.forEach(g.Is,m=>d.persistence.referenceDelegate.removeReference(f,g.targetId,m)))))}catch(f){if(!us(f))throw f;B(vD,"Failed to update sequence numbers: "+f)}for(let f of u){let g=f.targetId;if(!f.fromCache){let m=d.vs.get(g),v=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(v);d.vs=d.vs.insert(g,w)}}})(r.localStore,o))}async function $q(n,e){let t=ye(n);if(!t.currentUser.isEqual(e)){B(DD,"User change. New user:",e.toKey());let r=await zF(t.localStore,e);t.currentUser=e,(function(o,s){o.mu.forEach(a=>{a.forEach(l=>{l.reject(new H(P.CANCELLED,s))})}),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Cf(t,r.Ns)}}function Hq(n,e){let t=ye(n),r=t.Au.get(e);if(r&&r.hu)return Ae().add(r.key);{let i=Ae(),o=t.Iu.get(e);if(!o)return i;for(let s of o){let a=t.Tu.get(s);i=i.unionWith(a.view.nu)}return i}}function oL(n){let e=ye(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=tL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Vq.bind(null,e),e.Pu.J_=Nq.bind(null,e.eventManager),e.Pu.yu=xq.bind(null,e.eventManager),e}function sL(n){let e=ye(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Bq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jq.bind(null,e),e}var Gy=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=bf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,r){return null}Mu(t,r){return null}vu(t){return HF(this.persistence,new vy,t.initialUser,this.serializer)}Cu(t){return new ff(my.Vi,this.serializer)}Du(t){return new by}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return n.provider={build:()=>new n},n})(),Ny=class extends Gy{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){X(this.persistence.referenceDelegate instanceof yy,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new hy(r,e.asyncQueue,t)}Cu(e){let t=this.cacheSizeBytes!==void 0?qn.withCacheSize(this.cacheSizeBytes):qn.DEFAULT;return new ff(r=>yy.Vi(r,t),this.serializer)}},xy=class extends Gy{constructor(e,t,r){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await sL(this.xu.syncEngine),await wf(this.xu.remoteStore),await this.persistence.zi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}vu(e){return HF(this.persistence,new vy,e.initialUser,this.serializer)}Fu(e,t){let r=this.persistence.referenceDelegate.garbageCollector;return new hy(r,e.asyncQueue,t)}Mu(e,t){let r=new AC(t,this.persistence);return new SC(e.asyncQueue,r)}Cu(e){let t=aq(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?qn.withCacheSize(this.cacheSizeBytes):qn.DEFAULT;return new SI(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,yq(),Rm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new by}};var SD=(()=>{class n{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>bk(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=$q.bind(null,this.syncEngine),await Mq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new zI})()}createDatastore(t){let r=bf(t.databaseInfo.databaseId),i=mq(t.databaseInfo);return vq(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,a,l){return new UI(i,o,s,a,l)})(this.localStore,this.datastore,t.asyncQueue,r=>bk(this.syncEngine,r,0),(function(){return Ey.v()?new Ey:new RI})())}createSyncEngine(t,r){return(function(o,s,a,l,u,d,f){let g=new QI(o,s,a,l,u,d);return f&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){let i=ye(r);B(xa,"RemoteStore shutting down."),i.Ea.add(5),await Ef(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}return n.provider={build:()=>new n},n})();var Ry=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):kn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var cs="FirestoreClient",ZI=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=i,this.user=Qt.UNAUTHENTICATED,this.clientId=Ca.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{B(cs,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(B(cs,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=CD(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function _C(n,e){n.asyncQueue.verifyOperationInProgress(),B(cs,"Initializing OfflineComponentProvider");let t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await zF(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function wk(n,e){n.asyncQueue.verifyOperationInProgress();let t=await zq(n);B(cs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>yk(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>yk(e.remoteStore,i)),n._onlineComponents=e}async function zq(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){B(cs,"Using user provided OfflineComponentProvider");try{await _C(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===P.FAILED_PRECONDITION||i.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;vi("Error using user provided cache. Falling back to memory cache: "+t),await _C(n,new Gy)}}else B(cs,"Using default OfflineComponentProvider"),await _C(n,new Ny(void 0));return n._offlineComponents}async function aL(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(B(cs,"Using user provided OnlineComponentProvider"),await wk(n,n._uninitializedComponentsProvider._online)):(B(cs,"Using default OnlineComponentProvider"),await wk(n,new SD))),n._onlineComponents}function qq(n){return aL(n).then(e=>e.syncEngine)}async function JI(n){let e=await aL(n),t=e.eventManager;return t.onListen=Rq.bind(null,e.syncEngine),t.onUnlisten=kq.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Pq.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Fq.bind(null,e.syncEngine),t}function lL(n,e,t,r){let i=new Ry(r),o=new Sy(e,i,t);return n.asyncQueue.enqueueAndForget(async()=>JF(await JI(n),o)),()=>{i.Nu(),n.asyncQueue.enqueueAndForget(async()=>XF(await JI(n),o))}}function cL(n,e,t={}){let r=new Qr;return n.asyncQueue.enqueueAndForget(async()=>(function(o,s,a,l,u){let d=new Ry({next:g=>{d.Nu(),s.enqueueAndForget(()=>XF(o,f));let m=g.docs.has(a);!m&&g.fromCache?u.reject(new H(P.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&g.fromCache&&l&&l.source==="server"?u.reject(new H(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),f=new Sy(xc(a.path),d,{includeMetadataChanges:!0,Ka:!0});return JF(o,f)})(await JI(n),n.asyncQueue,e,t,r)),r.promise}function uL(n,e){let t=new Qr;return n.asyncQueue.enqueueAndForget(async()=>Lq(await qq(n),e,t)),t.promise}function dL(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var Gq="ComponentProvider",Ck=new Map;function Wq(n,e,t,r,i){return new RC(n,e,t,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,dL(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}var fL="firestore.googleapis.com",Ik=!0,Py=class{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new H(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fL,this.ssl=Ik}else this.host=e.host,this.ssl=e.ssl??Ik;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=LF;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oq)throw new H(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dL(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new H(P.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new H(P.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new H(P.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Dc=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Py({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Py(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Om;switch(r.type){case"firstParty":return new wC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=Ck.get(t);r&&(B(Gq,"Removing Datastore"),Ck.delete(t),r.terminate())})(this),Promise.resolve()}};function hL(n,e,t,r={}){n=ir(n,Dc);let i=hm(e),o=n._getSettings(),s=re(N({},o),{emulatorOptions:n._getEmulatorOptions()}),a=`${e}:${t}`;i&&(KP(`https://${a}`),YP("Firestore",!0)),o.host!==fL&&o.host!==a&&vi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=re(N({},o),{host:a,ssl:i,emulatorOptions:r});if(!sa(l,s)&&(n._setSettings(l),r.mockUserToken)){let u,d;if(typeof r.mockUserToken=="string")u=r.mockUserToken,d=Qt.MOCK_USER;else{u=QP(r.mockUserToken,n._app?.options.projectId);let f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new H(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Qt(f)}n._authCredentials=new bC(new Pm(u,d))}}var uo=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Ht=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Mc(t,n._jsonSchema))return new n(e,r||null,new K(Je.fromString(t.referencePath)))}};Ht._jsonSchemaVersion="firestore/documentReference/1.0",Ht._jsonSchema={type:Ot("string",Ht._jsonSchemaVersion),referencePath:Ot("string")};var oo=class n extends uo{constructor(e,t,r){super(e,t,xc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new K(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function Wy(n,e,...t){if(n=Xi(n),Nk("collection","path",e),n instanceof Dc){let r=Je.fromString(e,...t);return EO(r),new oo(n,null,r)}{if(!(n instanceof Ht||n instanceof oo))throw new H(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Je.fromString(e,...t));return EO(r),new oo(n.firestore,null,r)}}function ds(n,e,...t){if(n=Xi(n),arguments.length===1&&(e=Ca.newId()),Nk("doc","path",e),n instanceof Dc){let r=Je.fromString(e,...t);return bO(r),new Ht(n,null,new K(r))}{if(!(n instanceof Ht||n instanceof oo))throw new H(P.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Je.fromString(e,...t));return bO(r),new Ht(n.firestore,n instanceof oo?n.converter:null,new K(r))}}var Dk="AsyncQueue",Oy=class{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Cy(this,"async_queue_retry"),this._c=()=>{let r=Rm();r&&B(Dk,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;let t=Rm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let t=Rm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});let t=new Qr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!us(e))throw e;B(Dk,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){let t=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,kn("INTERNAL UNHANDLED ERROR: ",Tk(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);let i=$I.createAndSchedule(this,e,t,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&Y(47125,{Pc:Tk(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(let t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){let t=this.tc.indexOf(e);this.tc.splice(t,1)}};function Tk(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}var wr=class extends Dc{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Oy,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Oy(e),this._firestoreClient=void 0,await e}}};function AD(n,e){let t=typeof n=="object"?n:pO(),r=typeof n=="string"?n:e||Gm,i=dO(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=WP("firestore");o&&hL(i,...o)}return i}function If(n){if(n._terminated)throw new H(P.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||pL(n),n._firestoreClient}function pL(n){let e=n._freezeSettings(),t=Wq(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new ZI(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(i){let o=i?._online.build();return{_offline:i?._offline.build(o),_online:o}})(n._componentsProvider))}function MD(n,e){vi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let t=n._freezeSettings();return Kq(n,SD.provider,{build:r=>new xy(r,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function Kq(n,e,t){if((n=ir(n,wr))._firestoreClient||n._terminated)throw new H(P.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new H(P.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},pL(n)}var mi=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(zt.fromBase64String(e))}catch(t){throw new H(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Mc(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};mi._jsonSchemaVersion="firestore/bytes/1.0",mi._jsonSchema={type:Ot("string",mi._jsonSchemaVersion),bytes:Ot("string")};var Tc=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new H(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Sc=class{constructor(e){this._methodName=e}};var so=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new H(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new H(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Mc(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};so._jsonSchemaVersion="firestore/geoPoint/1.0",so._jsonSchema={type:Ot("string",so._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};var yi=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Mc(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new H(P.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};yi._jsonSchemaVersion="firestore/vectorValue/1.0",yi._jsonSchema={type:Ot("string",yi._jsonSchemaVersion),vectorValues:Ot("object")};var Qq=/^__.*__$/,XI=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new bi(e,this.data,this.fieldMask,t,this.fieldTransforms):new as(e,this.data,t,this.fieldTransforms)}};function gL(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y(40011,{dataSource:n})}}var eD=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new n(N(N({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){let t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){let t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return ky(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(gL(this.dataSource)&&Qq.test(e))throw this.createError('Document fields cannot begin and end with "__"')}},tD=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||bf(e)}createContext(e,t,r,i=!1){return new eD({dataSource:e,methodName:t,targetDoc:r,path:$t.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Ky(n){let e=n._freezeSettings(),t=bf(n._databaseId);return new tD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ND(n,e,t,r,i,o={}){let s=n.createContext(o.merge||o.mergeFields?2:0,e,t,i);_L("Data must be an object, but it was:",s,r);let a=yL(r,s),l,u;if(o.merge)l=new Kr(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let d=[];for(let f of o.mergeFields){let g=Df(e,f,t);if(!s.contains(g))throw new H(P.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);Zq(d,g)||d.push(g)}l=new Kr(d),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new XI(new Gn(a),l,u)}var nD=class n extends Sc{_toFieldTransform(e){return new Jm(e.path,new is)}isEqual(e){return e instanceof n}};function mL(n,e,t,r=!1){return xD(t,n.createContext(r?4:3,e))}function xD(n,e){if(vL(n=Xi(n)))return _L("Unsupported field value:",e,n),yL(n,e);if(n instanceof Sc)return(function(r,i){if(!gL(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let l=xD(a,i.childContextForArray(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=Xi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return k8(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ht.fromDate(r);return{timestampValue:wc(i.serializer,o)}}if(r instanceof ht){let o=new ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wc(i.serializer,o)}}if(r instanceof so)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof mi)return{bytesValue:EF(i.serializer,r._byteString)};if(r instanceof Ht){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.createError(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:gD(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof yi)return(function(s,a){let l=s instanceof yi?s.toArray():s;return{mapValue:{fields:{[uD]:{stringValue:dD},[yc]:{arrayValue:{values:l.map(d=>{if(typeof d!="number")throw a.createError("VectorValues must only contain numeric values.");return pD(a.serializer,d)})}}}}}})(r,i);if(PF(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${mf(r)}`)})(n,e)}function yL(n,e){let t={};return Gk(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oa(n,(r,i)=>{let o=xD(i,e.childContextForField(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function vL(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ht||n instanceof so||n instanceof mi||n instanceof Ht||n instanceof Sc||n instanceof yi||PF(n))}function _L(n,e,t){if(!vL(t)||!Rk(t)){let r=mf(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function Df(n,e,t){if((e=Xi(e))instanceof Tc)return e._internalPath;if(typeof e=="string")return bL(n,e);throw ky("Field path arguments must be of type string or ",n,!1,void 0,t)}var Yq=new RegExp("[~\\*/\\[\\]]");function bL(n,e,t){if(e.search(Yq)>=0)throw ky(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Tc(...e.split("."))._internalPath}catch{throw ky(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ky(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new H(P.INVALID_ARGUMENT,a+n+l)}function Zq(n,e){return n.some(t=>t.isEqual(e))}var pf=class{convertValue(e,t="none"){switch(es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(lo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Y(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Oa(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){let t=e.fields?.[yc].arrayValue?.values?.map(r=>yt(r.doubleValue));return new yi(t)}convertGeoPoint(e){return new so(yt(e.latitude),yt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Uy(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(rf(e));default:return null}}convertTimestamp(e){let t=ao(e);return new ht(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Je.fromString(e);X(RF(r),9688,{name:e});let i=new Da(r.get(1),r.get(3)),o=new K(r.popFirst(5));return i.isEqual(t)||kn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};var gf=class extends pf{constructor(e){super(),this.firestore=e}convertBytes(e){return new mi(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,t)}};function Tf(){return new nD("serverTimestamp")}var EL="@firebase/firestore",wL="4.11.0";function CL(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(n,["next","error","complete"])}var Qy=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new RD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){let t=this._document.data.field(Df("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},RD=class extends Qy{data(){return super.data()}};function t7(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new H(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Sf=class{},Yy=class extends Sf{};function TL(n,e,...t){let r=[];e instanceof Sf&&r.push(e),r=r.concat(t),(function(o){let s=o.filter(l=>l instanceof OD).length,a=o.filter(l=>l instanceof PD).length;if(s>1||s>0&&a>0)throw new H(P.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)n=i._apply(n);return n}var PD=class n extends Yy{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return AL(e._query,t),new uo(e.firestore,e.converter,Hy(e._query,t))}_parse(e){let t=Ky(e.firestore);return(function(o,s,a,l,u,d,f){let g;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new H(P.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){DL(f,d);let v=[];for(let w of f)v.push(IL(l,o,w));g={arrayValue:{values:v}}}else g=IL(l,o,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||DL(f,d),g=mL(a,s,f,d==="in"||d==="not-in");return Re.create(u,d,g)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};var OD=class n extends Sf{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Xe.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:((function(i,o){let s=i,a=o.getFlattenedFilters();for(let l of a)AL(s,l),s=Hy(s,l)})(e._query,t),new uo(e.firestore,e.converter,Hy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var kD=class n extends Yy{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=(function(i,o,s){if(i.startAt!==null)throw new H(P.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new H(P.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ns(o,s)})(e._query,this._field,this._direction);return new uo(e.firestore,e.converter,aF(e._query,t))}};function SL(n,e="asc"){let t=e,r=Df("orderBy",n);return kD._create(r,t)}function IL(n,e,t){if(typeof(t=Xi(t))=="string"){if(t==="")throw new H(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hD(e)&&t.indexOf("/")!==-1)throw new H(P.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Je.fromString(t));if(!K.isDocumentKey(r))throw new H(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Nc(n,new K(r))}if(t instanceof Ht)return Nc(n,t._key);throw new H(P.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mf(t)}.`)}function DL(n,e){if(!Array.isArray(n)||n.length===0)throw new H(P.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function AL(n,e){let t=(function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new H(P.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(P.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function ML(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Fa=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},La=class n extends Qy{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(Df("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new H(P.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};La._jsonSchemaVersion="firestore/documentSnapshot/1.0",La._jsonSchema={type:Ot("string",La._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};var Pc=class extends La{data(e={}){return super.data(e)}},Oc=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Fa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Pc(this._firestore,this._userDataWriter,r.key,r,new Fa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new H(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let l=new Pc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Fa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let l=new Pc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Fa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,d=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:n7(a.type),doc:l,oldIndex:u,newIndex:d}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new H(P.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ca.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function n7(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y(61501,{type:n})}}Oc._jsonSchemaVersion="firestore/querySnapshot/1.0",Oc._jsonSchema={type:Ot("string",Oc._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};function NL(n){n=ir(n,Ht);let e=ir(n.firestore,wr),t=If(e);return cL(t,n._key).then(r=>OL(e,n,r))}function xL(n,e,t){n=ir(n,Ht);let r=ir(n.firestore,wr),i=ML(n.converter,e,t),o=Ky(r);return LD(r,[ND(o,"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Wn.none())])}function RL(n){return LD(ir(n.firestore,wr),[new Aa(n._key,Wn.none())])}function PL(n,e){let t=ir(n.firestore,wr),r=ds(n),i=ML(n.converter,e),o=Ky(n.firestore);return LD(t,[ND(o,"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Wn.exists(!1))]).then(()=>r)}function FD(n,...e){n=Xi(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||CL(e[r])||(t=e[r++]);let i={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(CL(e[r])){let u=e[r];e[r]=u.next?.bind(u),e[r+1]=u.error?.bind(u),e[r+2]=u.complete?.bind(u)}let o,s,a;if(n instanceof Ht)s=ir(n.firestore,wr),a=xc(n._key.path),o={next:u=>{e[r]&&e[r](OL(s,n,u))},error:e[r+1],complete:e[r+2]};else{let u=ir(n,uo);s=ir(u.firestore,wr),a=u._query;let d=new gf(s);o={next:f=>{e[r]&&e[r](new Oc(s,d,u,f))},error:e[r+1],complete:e[r+2]},t7(n._query)}let l=If(s);return lL(l,a,i,o)}function LD(n,e){let t=If(n);return uL(t,e)}function OL(n,e,t){let r=t.docs.get(e._key),i=new gf(n);return new La(n,i,e._key,r,new Fa(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){Sk(hO),kd(new eo("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new wr(new km(r.getProvider("auth-internal")),new Lm(s,r.getProvider("app-check-internal")),Zk(s,i),s);return o=N({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ko(EL,wL,e),Ko(EL,wL,"esm2020")})();var kc=class n{collectionPath="setups";constructor(){}createSetup(e){let t=Wy(fs,this.collectionPath);return PL(t,re(N({},e),{createdAt:Tf(),updatedAt:Tf()}))}updateSetup(e,t){let r=ds(fs,this.collectionPath,e);return xL(r,re(N({},t),{updatedAt:Tf()}),{merge:!0})}listSetups(){return new Pe(e=>{let t=TL(Wy(fs,this.collectionPath),SL("createdAt","desc")),r=FD(t,i=>{let o=i.docs.map(s=>N({id:s.id},s.data()));e.next(o)},i=>e.error(i));return()=>r()})}getSetup(e){return new Pe(t=>{let r=ds(fs,this.collectionPath,e),i=FD(r,o=>{if(!o.exists()){t.next(null);return}t.next(N({id:o.id},o.data()))},o=>t.error(o));return()=>i()})}async deleteSetup(e){let t=ds(fs,this.collectionPath,e);return RL(t)}async fetchOnce(e){let t=ds(fs,this.collectionPath,e),r=await NL(t);return r.exists()?N({id:r.id},r.data()):null}static \u0275fac=function(t){return new(t||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})};function r7(n,e){n&1&&(G(0,"div",2),ie(1,"No setups yet \u2014 create one."),L())}function i7(n,e){if(n&1){let t=ki();G(0,"div",8),lt("click",function(){let i=Pn(t).$implicit,o=fe(2);return On(o.open(i))}),G(1,"div",9)(2,"div",10)(3,"div",11),ie(4,"MG"),L(),G(5,"div")(6,"div",12),ie(7),L(),G(8,"div",13),ie(9),Up(10,"date"),L(),G(11,"div",2),ie(12),L()()(),G(13,"div",14),ie(14),L()(),G(15,"div",15)(16,"button",16),lt("click",function(i){let o=Pn(t).$implicit,s=fe(2);return On(s.edit(i,o))}),L(),G(17,"button",17),lt("click",function(i){let o=Pn(t).$implicit,s=fe(2);return On(s.remove(i,o))}),L()()()}if(n&2){let t=e.$implicit,r=fe(2);V(7),Pt(t.name||"\u2014"),V(2),Pt(t.createdAt!=null&&t.createdAt.toDate&&t.createdAt.toDate()?BE(10,4,t.createdAt.toDate(),"medium"):""),V(3),Pt(r.makeModel(t)),V(2),Pt(r.summary(t))}}function o7(n,e){if(n&1&&(Et(0),be(1,r7,2,0,"div",5),G(2,"div",6),be(3,i7,18,7,"div",7),L(),wt()),n&2){let t=e.ngIf;V(),F("ngIf",t.length===0),V(2),F("ngForOf",t)}}var Zy=class n{constructor(e,t){this.fs=e;this.router=t;this.setups$=this.fs.listSetups()}setups$;createNew(){this.router.navigate(["/new"])}open(e){e.id&&this.router.navigate(["/setup",e.id])}edit(e,t){e.stopPropagation(),t.id&&this.router.navigate(["/setup",t.id])}async remove(e,t){e.stopPropagation(),t.id&&confirm("Delete this setup?")&&await this.fs.deleteSetup(t.id)}summary(e){try{let t=e.form?e.form:e,r=t.measurements||{},i=r.fretboardRadius?.received||r.fretboardRadius?.initial||"",o=r.lowEAction12th?.received||r.lowEAction12th?.initial||r.stringsAtSaddles?.lowE?.received||"",s=(t.notes||"").split(`
`)[0]||"",a=[],l=[t.manufacturer,t.model].filter(Boolean).join(" ");return l&&a.unshift(l),i&&a.push(`Radius: ${i}`),o&&a.push(`LowE: ${o}`),s&&a.push(s.length>40?s.slice(0,40)+"\u2026":s),a.join(" \u2022 ")}catch{return""}}makeModel(e){try{let t=e.form?e.form:e;return[t.manufacturer,t.model,t.color].filter(Boolean).join(" \u2014 ")}catch{return""}}static \u0275fac=function(t){return new(t||n)(te(kc),te(jo))};static \u0275cmp=Oe({type:n,selectors:[["app-setup-list"]],decls:11,vars:3,consts:[[1,"toolbar"],[2,"margin","0"],[1,"small"],["pButton","","type","button","label","New Setup","icon","pi pi-plus",1,"p-button-sm",3,"click"],[4,"ngIf"],["class","small",4,"ngIf"],[2,"display","grid","gap","8px","margin-top","8px"],["class","list-card",3,"click",4,"ngFor","ngForOf"],[1,"list-card",3,"click"],[2,"flex","1"],[2,"display","flex","align-items","center","gap","12px"],[2,"width","44px","height","44px","border-radius","6px","background","#f7f7f9","display","flex","align-items","center","justify-content","center","font-weight","700","color","#ef6c00"],[2,"font-weight","700"],[1,"meta"],[1,"summary"],[1,"actions",2,"display","flex","align-items","center"],["pButton","","type","button","icon","pi pi-pencil",1,"p-button-text","p-button-plain",3,"click"],["pButton","","type","button","icon","pi pi-trash",1,"p-button-text","p-button-plain",3,"click"]],template:function(t,r){t&1&&(G(0,"section")(1,"div",0)(2,"div")(3,"h2",1),ie(4,"Saved Setups"),L(),G(5,"div",2),ie(6,"Recent guitar setups and repair notes"),L()(),G(7,"div")(8,"button",3),lt("click",function(){return r.createNew()}),L()()(),be(9,o7,4,2,"ng-container",4),Up(10,"async"),L()),t&2&&(V(9),F("ngIf",VE(10,1,r.setups$)))},dependencies:[Ct,Cl,Lr,Wl,um,dm,hw,pw],styles:["[_nghost-%COMP%]{display:block;padding:12px}.toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.list-card[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:12px;border-radius:8px;box-shadow:0 1px 2px #0000000a;cursor:pointer;transition:box-shadow .12s ease,transform .06s ease}.list-card[_ngcontent-%COMP%]:hover{box-shadow:0 6px 18px #00000014;transform:translateY(-2px)}.meta[_ngcontent-%COMP%]{color:#000000a6;font-size:13px}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:8px}.summary[_ngcontent-%COMP%]{font-size:13px;color:#333;margin-top:6px}.small[_ngcontent-%COMP%]{font-size:12px;color:#0000008c}"]})};var $L=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(te(kr),te(hn))};static \u0275dir=de({type:n})}return n})(),s7=(()=>{class n extends $L{static \u0275fac=(()=>{let t;return function(i){return(t||(t=ee(n)))(i||n)}})();static \u0275dir=de({type:n,features:[oe]})}return n})(),Pf=new q("");var a7={provide:Pf,useExisting:ar(()=>uv),multi:!0};function l7(){let n=gr()?gr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var c7=new q(""),uv=(()=>{class n extends $L{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!l7())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(te(kr),te(hn),te(c7,8))};static \u0275dir=de({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&lt("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Fe([a7]),oe]})}return n})();function HD(n){return n==null||zD(n)===0}function zD(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var dv=new q(""),qD=new q(""),u7=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ev=class{static min(e){return d7(e)}static max(e){return f7(e)}static required(e){return HL(e)}static requiredTrue(e){return h7(e)}static email(e){return p7(e)}static minLength(e){return g7(e)}static maxLength(e){return m7(e)}static pattern(e){return y7(e)}static nullValidator(e){return tv()}static compose(e){return QL(e)}static composeAsync(e){return ZL(e)}};function d7(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function f7(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function HL(n){return HD(n.value)?{required:!0}:null}function h7(n){return n.value===!0?null:{required:!0}}function p7(n){return HD(n.value)||u7.test(n.value)?null:{email:!0}}function g7(n){return e=>{let t=e.value?.length??zD(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function m7(n){return e=>{let t=e.value?.length??zD(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function y7(n){if(!n)return tv;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(HD(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function tv(n){return null}function zL(n){return n!=null}function qL(n){return Ri(n)?Ft(n):n}function GL(n){let e={};return n.forEach(t=>{e=t!=null?N(N({},e),t):e}),Object.keys(e).length===0?null:e}function WL(n,e){return e.map(t=>t(n))}function v7(n){return!n.validate}function KL(n){return n.map(e=>v7(e)?e:t=>e.validate(t))}function QL(n){if(!n)return null;let e=n.filter(zL);return e.length==0?null:function(t){return GL(WL(t,e))}}function YL(n){return n!=null?QL(KL(n)):null}function ZL(n){if(!n)return null;let e=n.filter(zL);return e.length==0?null:function(t){let r=WL(t,e).map(qL);return a_(r).pipe(pt(GL))}}function JL(n){return n!=null?ZL(KL(n)):null}function FL(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function XL(n){return n._rawValidators}function eV(n){return n._rawAsyncValidators}function VD(n){return n?Array.isArray(n)?n:[n]:[]}function nv(n,e){return Array.isArray(n)?n.includes(e):n===e}function LL(n,e){let t=VD(e);return VD(n).forEach(i=>{nv(t,i)||t.push(i)}),t}function VL(n,e){return VD(e).filter(t=>!nv(n,t))}var rv=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=YL(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=JL(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Vc=class extends rv{name;get formDirective(){return null}get path(){return null}},or=class extends rv{_parent=null;name=null;valueAccessor=null},iv=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var tV=(()=>{class n extends iv{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(te(or,2))};static \u0275dir=de({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Fi("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[oe]})}return n})(),nV=(()=>{class n extends iv{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(te(Vc,10))};static \u0275dir=de({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Fi("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[oe]})}return n})();var Af="VALID",Jy="INVALID",Fc="PENDING",Mf="DISABLED",hs=class{},ov=class extends hs{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Nf=class extends hs{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},xf=class extends hs{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Lc=class extends hs{status;source;constructor(e,t){super(),this.status=e,this.source=t}},BD=class extends hs{source;constructor(e){super(),this.source=e}},Rf=class extends hs{source;constructor(e){super(),this.source=e}};function GD(n){return(fv(n)?n.validators:n)||null}function _7(n){return Array.isArray(n)?YL(n):n||null}function WD(n,e){return(fv(e)?e.asyncValidators:n)||null}function b7(n){return Array.isArray(n)?JL(n):n||null}function fv(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function rV(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new k(1e3,"");if(!r[t])throw new k(1001,"")}function iV(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new k(1002,"")})}var Bc=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return bt(this.statusReactive)}set status(e){bt(()=>this.statusReactive.set(e))}_status=He(()=>this.statusReactive());statusReactive=Te(void 0);get valid(){return this.status===Af}get invalid(){return this.status===Jy}get pending(){return this.status==Fc}get disabled(){return this.status===Mf}get enabled(){return this.status!==Mf}errors;get pristine(){return bt(this.pristineReactive)}set pristine(e){bt(()=>this.pristineReactive.set(e))}_pristine=He(()=>this.pristineReactive());pristineReactive=Te(!0);get dirty(){return!this.pristine}get touched(){return bt(this.touchedReactive)}set touched(e){bt(()=>this.touchedReactive.set(e))}_touched=He(()=>this.touchedReactive());touchedReactive=Te(!1);get untouched(){return!this.touched}_events=new Nt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(LL(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(LL(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(VL(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(VL(e,this._rawAsyncValidators))}hasValidator(e){return nv(this._rawValidators,e)}hasAsyncValidator(e){return nv(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(re(N({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new xf(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new xf(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(re(N({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Nf(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Nf(!0,r))}markAsPending(e={}){this.status=Fc;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Lc(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(re(N({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Mf,this.errors=null,this._forEachChild(i=>{i.disable(re(N({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ov(this.value,r)),this._events.next(new Lc(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(re(N({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Af,this._forEachChild(r=>{r.enable(re(N({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(re(N({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Af||this.status===Fc)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ov(this.value,t)),this._events.next(new Lc(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(re(N({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Mf:Af}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Fc,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=qL(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Lc(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new ke,this.statusChanges=new ke}_calculateStatus(){return this._allControlsDisabled()?Mf:this.errors?Jy:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fc)?Fc:this._anyControlsHaveStatus(Jy)?Jy:Af}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Nf(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new xf(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){fv(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=_7(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=b7(this._rawAsyncValidators)}},sv=class extends Bc{constructor(e,t,r){super(GD(t),WD(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){iV(this,!0,e),Object.keys(e).forEach(r=>{rV(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,re(N({},t),{onlySelf:!0}))}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Rf(this))}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var jD=class extends sv{};var KD=new q("",{factory:()=>QD}),QD="always";function E7(n,e){return[...e.path,n]}function UD(n,e,t=QD){YD(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),C7(n,e),D7(n,e),I7(n,e),w7(n,e)}function av(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),cv(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function lv(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function w7(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function YD(n,e){let t=XL(n);e.validator!==null?n.setValidators(FL(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=eV(n);e.asyncValidator!==null?n.setAsyncValidators(FL(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();lv(e._rawValidators,i),lv(e._rawAsyncValidators,i)}function cv(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=XL(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=eV(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return lv(e._rawValidators,r),lv(e._rawAsyncValidators,r),t}function C7(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&oV(n,e)})}function I7(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&oV(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function oV(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function D7(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function T7(n,e){n==null,YD(n,e)}function S7(n,e){return cv(n,e)}function sV(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function A7(n){return Object.getPrototypeOf(n.constructor)===s7}function M7(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function aV(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===uv?t=o:A7(o)?r=o:i=o}),i||r||t||null}function N7(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function BL(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function jL(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Xy=class extends Bc{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(GD(t),WD(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),fv(t)&&(t.nonNullable||t.initialValueIsDefault)&&(jL(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),t.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new Rf(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){BL(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){BL(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){jL(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var x7=n=>n instanceof Xy;var lV=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=de({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var $D=class extends Bc{constructor(e,t,r){super(GD(t),WD(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){Array.isArray(e)?e.forEach(r=>{this.controls.push(r),this._registerControl(r)}):(this.controls.push(e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){iV(this,!1,e),e.forEach((r,i)=>{rV(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],re(N({},t),{onlySelf:!0}))}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Rf(this))}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};var R7=(()=>{class n extends Vc{callSetDisabledState;get submitted(){return bt(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=He(()=>this._submittedReactive());_submittedReactive=Te(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this.onChanges(t)}ngOnDestroy(){this.onDestroy()}onChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}onDestroy(){this.form&&(cv(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get path(){return[]}addControl(t){let r=this.form.get(t.path);return UD(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){av(t.control||null,t,!1),N7(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}getFormArray(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}updateModel(t,r){this.form.get(t.path).setValue(r)}onReset(){this.resetForm()}resetForm(t=void 0,r={}){this.form.reset(t,r),this._submittedReactive.set(!1)}onSubmit(t){return this.submitted=!0,M7(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new BD(this.control)),t?.target?.method==="dialog"}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(av(r||null,t),x7(i)&&(UD(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);T7(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&S7(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){YD(this.form,this),this._oldForm&&cv(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(r){return new(r||n)(te(dv,10),te(qD,10),te(KD,8))};static \u0275dir=de({type:n,features:[oe,fr]})}return n})();var ZD=new q(""),P7={provide:or,useExisting:ar(()=>JD)},JD=(()=>{class n extends or{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(t){}model;update=new ke;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this._setValidators(t),this._setAsyncValidators(r),this.valueAccessor=aV(this,i)}ngOnChanges(t){if(this._isControlChanged(t)){let r=t.form.previousValue;r&&av(r,this,!1),UD(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}sV(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&av(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}static \u0275fac=function(r){return new(r||n)(te(dv,10),te(qD,10),te(Pf,10),te(ZD,8),te(KD,8))};static \u0275dir=de({type:n,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[Fe([P7]),oe,fr]})}return n})();var O7={provide:or,useExisting:ar(()=>XD)},XD=(()=>{class n extends or{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new ke;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=aV(this,o)}ngOnChanges(t){this._added||this._setUpControl(),sV(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return E7(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(te(Vc,13),te(dv,10),te(qD,10),te(Pf,10),te(ZD,8))};static \u0275dir=de({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Fe([O7]),oe,fr]})}return n})();var k7={provide:Vc,useExisting:ar(()=>eT)},eT=(()=>{class n extends R7{form=null;ngSubmit=new ke;get control(){return this.form}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ee(n)))(i||n)}})();static \u0275dir=de({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&lt("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Fe([k7]),oe]})}return n})();var F7=(()=>{class n{_validator=tv;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):tv,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=de({type:n,features:[fr]})}return n})();var L7={provide:dv,useExisting:ar(()=>tT),multi:!0};var tT=(()=>{class n extends F7{required;inputName="required";normalizeInput=Ee;createValidator=t=>HL;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ee(n)))(i||n)}})();static \u0275dir=de({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Ge("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Fe([L7]),oe]})}return n})();var V7=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=$e({type:n});static \u0275inj=je({})}return n})();function UL(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var cV=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return UL(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new sv(i,o)}record(t,r=null){let i=this._reduceControls(t);return new jD(i,r)}control(t,r,i){let o={};return this.useNonNullable?(UL(r)?o=r:(o.validators=r,o.asyncValidators=i),new Xy(t,re(N({},o),{nonNullable:!0}))):new Xy(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new $D(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Xy)return t;if(t instanceof Bc)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var uV=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ZD,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:KD,useValue:t.callSetDisabledState??QD}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=$e({type:n});static \u0275inj=je({imports:[V7]})}return n})();var jc=(()=>{class n extends mt{modelValue=Te(void 0);$filled=He(()=>it(this.modelValue()));writeModelValue(t){this.modelValue.set(t)}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ee(n)))(i||n)}})();static \u0275dir=de({type:n,features:[oe]})}return n})();var dV=`
    .p-inputtext {
        font-family: inherit;
        font-feature-settings: inherit;
        font-size: 1rem;
        color: dt('inputtext.color');
        background: dt('inputtext.background');
        padding-block: dt('inputtext.padding.y');
        padding-inline: dt('inputtext.padding.x');
        border: 1px solid dt('inputtext.border.color');
        transition:
            background dt('inputtext.transition.duration'),
            color dt('inputtext.transition.duration'),
            border-color dt('inputtext.transition.duration'),
            outline-color dt('inputtext.transition.duration'),
            box-shadow dt('inputtext.transition.duration');
        appearance: none;
        border-radius: dt('inputtext.border.radius');
        outline-color: transparent;
        box-shadow: dt('inputtext.shadow');
    }

    .p-inputtext:enabled:hover {
        border-color: dt('inputtext.hover.border.color');
    }

    .p-inputtext:enabled:focus {
        border-color: dt('inputtext.focus.border.color');
        box-shadow: dt('inputtext.focus.ring.shadow');
        outline: dt('inputtext.focus.ring.width') dt('inputtext.focus.ring.style') dt('inputtext.focus.ring.color');
        outline-offset: dt('inputtext.focus.ring.offset');
    }

    .p-inputtext.p-invalid {
        border-color: dt('inputtext.invalid.border.color');
    }

    .p-inputtext.p-variant-filled {
        background: dt('inputtext.filled.background');
    }

    .p-inputtext.p-variant-filled:enabled:hover {
        background: dt('inputtext.filled.hover.background');
    }

    .p-inputtext.p-variant-filled:enabled:focus {
        background: dt('inputtext.filled.focus.background');
    }

    .p-inputtext:disabled {
        opacity: 1;
        background: dt('inputtext.disabled.background');
        color: dt('inputtext.disabled.color');
    }

    .p-inputtext::placeholder {
        color: dt('inputtext.placeholder.color');
    }

    .p-inputtext.p-invalid::placeholder {
        color: dt('inputtext.invalid.placeholder.color');
    }

    .p-inputtext-sm {
        font-size: dt('inputtext.sm.font.size');
        padding-block: dt('inputtext.sm.padding.y');
        padding-inline: dt('inputtext.sm.padding.x');
    }

    .p-inputtext-lg {
        font-size: dt('inputtext.lg.font.size');
        padding-block: dt('inputtext.lg.padding.y');
        padding-inline: dt('inputtext.lg.padding.x');
    }

    .p-inputtext-fluid {
        width: 100%;
    }
`;var j7=`
    ${dV}

    /* For PrimeNG */
   .p-inputtext.ng-invalid.ng-dirty {
        border-color: dt('inputtext.invalid.border.color');
    }

    .p-inputtext.ng-invalid.ng-dirty::placeholder {
        color: dt('inputtext.invalid.placeholder.color');
    }
`,U7={root:({instance:n})=>["p-inputtext p-component",{"p-filled":n.$filled(),"p-inputtext-sm":n.pSize==="small","p-inputtext-lg":n.pSize==="large","p-invalid":n.invalid(),"p-variant-filled":n.$variant()==="filled","p-inputtext-fluid":n.hasFluid}]},fV=(()=>{class n extends ot{name="inputtext";style=j7;classes=U7;static \u0275fac=(()=>{let t;return function(i){return(t||(t=ee(n)))(i||n)}})();static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();var hV=new q("INPUTTEXT_INSTANCE"),pV=(()=>{class n extends jc{componentName="InputText";hostName="";ptInputText=$();pInputTextPT=$();pInputTextUnstyled=$();bindDirectiveInstance=T(he,{self:!0});$pcInputText=T(hV,{optional:!0,skipSelf:!0})??void 0;ngControl=T(or,{optional:!0,self:!0});pcFluid=T(oa,{optional:!0,host:!0,skipSelf:!0});pSize;variant=$();fluid=$(void 0,{transform:Ee});invalid=$(void 0,{transform:Ee});$variant=He(()=>this.variant()||this.config.inputStyle()||this.config.inputVariant());_componentStyle=T(fV);constructor(){super(),qe(()=>{let t=this.ptInputText()||this.pInputTextPT();t&&this.directivePT.set(t)}),qe(()=>{this.pInputTextUnstyled()&&this.directiveUnstyled.set(this.pInputTextUnstyled())})}onAfterViewInit(){this.writeModelValue(this.ngControl?.value??this.el.nativeElement.value),this.cd.detectChanges()}onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptm("root"))}onDoCheck(){this.writeModelValue(this.ngControl?.value??this.el.nativeElement.value)}onInput(){this.writeModelValue(this.ngControl?.value??this.el.nativeElement.value)}get hasFluid(){return this.fluid()??!!this.pcFluid}get dataP(){return this.cn({invalid:this.invalid(),fluid:this.hasFluid,filled:this.$variant()==="filled",[this.pSize]:this.pSize})}static \u0275fac=function(r){return new(r||n)};static \u0275dir=de({type:n,selectors:[["","pInputText",""]],hostVars:3,hostBindings:function(r,i){r&1&&lt("input",function(){return i.onInput()}),r&2&&(Ge("data-p",i.dataP),ge(i.cx("root")))},inputs:{hostName:"hostName",ptInputText:[1,"ptInputText"],pInputTextPT:[1,"pInputTextPT"],pInputTextUnstyled:[1,"pInputTextUnstyled"],pSize:"pSize",variant:[1,"variant"],fluid:[1,"fluid"],invalid:[1,"invalid"]},features:[Fe([fV,{provide:hV,useExisting:n},{provide:It,useExisting:n}]),At([he]),oe]})}return n})(),gV=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=$e({type:n});static \u0275inj=je({})}return n})();var mV=`
    .p-textarea {
        font-family: inherit;
        font-feature-settings: inherit;
        font-size: 1rem;
        color: dt('textarea.color');
        background: dt('textarea.background');
        padding-block: dt('textarea.padding.y');
        padding-inline: dt('textarea.padding.x');
        border: 1px solid dt('textarea.border.color');
        transition:
            background dt('textarea.transition.duration'),
            color dt('textarea.transition.duration'),
            border-color dt('textarea.transition.duration'),
            outline-color dt('textarea.transition.duration'),
            box-shadow dt('textarea.transition.duration');
        appearance: none;
        border-radius: dt('textarea.border.radius');
        outline-color: transparent;
        box-shadow: dt('textarea.shadow');
    }

    .p-textarea:enabled:hover {
        border-color: dt('textarea.hover.border.color');
    }

    .p-textarea:enabled:focus {
        border-color: dt('textarea.focus.border.color');
        box-shadow: dt('textarea.focus.ring.shadow');
        outline: dt('textarea.focus.ring.width') dt('textarea.focus.ring.style') dt('textarea.focus.ring.color');
        outline-offset: dt('textarea.focus.ring.offset');
    }

    .p-textarea.p-invalid {
        border-color: dt('textarea.invalid.border.color');
    }

    .p-textarea.p-variant-filled {
        background: dt('textarea.filled.background');
    }

    .p-textarea.p-variant-filled:enabled:hover {
        background: dt('textarea.filled.hover.background');
    }

    .p-textarea.p-variant-filled:enabled:focus {
        background: dt('textarea.filled.focus.background');
    }

    .p-textarea:disabled {
        opacity: 1;
        background: dt('textarea.disabled.background');
        color: dt('textarea.disabled.color');
    }

    .p-textarea::placeholder {
        color: dt('textarea.placeholder.color');
    }

    .p-textarea.p-invalid::placeholder {
        color: dt('textarea.invalid.placeholder.color');
    }

    .p-textarea-fluid {
        width: 100%;
    }

    .p-textarea-resizable {
        overflow: hidden;
        resize: none;
    }

    .p-textarea-sm {
        font-size: dt('textarea.sm.font.size');
        padding-block: dt('textarea.sm.padding.y');
        padding-inline: dt('textarea.sm.padding.x');
    }

    .p-textarea-lg {
        font-size: dt('textarea.lg.font.size');
        padding-block: dt('textarea.lg.padding.y');
        padding-inline: dt('textarea.lg.padding.x');
    }
`;var H7=`
    ${mV}

    /* For PrimeNG */
    .p-textarea.ng-invalid.ng-dirty {
        border-color: dt('textarea.invalid.border.color');
    }
    .p-textarea.ng-invalid.ng-dirty::placeholder {
        color: dt('textarea.invalid.placeholder.color');
    }
`,z7={root:({instance:n})=>["p-textarea p-component",{"p-filled":n.$filled(),"p-textarea-resizable ":n.autoResize,"p-variant-filled":n.$variant()==="filled","p-textarea-fluid":n.hasFluid,"p-inputfield-sm p-textarea-sm":n.pSize==="small","p-textarea-lg p-inputfield-lg":n.pSize==="large","p-invalid":n.invalid()}]},yV=(()=>{class n extends ot{name="textarea";style=H7;classes=z7;static \u0275fac=(()=>{let t;return function(i){return(t||(t=ee(n)))(i||n)}})();static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();var vV=new q("TEXTAREA_INSTANCE"),_V=(()=>{class n extends jc{componentName="Textarea";bindDirectiveInstance=T(he,{self:!0});$pcTextarea=T(vV,{optional:!0,skipSelf:!0})??void 0;pTextareaPT=$();pTextareaUnstyled=$();autoResize;pSize;variant=$();fluid=$(void 0,{transform:Ee});invalid=$(void 0,{transform:Ee});$variant=He(()=>this.variant()||this.config.inputStyle()||this.config.inputVariant());onResize=new ke;ngControlSubscription;_componentStyle=T(yV);ngControl=T(or,{optional:!0,self:!0});pcFluid=T(oa,{optional:!0,host:!0,skipSelf:!0});get hasFluid(){return this.fluid()??!!this.pcFluid}constructor(){super(),qe(()=>{let t=this.pTextareaPT();t&&this.directivePT.set(t)}),qe(()=>{this.pTextareaUnstyled()&&this.directiveUnstyled.set(this.pTextareaUnstyled())})}onInit(){this.ngControl&&(this.ngControlSubscription=this.ngControl.valueChanges.subscribe(()=>{this.updateState()}))}onAfterViewInit(){this.autoResize&&this.resize(),this.cd.detectChanges()}onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"])),this.autoResize&&this.resize(),this.writeModelValue(this.ngControl?.value??this.el.nativeElement.value)}onInput(t){this.writeModelValue(t.target?.value),this.updateState()}resize(t){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(t||{})}updateState(){this.autoResize&&this.resize()}onDestroy(){this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=de({type:n,selectors:[["","pTextarea",""],["","pInputTextarea",""]],hostVars:2,hostBindings:function(r,i){r&1&&lt("input",function(s){return i.onInput(s)}),r&2&&ge(i.cx("root"))},inputs:{pTextareaPT:[1,"pTextareaPT"],pTextareaUnstyled:[1,"pTextareaUnstyled"],autoResize:[2,"autoResize","autoResize",Ee],pSize:"pSize",variant:[1,"variant"],fluid:[1,"fluid"],invalid:[1,"invalid"]},outputs:{onResize:"onResize"},features:[Fe([yV,{provide:vV,useExisting:n},{provide:It,useExisting:n}]),At([he]),oe]})}return n})(),bV=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=$e({type:n});static \u0275inj=je({})}return n})();var EV=(()=>{class n extends jc{required=$(void 0,{transform:Ee});invalid=$(void 0,{transform:Ee});disabled=$(void 0,{transform:Ee});name=$();_disabled=Te(!1);$disabled=He(()=>this.disabled()||this._disabled());onModelChange=()=>{};onModelTouched=()=>{};writeDisabledState(t){this._disabled.set(t)}writeControlValue(t,r){}writeValue(t){this.writeControlValue(t,this.writeModelValue.bind(this))}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.writeDisabledState(t),this.cd.markForCheck()}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ee(n)))(i||n)}})();static \u0275dir=de({type:n,inputs:{required:[1,"required"],invalid:[1,"invalid"],disabled:[1,"disabled"],name:[1,"name"]},features:[oe]})}return n})();var wV=`
    .p-checkbox {
        position: relative;
        display: inline-flex;
        user-select: none;
        vertical-align: bottom;
        width: dt('checkbox.width');
        height: dt('checkbox.height');
    }

    .p-checkbox-input {
        cursor: pointer;
        appearance: none;
        position: absolute;
        inset-block-start: 0;
        inset-inline-start: 0;
        width: 100%;
        height: 100%;
        padding: 0;
        margin: 0;
        opacity: 0;
        z-index: 1;
        outline: 0 none;
        border: 1px solid transparent;
        border-radius: dt('checkbox.border.radius');
    }

    .p-checkbox-box {
        display: flex;
        justify-content: center;
        align-items: center;
        border-radius: dt('checkbox.border.radius');
        border: 1px solid dt('checkbox.border.color');
        background: dt('checkbox.background');
        width: dt('checkbox.width');
        height: dt('checkbox.height');
        transition:
            background dt('checkbox.transition.duration'),
            color dt('checkbox.transition.duration'),
            border-color dt('checkbox.transition.duration'),
            box-shadow dt('checkbox.transition.duration'),
            outline-color dt('checkbox.transition.duration');
        outline-color: transparent;
        box-shadow: dt('checkbox.shadow');
    }

    .p-checkbox-icon {
        transition-duration: dt('checkbox.transition.duration');
        color: dt('checkbox.icon.color');
        font-size: dt('checkbox.icon.size');
        width: dt('checkbox.icon.size');
        height: dt('checkbox.icon.size');
    }

    .p-checkbox:not(.p-disabled):has(.p-checkbox-input:hover) .p-checkbox-box {
        border-color: dt('checkbox.hover.border.color');
    }

    .p-checkbox-checked .p-checkbox-box {
        border-color: dt('checkbox.checked.border.color');
        background: dt('checkbox.checked.background');
    }

    .p-checkbox-checked .p-checkbox-icon {
        color: dt('checkbox.icon.checked.color');
    }

    .p-checkbox-checked:not(.p-disabled):has(.p-checkbox-input:hover) .p-checkbox-box {
        background: dt('checkbox.checked.hover.background');
        border-color: dt('checkbox.checked.hover.border.color');
    }

    .p-checkbox-checked:not(.p-disabled):has(.p-checkbox-input:hover) .p-checkbox-icon {
        color: dt('checkbox.icon.checked.hover.color');
    }

    .p-checkbox:not(.p-disabled):has(.p-checkbox-input:focus-visible) .p-checkbox-box {
        border-color: dt('checkbox.focus.border.color');
        box-shadow: dt('checkbox.focus.ring.shadow');
        outline: dt('checkbox.focus.ring.width') dt('checkbox.focus.ring.style') dt('checkbox.focus.ring.color');
        outline-offset: dt('checkbox.focus.ring.offset');
    }

    .p-checkbox-checked:not(.p-disabled):has(.p-checkbox-input:focus-visible) .p-checkbox-box {
        border-color: dt('checkbox.checked.focus.border.color');
    }

    .p-checkbox.p-invalid > .p-checkbox-box {
        border-color: dt('checkbox.invalid.border.color');
    }

    .p-checkbox.p-variant-filled .p-checkbox-box {
        background: dt('checkbox.filled.background');
    }

    .p-checkbox-checked.p-variant-filled .p-checkbox-box {
        background: dt('checkbox.checked.background');
    }

    .p-checkbox-checked.p-variant-filled:not(.p-disabled):has(.p-checkbox-input:hover) .p-checkbox-box {
        background: dt('checkbox.checked.hover.background');
    }

    .p-checkbox.p-disabled {
        opacity: 1;
    }

    .p-checkbox.p-disabled .p-checkbox-box {
        background: dt('checkbox.disabled.background');
        border-color: dt('checkbox.checked.disabled.border.color');
    }

    .p-checkbox.p-disabled .p-checkbox-box .p-checkbox-icon {
        color: dt('checkbox.icon.disabled.color');
    }

    .p-checkbox-sm,
    .p-checkbox-sm .p-checkbox-box {
        width: dt('checkbox.sm.width');
        height: dt('checkbox.sm.height');
    }

    .p-checkbox-sm .p-checkbox-icon {
        font-size: dt('checkbox.icon.sm.size');
        width: dt('checkbox.icon.sm.size');
        height: dt('checkbox.icon.sm.size');
    }

    .p-checkbox-lg,
    .p-checkbox-lg .p-checkbox-box {
        width: dt('checkbox.lg.width');
        height: dt('checkbox.lg.height');
    }

    .p-checkbox-lg .p-checkbox-icon {
        font-size: dt('checkbox.icon.lg.size');
        width: dt('checkbox.icon.lg.size');
        height: dt('checkbox.icon.lg.size');
    }
`;var G7=["icon"],W7=["input"],K7=(n,e,t)=>({checked:n,class:e,dataP:t});function Q7(n,e){if(n&1&&pe(0,"span",8),n&2){let t=fe(3);ge(t.cx("icon")),F("ngClass",t.checkboxIcon)("pBind",t.ptm("icon")),Ge("data-p",t.dataP)}}function Y7(n,e){if(n&1&&(nn(),pe(0,"svg",9)),n&2){let t=fe(3);ge(t.cx("icon")),F("pBind",t.ptm("icon")),Ge("data-p",t.dataP)}}function Z7(n,e){if(n&1&&(Et(0),be(1,Q7,1,5,"span",6)(2,Y7,1,4,"svg",7),wt()),n&2){let t=fe(2);V(),F("ngIf",t.checkboxIcon),V(),F("ngIf",!t.checkboxIcon)}}function J7(n,e){if(n&1&&(nn(),pe(0,"svg",10)),n&2){let t=fe(2);ge(t.cx("icon")),F("pBind",t.ptm("icon")),Ge("data-p",t.dataP)}}function X7(n,e){if(n&1&&(Et(0),be(1,Z7,3,2,"ng-container",3)(2,J7,1,4,"svg",5),wt()),n&2){let t=fe();V(),F("ngIf",t.checked),V(),F("ngIf",t._indeterminate())}}function eG(n,e){}function tG(n,e){n&1&&be(0,eG,0,0,"ng-template")}var nG=`
    ${wV}

    /* For PrimeNG */
    p-checkBox.ng-invalid.ng-dirty .p-checkbox-box,
    p-check-box.ng-invalid.ng-dirty .p-checkbox-box,
    p-checkbox.ng-invalid.ng-dirty .p-checkbox-box {
        border-color: dt('checkbox.invalid.border.color');
    }
`,rG={root:({instance:n})=>["p-checkbox p-component",{"p-checkbox-checked p-highlight":n.checked,"p-disabled":n.$disabled(),"p-invalid":n.invalid(),"p-variant-filled":n.$variant()==="filled","p-checkbox-sm p-inputfield-sm":n.size()==="small","p-checkbox-lg p-inputfield-lg":n.size()==="large"}],box:"p-checkbox-box",input:"p-checkbox-input",icon:"p-checkbox-icon"},CV=(()=>{class n extends ot{name="checkbox";style=nG;classes=rG;static \u0275fac=(()=>{let t;return function(i){return(t||(t=ee(n)))(i||n)}})();static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();var IV=new q("CHECKBOX_INSTANCE"),iG={provide:Pf,useExisting:ar(()=>hv),multi:!0},hv=(()=>{class n extends EV{componentName="Checkbox";hostName="";value;binary;ariaLabelledBy;ariaLabel;tabindex;inputId;inputStyle;styleClass;inputClass;indeterminate=!1;formControl;checkboxIcon;readonly;autofocus;trueValue=!0;falseValue=!1;variant=$();size=$();onChange=new ke;onFocus=new ke;onBlur=new ke;inputViewChild;get checked(){return this._indeterminate()?!1:this.binary?this.modelValue()===this.trueValue:JR(this.value,this.modelValue())}_indeterminate=Te(void 0);checkboxIconTemplate;templates;_checkboxIconTemplate;focused=!1;_componentStyle=T(CV);bindDirectiveInstance=T(he,{self:!0});$pcCheckbox=T(IV,{optional:!0,skipSelf:!0})??void 0;$variant=He(()=>this.variant()||this.config.inputStyle()||this.config.inputVariant());onAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"icon":this._checkboxIconTemplate=t.template;break;case"checkboxicon":this._checkboxIconTemplate=t.template;break}})}onChanges(t){t.indeterminate&&this._indeterminate.set(t.indeterminate.currentValue)}onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}updateModel(t){let r,i=this.injector.get(or,null,{optional:!0,self:!0}),o=i&&!this.formControl?i.value:this.modelValue();this.binary?(r=this._indeterminate()?this.trueValue:this.checked?this.falseValue:this.trueValue,this.writeModelValue(r),this.onModelChange(r)):(this.checked||this._indeterminate()?r=o.filter(s=>!ra(s,this.value)):r=o?[...o,this.value]:[this.value],this.onModelChange(r),this.writeModelValue(r),this.formControl&&this.formControl.setValue(r)),this._indeterminate()&&this._indeterminate.set(!1),this.onChange.emit({checked:r,originalEvent:t})}handleChange(t){this.readonly||this.updateModel(t)}onInputFocus(t){this.focused=!0,this.onFocus.emit(t)}onInputBlur(t){this.focused=!1,this.onBlur.emit(t),this.onModelTouched()}focus(){this.inputViewChild?.nativeElement.focus()}writeControlValue(t,r){r(t),this.cd.markForCheck()}get dataP(){return this.cn({invalid:this.invalid(),checked:this.checked,disabled:this.$disabled(),filled:this.$variant()==="filled",[this.size()]:this.size()})}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ee(n)))(i||n)}})();static \u0275cmp=Oe({type:n,selectors:[["p-checkbox"],["p-checkBox"],["p-check-box"]],contentQueries:function(r,i,o){if(r&1&&ai(o,G7,4)(o,zo,4),r&2){let s;tt(s=nt())&&(i.checkboxIconTemplate=s.first),tt(s=nt())&&(i.templates=s)}},viewQuery:function(r,i){if(r&1&&El(W7,5),r&2){let o;tt(o=nt())&&(i.inputViewChild=o.first)}},hostVars:6,hostBindings:function(r,i){r&2&&(Ge("data-p-highlight",i.checked)("data-p-checked",i.checked)("data-p-disabled",i.$disabled())("data-p",i.dataP),ge(i.cn(i.cx("root"),i.styleClass)))},inputs:{hostName:"hostName",value:"value",binary:[2,"binary","binary",Ee],ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:[2,"tabindex","tabindex",qp],inputId:"inputId",inputStyle:"inputStyle",styleClass:"styleClass",inputClass:"inputClass",indeterminate:[2,"indeterminate","indeterminate",Ee],formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:[2,"readonly","readonly",Ee],autofocus:[2,"autofocus","autofocus",Ee],trueValue:"trueValue",falseValue:"falseValue",variant:[1,"variant"],size:[1,"size"]},outputs:{onChange:"onChange",onFocus:"onFocus",onBlur:"onBlur"},features:[Fe([iG,CV,{provide:IV,useExisting:n},{provide:It,useExisting:n}]),At([he]),oe],decls:5,vars:26,consts:[["input",""],["type","checkbox",3,"focus","blur","change","checked","pBind"],[3,"pBind"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["data-p-icon","minus",3,"class","pBind",4,"ngIf"],[3,"class","ngClass","pBind",4,"ngIf"],["data-p-icon","check",3,"class","pBind",4,"ngIf"],[3,"ngClass","pBind"],["data-p-icon","check",3,"pBind"],["data-p-icon","minus",3,"pBind"]],template:function(r,i){if(r&1){let o=ki();G(0,"input",1,0),lt("focus",function(a){return Pn(o),On(i.onInputFocus(a))})("blur",function(a){return Pn(o),On(i.onInputBlur(a))})("change",function(a){return Pn(o),On(i.handleChange(a))}),L(),G(2,"div",2),be(3,X7,3,2,"ng-container",3)(4,tG,1,0,null,4),L()}r&2&&(qs(i.inputStyle),ge(i.cn(i.cx("input"),i.inputClass)),F("checked",i.checked)("pBind",i.ptm("input")),Ge("id",i.inputId)("value",i.value)("name",i.name())("tabindex",i.tabindex)("required",i.required()?"":void 0)("readonly",i.readonly?"":void 0)("disabled",i.$disabled()?"":void 0)("aria-labelledby",i.ariaLabelledBy)("aria-label",i.ariaLabel),V(2),ge(i.cx("box")),F("pBind",i.ptm("box")),Ge("data-p",i.dataP),V(),F("ngIf",!i.checkboxIconTemplate&&!i._checkboxIconTemplate),V(),F("ngTemplateOutlet",i.checkboxIconTemplate||i._checkboxIconTemplate)("ngTemplateOutletContext",FE(22,K7,i.checked,i.cx("icon"),i.dataP)))},dependencies:[Ct,dw,Lr,Bi,Bt,IP,cm,zn,he],encapsulation:2,changeDetection:0})}return n})(),DV=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=$e({type:n});static \u0275inj=je({imports:[hv,Bt,Bt]})}return n})();var sG=Object.defineProperty,TV=Object.getOwnPropertySymbols,aG=Object.prototype.hasOwnProperty,lG=Object.prototype.propertyIsEnumerable,SV=(n,e,t)=>e in n?sG(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,AV=(n,e)=>{for(var t in e||(e={}))aG.call(e,t)&&SV(n,t,e[t]);if(TV)for(var t of TV(e))lG.call(e,t)&&SV(n,t,e[t]);return n},cG=(n,e,t)=>new Promise((r,i)=>{var o=l=>{try{a(t.next(l))}catch(u){i(u)}},s=l=>{try{a(t.throw(l))}catch(u){i(u)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((t=t.apply(n,e)).next())}),pv="animation",Of="transition";function uG(n){return n?n.disabled||!!(n.safe&&HR()):!1}function dG(n,e){return n?AV(AV({},n),Object.entries(e).reduce((t,[r,i])=>{var o;return t[r]=(o=n[r])!=null?o:i,t},{})):e}function fG(n){let{name:e,enterClass:t,leaveClass:r}=n||{};return{enter:{from:t?.from||`${e}-enter-from`,to:t?.to||`${e}-enter-to`,active:t?.active||`${e}-enter-active`},leave:{from:r?.from||`${e}-leave-from`,to:r?.to||`${e}-leave-to`,active:r?.active||`${e}-leave-active`}}}function hG(n){return{enter:{onBefore:n?.onBeforeEnter,onStart:n?.onEnter,onAfter:n?.onAfterEnter,onCancelled:n?.onEnterCancelled},leave:{onBefore:n?.onBeforeLeave,onStart:n?.onLeave,onAfter:n?.onAfterLeave,onCancelled:n?.onLeaveCancelled}}}function pG(n,e){let t=window.getComputedStyle(n),r=m=>{let v=t[`${m}Delay`],w=t[`${m}Duration`];return[v.split(", ").map(P0),w.split(", ").map(P0)]},[i,o]=r(Of),[s,a]=r(pv),l=Math.max(...o.map((m,v)=>m+i[v])),u=Math.max(...a.map((m,v)=>m+s[v])),d,f=0,g=0;return e===Of?l>0&&(d=Of,f=l,g=o.length):e===pv?u>0&&(d=pv,f=u,g=a.length):(f=Math.max(l,u),d=f>0?l>u?Of:pv:void 0,g=d?d===Of?o.length:a.length:0),{type:d,timeout:f,count:g}}function gG(n,e){return typeof n=="number"?n:typeof n=="object"&&n[e]!=null?n[e]:null}function mG(n,e=!0,t=!1){if(!e&&!t)return;let r=BR(n);e&&M0(n,"--pui-motion-height",r.height+"px"),t&&M0(n,"--pui-motion-width",r.width+"px")}var yG={name:"p",safe:!0,disabled:!1,enter:!0,leave:!0,autoHeight:!0,autoWidth:!1};function nT(n,e){if(!n)throw new Error("Element is required.");let t={},r=!1,i={},o=null,s={},a=d=>{if(Object.assign(t,dG(d,yG)),!t.enter&&!t.leave)throw new Error("Enter or leave must be true.");s=hG(t),r=uG(t),i=fG(t),o=null},l=d=>cG(null,null,function*(){o?.();let{onBefore:f,onStart:g,onAfter:m,onCancelled:v}=s[d]||{},w={element:n};if(r){f?.(w),g?.(w),m?.(w);return}let{from:M,active:O,to:j}=i[d]||{};return mG(n,t.autoHeight,t.autoWidth),f?.(w),qi(n,M),qi(n,O),n.offsetHeight,Gi(n,M),qi(n,j),g?.(w),new Promise(z=>{let ne=gG(t.duration,d),Ce=()=>{Gi(n,[j,O]),o=null},ae=()=>{Ce(),m?.(w),z()};o=()=>{Ce(),v?.(w),z()},_G(n,t.type,ne,ae)})});a(e);let u={enter:()=>t.enter?l("enter"):Promise.resolve(),leave:()=>t.leave?l("leave"):Promise.resolve(),cancel:()=>{o?.(),o=null},update:(d,f)=>{if(!d)throw new Error("Element is required.");n=d,u.cancel(),a(f)}};return t.appear&&u.enter(),u}var vG=0;function _G(n,e,t,r){let i=n._motionEndId=++vG,o=()=>{i===n._motionEndId&&r()};if(t!=null)return setTimeout(o,t);let{type:s,timeout:a,count:l}=pG(n,e);if(!s){r();return}let u=s+"end",d=0,f=()=>{n.removeEventListener(u,g,!0),o()},g=m=>{m.target===n&&++d>=l&&f()};n.addEventListener(u,g,{capture:!0,once:!0}),setTimeout(()=>{d<l&&f()},a+1)}var bG=["*"];function EG(n,e){n&1&&Lt(0)}var gv=new WeakMap;function kf(n,e){if(n)switch(gv.has(n)||gv.set(n,{display:n.style.display,visibility:n.style.visibility,maxHeight:n.style.maxHeight}),e){case"display":n.style.display="none";break;case"visibility":n.style.visibility="hidden",n.style.maxHeight="0";break}}function mv(n,e){if(!n)return;let t=gv.get(n)??n.style;switch(e){case"display":n.style.display=t?.display||"";break;case"visibility":n.style.visibility=t?.visibility||"",n.style.maxHeight=t?.maxHeight||"";break}gv.delete(n)}var wG=`
    .p-motion {
        display: block;
    }
`,CG={root:"p-motion"},rT=(()=>{class n extends ot{name="motion";style=wG;classes=CG;static \u0275fac=(()=>{let t;return function(i){return(t||(t=ee(n)))(i||n)}})();static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();var MV=new q("MOTION_INSTANCE"),IG=(()=>{class n extends mt{$pcMotion=T(MV,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=T(he,{self:!0});onAfterViewChecked(){let r=this.options()?.root||{};this.bindDirectiveInstance.setAttrs(N(N({},this.ptms(["host","root"])),r))}_componentStyle=T(rT);visible=$(!1);mountOnEnter=$(!0);unmountOnLeave=$(!0);name=$(void 0);type=$(void 0);safe=$(void 0);disabled=$(!1);appear=$(!1);enter=$(!0);leave=$(!0);duration=$(void 0);hideStrategy=$("display");enterFromClass=$(void 0);enterToClass=$(void 0);enterActiveClass=$(void 0);leaveFromClass=$(void 0);leaveToClass=$(void 0);leaveActiveClass=$(void 0);options=$({});onBeforeEnter=pn();onEnter=pn();onAfterEnter=pn();onEnterCancelled=pn();onBeforeLeave=pn();onLeave=pn();onAfterLeave=pn();onLeaveCancelled=pn();motionOptions=He(()=>{let t=this.options();return{name:t.name??this.name(),type:t.type??this.type(),safe:t.safe??this.safe(),disabled:t.disabled??this.disabled(),appear:!1,enter:t.enter??this.enter(),leave:t.leave??this.leave(),duration:t.duration??this.duration(),enterClass:{from:t.enterClass?.from??(t.name?void 0:this.enterFromClass()),to:t.enterClass?.to??(t.name?void 0:this.enterToClass()),active:t.enterClass?.active??(t.name?void 0:this.enterActiveClass())},leaveClass:{from:t.leaveClass?.from??(t.name?void 0:this.leaveFromClass()),to:t.leaveClass?.to??(t.name?void 0:this.leaveToClass()),active:t.leaveClass?.active??(t.name?void 0:this.leaveActiveClass())},onBeforeEnter:t.onBeforeEnter??this.handleBeforeEnter,onEnter:t.onEnter??this.handleEnter,onAfterEnter:t.onAfterEnter??this.handleAfterEnter,onEnterCancelled:t.onEnterCancelled??this.handleEnterCancelled,onBeforeLeave:t.onBeforeLeave??this.handleBeforeLeave,onLeave:t.onLeave??this.handleLeave,onAfterLeave:t.onAfterLeave??this.handleAfterLeave,onLeaveCancelled:t.onLeaveCancelled??this.handleLeaveCancelled}});motion;isInitialMount=!0;cancelled=!1;destroyed=!1;rendered=Te(!1);handleBeforeEnter=t=>!this.destroyed&&this.onBeforeEnter.emit(t);handleEnter=t=>!this.destroyed&&this.onEnter.emit(t);handleAfterEnter=t=>!this.destroyed&&this.onAfterEnter.emit(t);handleEnterCancelled=t=>!this.destroyed&&this.onEnterCancelled.emit(t);handleBeforeLeave=t=>!this.destroyed&&this.onBeforeLeave.emit(t);handleLeave=t=>!this.destroyed&&this.onLeave.emit(t);handleAfterLeave=t=>!this.destroyed&&this.onAfterLeave.emit(t);handleLeaveCancelled=t=>!this.destroyed&&this.onLeaveCancelled.emit(t);constructor(){super(),qe(()=>{let t=this.hideStrategy();this.isInitialMount?(kf(this.$el,t),this.rendered.set(this.visible()&&this.mountOnEnter()||!this.mountOnEnter())):this.visible()&&!this.rendered()&&(kf(this.$el,t),this.rendered.set(!0))}),qe(()=>{this.motion||(this.motion=nT(this.$el,this.motionOptions()))}),rw(async()=>{if(!this.$el)return;let t=this.isInitialMount&&this.visible()&&this.appear(),r=this.hideStrategy();this.visible()?(await nm(),mv(this.$el,r),(t||!this.isInitialMount)&&this.motion?.enter()):this.isInitialMount||(await nm(),this.motion?.leave()?.then(async()=>{this.$el&&!this.cancelled&&!this.visible()&&(kf(this.$el,r),this.unmountOnLeave()&&(await nm(),this.cancelled||this.rendered.set(!1)))})),this.isInitialMount=!1})}onDestroy(){this.destroyed=!0,this.cancelled=!0,this.motion?.cancel(),this.motion=void 0,mv(this.$el,this.hideStrategy()),this.$el?.remove(),this.isInitialMount=!0}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Oe({type:n,selectors:[["p-motion"]],hostVars:2,hostBindings:function(r,i){r&2&&ge(i.cx("root"))},inputs:{visible:[1,"visible"],mountOnEnter:[1,"mountOnEnter"],unmountOnLeave:[1,"unmountOnLeave"],name:[1,"name"],type:[1,"type"],safe:[1,"safe"],disabled:[1,"disabled"],appear:[1,"appear"],enter:[1,"enter"],leave:[1,"leave"],duration:[1,"duration"],hideStrategy:[1,"hideStrategy"],enterFromClass:[1,"enterFromClass"],enterToClass:[1,"enterToClass"],enterActiveClass:[1,"enterActiveClass"],leaveFromClass:[1,"leaveFromClass"],leaveToClass:[1,"leaveToClass"],leaveActiveClass:[1,"leaveActiveClass"],options:[1,"options"]},outputs:{onBeforeEnter:"onBeforeEnter",onEnter:"onEnter",onAfterEnter:"onAfterEnter",onEnterCancelled:"onEnterCancelled",onBeforeLeave:"onBeforeLeave",onLeave:"onLeave",onAfterLeave:"onAfterLeave",onLeaveCancelled:"onLeaveCancelled"},features:[Fe([rT,{provide:MV,useExisting:n},{provide:It,useExisting:n}]),At([he]),oe],ngContentSelectors:bG,decls:1,vars:1,template:function(r,i){r&1&&(In(),NE(0,EG,1,0)),r&2&&RE(i.rendered()?0:-1)},dependencies:[Ct,zn],encapsulation:2})}return n})(),NV=new q("MOTION_DIRECTIVE_INSTANCE"),xV=(()=>{class n extends mt{$pcMotionDirective=T(NV,{optional:!0,skipSelf:!0})??void 0;visible=$(!1,{alias:"pMotion"});name=$(void 0,{alias:"pMotionName"});type=$(void 0,{alias:"pMotionType"});safe=$(void 0,{alias:"pMotionSafe"});disabled=$(!1,{alias:"pMotionDisabled"});appear=$(!1,{alias:"pMotionAppear"});enter=$(!0,{alias:"pMotionEnter"});leave=$(!0,{alias:"pMotionLeave"});duration=$(void 0,{alias:"pMotionDuration"});hideStrategy=$("display",{alias:"pMotionHideStrategy"});enterFromClass=$(void 0,{alias:"pMotionEnterFromClass"});enterToClass=$(void 0,{alias:"pMotionEnterToClass"});enterActiveClass=$(void 0,{alias:"pMotionEnterActiveClass"});leaveFromClass=$(void 0,{alias:"pMotionLeaveFromClass"});leaveToClass=$(void 0,{alias:"pMotionLeaveToClass"});leaveActiveClass=$(void 0,{alias:"pMotionLeaveActiveClass"});options=$({},{alias:"pMotionOptions"});onBeforeEnter=pn({alias:"pMotionOnBeforeEnter"});onEnter=pn({alias:"pMotionOnEnter"});onAfterEnter=pn({alias:"pMotionOnAfterEnter"});onEnterCancelled=pn({alias:"pMotionOnEnterCancelled"});onBeforeLeave=pn({alias:"pMotionOnBeforeLeave"});onLeave=pn({alias:"pMotionOnLeave"});onAfterLeave=pn({alias:"pMotionOnAfterLeave"});onLeaveCancelled=pn({alias:"pMotionOnLeaveCancelled"});motionOptions=He(()=>{let t=this.options()??{};return{name:t.name??this.name(),type:t.type??this.type(),safe:t.safe??this.safe(),disabled:t.disabled??this.disabled(),appear:!1,enter:t.enter??this.enter(),leave:t.leave??this.leave(),duration:t.duration??this.duration(),enterClass:{from:t.enterClass?.from??(t.name?void 0:this.enterFromClass()),to:t.enterClass?.to??(t.name?void 0:this.enterToClass()),active:t.enterClass?.active??(t.name?void 0:this.enterActiveClass())},leaveClass:{from:t.leaveClass?.from??(t.name?void 0:this.leaveFromClass()),to:t.leaveClass?.to??(t.name?void 0:this.leaveToClass()),active:t.leaveClass?.active??(t.name?void 0:this.leaveActiveClass())},onBeforeEnter:t.onBeforeEnter??this.handleBeforeEnter,onEnter:t.onEnter??this.handleEnter,onAfterEnter:t.onAfterEnter??this.handleAfterEnter,onEnterCancelled:t.onEnterCancelled??this.handleEnterCancelled,onBeforeLeave:t.onBeforeLeave??this.handleBeforeLeave,onLeave:t.onLeave??this.handleLeave,onAfterLeave:t.onAfterLeave??this.handleAfterLeave,onLeaveCancelled:t.onLeaveCancelled??this.handleLeaveCancelled}});motion;isInitialMount=!0;cancelled=!1;destroyed=!1;handleBeforeEnter=t=>!this.destroyed&&this.onBeforeEnter.emit(t);handleEnter=t=>!this.destroyed&&this.onEnter.emit(t);handleAfterEnter=t=>!this.destroyed&&this.onAfterEnter.emit(t);handleEnterCancelled=t=>!this.destroyed&&this.onEnterCancelled.emit(t);handleBeforeLeave=t=>!this.destroyed&&this.onBeforeLeave.emit(t);handleLeave=t=>!this.destroyed&&this.onLeave.emit(t);handleAfterLeave=t=>!this.destroyed&&this.onAfterLeave.emit(t);handleLeaveCancelled=t=>!this.destroyed&&this.onLeaveCancelled.emit(t);constructor(){super(),qe(()=>{this.motion||(this.motion=nT(this.$el,this.motionOptions()))}),rw(()=>{if(!this.$el)return;let t=this.isInitialMount&&this.visible()&&this.appear(),r=this.hideStrategy();this.visible()?(mv(this.$el,r),(t||!this.isInitialMount)&&this.motion?.enter()):this.isInitialMount?kf(this.$el,r):this.motion?.leave()?.then(()=>{this.$el&&!this.cancelled&&!this.visible()&&kf(this.$el,r)}),this.isInitialMount=!1})}onDestroy(){this.destroyed=!0,this.cancelled=!0,this.motion?.cancel(),this.motion=void 0,mv(this.$el,this.hideStrategy()),this.isInitialMount=!0}static \u0275fac=function(r){return new(r||n)};static \u0275dir=de({type:n,selectors:[["","pMotion",""]],inputs:{visible:[1,"pMotion","visible"],name:[1,"pMotionName","name"],type:[1,"pMotionType","type"],safe:[1,"pMotionSafe","safe"],disabled:[1,"pMotionDisabled","disabled"],appear:[1,"pMotionAppear","appear"],enter:[1,"pMotionEnter","enter"],leave:[1,"pMotionLeave","leave"],duration:[1,"pMotionDuration","duration"],hideStrategy:[1,"pMotionHideStrategy","hideStrategy"],enterFromClass:[1,"pMotionEnterFromClass","enterFromClass"],enterToClass:[1,"pMotionEnterToClass","enterToClass"],enterActiveClass:[1,"pMotionEnterActiveClass","enterActiveClass"],leaveFromClass:[1,"pMotionLeaveFromClass","leaveFromClass"],leaveToClass:[1,"pMotionLeaveToClass","leaveToClass"],leaveActiveClass:[1,"pMotionLeaveActiveClass","leaveActiveClass"],options:[1,"pMotionOptions","options"]},outputs:{onBeforeEnter:"pMotionOnBeforeEnter",onEnter:"pMotionOnEnter",onAfterEnter:"pMotionOnAfterEnter",onEnterCancelled:"pMotionOnEnterCancelled",onBeforeLeave:"pMotionOnBeforeLeave",onLeave:"pMotionOnLeave",onAfterLeave:"pMotionOnAfterLeave",onLeaveCancelled:"pMotionOnLeaveCancelled"},features:[Fe([rT,{provide:NV,useExisting:n},{provide:It,useExisting:n}]),oe]})}return n})(),RV=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=$e({type:n});static \u0275inj=je({imports:[IG]})}return n})();var PV=`
    .p-panel {
        display: block;
        border: 1px solid dt('panel.border.color');
        border-radius: dt('panel.border.radius');
        background: dt('panel.background');
        color: dt('panel.color');
    }

    .p-panel-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: dt('panel.header.padding');
        background: dt('panel.header.background');
        color: dt('panel.header.color');
        border-style: solid;
        border-width: dt('panel.header.border.width');
        border-color: dt('panel.header.border.color');
        border-radius: dt('panel.header.border.radius');
    }

    .p-panel-toggleable .p-panel-header {
        padding: dt('panel.toggleable.header.padding');
    }

    .p-panel-title {
        line-height: 1;
        font-weight: dt('panel.title.font.weight');
    }

    .p-panel-content-container {
        display: grid;
        grid-template-rows: 1fr;
    }

    .p-panel-content-wrapper {
        min-height: 0;
    }

    .p-panel-content {
        padding: dt('panel.content.padding');
    }

    .p-panel-footer {
        padding: dt('panel.footer.padding');
    }
`;var TG=["header"],SG=["icons"],AG=["content"],MG=["footer"],NG=["headericons"],xG=["contentWrapper"],RG=["*",[["p-header"]],[["p-footer"]]],PG=["*","p-header","p-footer"],OG=n=>({$implicit:n});function kG(n,e){if(n&1&&(G(0,"span",4),ie(1),L()),n&2){let t=fe(2);ge(t.cx("title")),F("pBind",t.ptm("title")),Ge("id",t.id+"_header"),V(),Pt(t._header)}}function FG(n,e){n&1&&jn(0)}function LG(n,e){}function VG(n,e){n&1&&be(0,LG,0,0,"ng-template")}function BG(n,e){if(n&1&&(Et(0),nn(),pe(1,"svg",12),wt()),n&2){let t=fe(5);V(),F("pBind",t.ptm("pcToggleButton.icon"))}}function jG(n,e){if(n&1&&(Et(0),nn(),pe(1,"svg",13),wt()),n&2){let t=fe(5);V(),F("pBind",t.ptm("pcToggleButton.icon"))}}function UG(n,e){if(n&1&&(Et(0),be(1,BG,2,1,"ng-container",10)(2,jG,2,1,"ng-container",10),wt()),n&2){let t=fe(4);V(),F("ngIf",!t.collapsed),V(),F("ngIf",t.collapsed)}}function $G(n,e){}function HG(n,e){n&1&&be(0,$G,0,0,"ng-template")}function zG(n,e){if(n&1&&be(0,UG,3,2,"ng-container",10)(1,HG,1,0,null,11),n&2){let t=fe(3);F("ngIf",!t.headerIconsTemplate&&!t._headerIconsTemplate&&!(t.toggleButtonProps!=null&&t.toggleButtonProps.icon)),V(),F("ngTemplateOutlet",t.headerIconsTemplate||t._headerIconsTemplate)("ngTemplateOutletContext",kE(3,OG,t.collapsed))}}function qG(n,e){if(n&1){let t=ki();G(0,"p-button",9),lt("click",function(i){Pn(t);let o=fe(2);return On(o.onIconClick(i))})("keydown",function(i){Pn(t);let o=fe(2);return On(o.onKeyDown(i))}),be(1,zG,2,5,"ng-template",null,1,jE),L()}if(n&2){let t=fe(2);F("text",!0)("rounded",!0)("styleClass",t.cx("pcToggleButton"))("buttonProps",t.toggleButtonProps)("pt",t.ptm("pcToggleButton"))("unstyled",t.unstyled()),Ge("id",t.id+"_header")("aria-label",t.buttonAriaLabel)("aria-controls",t.id+"_content")("aria-expanded",!t.collapsed)}}function GG(n,e){if(n&1){let t=ki();G(0,"div",7),lt("click",function(i){Pn(t);let o=fe();return On(o.onHeaderClick(i))}),be(1,kG,2,5,"span",6),Lt(2,1),be(3,FG,1,0,"ng-container",5),G(4,"div",4),be(5,VG,1,0,null,5)(6,qG,3,10,"p-button",8),L()()}if(n&2){let t=fe();ge(t.cx("header")),F("pBind",t.ptm("header")),Ge("id",t.id+"-titlebar")("data-p",t.dataP),V(),F("ngIf",t._header),V(2),F("ngTemplateOutlet",t.headerTemplate||t._headerTemplate),V(),ge(t.cx("headerActions")),F("pBind",t.ptm("headerActions")),V(),F("ngTemplateOutlet",t.iconTemplate||t._iconTemplate),V(),F("ngIf",t.toggleable)}}function WG(n,e){n&1&&jn(0)}function KG(n,e){n&1&&jn(0)}function QG(n,e){if(n&1&&(G(0,"div",4),Lt(1,2),be(2,KG,1,0,"ng-container",5),L()),n&2){let t=fe();ge(t.cx("footer")),F("pBind",t.ptm("footer")),V(2),F("ngTemplateOutlet",t.footerTemplate||t._footerTemplate)}}var YG={root:({instance:n})=>["p-panel p-component",{"p-panel-toggleable":n.toggleable,"p-panel-expanded":!n._collapsed&&n.toggleable,"p-panel-collapsed":n._collapsed&&n.toggleable}],header:"p-panel-header",title:"p-panel-title",headerActions:({instance:n})=>["p-panel-header-actions",{"p-panel-icons-start":n.iconPos==="start","p-panel-icons-end":n.iconPos==="end","p-panel-icons-center":n.iconPos==="center"}],pcToggleButton:"p-panel-toggle-button",contentContainer:"p-panel-content-container",contentWrapper:"p-panel-content-wrapper",content:"p-panel-content",footer:"p-panel-footer"},OV=(()=>{class n extends ot{name="panel";style=PV;classes=YG;static \u0275fac=(()=>{let t;return function(i){return(t||(t=ee(n)))(i||n)}})();static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();var kV=new q("PANEL_INSTANCE"),iT=(()=>{class n extends mt{componentName="Panel";$pcPanel=T(kV,{optional:!0,skipSelf:!0})??void 0;_componentStyle=T(OV);bindDirectiveInstance=T(he,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}id=Ki("pn_id_");toggleable;_header;_collapsed;get collapsed(){return this._collapsed}set collapsed(t){this._collapsed=t}styleClass;iconPos="end";showHeader=!0;toggler="icon";transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)";toggleButtonProps;motionOptions=$(void 0);computedMotionOptions=He(()=>N(N({},this.ptm("motion")),this.motionOptions()));collapsedChange=new ke;onBeforeToggle=new ke;onAfterToggle=new ke;footerFacet;headerTemplate;iconTemplate;contentTemplate;footerTemplate;headerIconsTemplate;_headerTemplate;_iconTemplate;_contentTemplate;_footerTemplate;_headerIconsTemplate;contentWrapperViewChild;get buttonAriaLabel(){return this._header}onHeaderClick(t){this.toggler==="header"&&this.toggle(t)}onIconClick(t){this.toggler==="icon"&&this.toggle(t)}toggle(t){this.onBeforeToggle.emit({originalEvent:t,collapsed:this.collapsed}),this.collapsed?this.expand():this.collapse(),t.preventDefault()}expand(){this._collapsed=!1,this.collapsedChange.emit(!1),this.updateTabIndex()}collapse(){this._collapsed=!0,this.collapsedChange.emit(!0),this.updateTabIndex()}getBlockableElement(){return this.el.nativeElement}updateTabIndex(){this.contentWrapperViewChild&&this.contentWrapperViewChild.nativeElement.querySelectorAll("input, button, select, a, textarea, [tabindex]").forEach(r=>{this.collapsed?r.setAttribute("tabindex","-1"):r.removeAttribute("tabindex")})}onKeyDown(t){(t.code==="Enter"||t.code==="Space")&&(this.toggle(t),t.preventDefault())}onToggleDone(t){this.onAfterToggle.emit({originalEvent:t,collapsed:this.collapsed})}templates;onAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"header":this._headerTemplate=t.template;break;case"content":this._contentTemplate=t.template;break;case"footer":this._footerTemplate=t.template;break;case"icons":this._iconTemplate=t.template;break;case"headericons":this._headerIconsTemplate=t.template;break;default:this._contentTemplate=t.template;break}})}get dataP(){return this.cn({toggleable:this.toggleable})}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ee(n)))(i||n)}})();static \u0275cmp=Oe({type:n,selectors:[["p-panel"]],contentQueries:function(r,i,o){if(r&1&&ai(o,am,5)(o,TG,4)(o,SG,4)(o,AG,4)(o,MG,4)(o,NG,4)(o,zo,4),r&2){let s;tt(s=nt())&&(i.footerFacet=s.first),tt(s=nt())&&(i.headerTemplate=s.first),tt(s=nt())&&(i.iconTemplate=s.first),tt(s=nt())&&(i.contentTemplate=s.first),tt(s=nt())&&(i.footerTemplate=s.first),tt(s=nt())&&(i.headerIconsTemplate=s.first),tt(s=nt())&&(i.templates=s)}},viewQuery:function(r,i){if(r&1&&El(xG,5),r&2){let o;tt(o=nt())&&(i.contentWrapperViewChild=o.first)}},hostVars:4,hostBindings:function(r,i){r&2&&(Fo("id",i.id),Ge("data-p",i.dataP),ge(i.cn(i.cx("root"),i.styleClass)))},inputs:{id:"id",toggleable:[2,"toggleable","toggleable",Ee],_header:[0,"header","_header"],collapsed:[2,"collapsed","collapsed",Ee],styleClass:"styleClass",iconPos:"iconPos",showHeader:[2,"showHeader","showHeader",Ee],toggler:"toggler",transitionOptions:"transitionOptions",toggleButtonProps:"toggleButtonProps",motionOptions:[1,"motionOptions"]},outputs:{collapsedChange:"collapsedChange",onBeforeToggle:"onBeforeToggle",onAfterToggle:"onAfterToggle"},features:[Fe([OV,{provide:kV,useExisting:n},{provide:It,useExisting:n}]),At([he]),oe],ngContentSelectors:PG,decls:8,vars:18,consts:[["contentWrapper",""],["icon",""],[3,"pBind","class","click",4,"ngIf"],["pMotionName","p-collapsible","role","region",3,"pMotionOnAfterEnter","pBind","pMotion","pMotionOptions","id"],[3,"pBind"],[4,"ngTemplateOutlet"],[3,"pBind","class",4,"ngIf"],[3,"click","pBind"],["severity","secondary","type","button","role","button",3,"text","rounded","styleClass","buttonProps","pt","unstyled","click","keydown",4,"ngIf"],["severity","secondary","type","button","role","button",3,"click","keydown","text","rounded","styleClass","buttonProps","pt","unstyled"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["data-p-icon","minus",3,"pBind"],["data-p-icon","plus",3,"pBind"]],template:function(r,i){if(r&1){let o=ki();In(RG),be(0,GG,7,12,"div",2),G(1,"div",3),lt("pMotionOnAfterEnter",function(a){return Pn(o),On(i.onToggleDone(a))}),G(2,"div",4)(3,"div",4,0),Lt(5),be(6,WG,1,0,"ng-container",5),L(),be(7,QG,3,4,"div",6),L()()}r&2&&(F("ngIf",i.showHeader),V(),ge(i.cx("contentContainer")),F("pBind",i.ptm("contentContainer"))("pMotion",!i.toggleable||i.toggleable&&!i.collapsed)("pMotionOptions",i.computedMotionOptions())("id",i.id+"_content"),Ge("aria-labelledby",i.id+"_header")("aria-hidden",i.collapsed)("tabindex",i.collapsed?"-1":void 0),V(),ge(i.cx("contentWrapper")),F("pBind",i.ptm("contentWrapper")),V(),ge(i.cx("content")),F("pBind",i.ptm("content")),V(3),F("ngTemplateOutlet",i.contentTemplate||i._contentTemplate),V(),F("ngIf",i.footerFacet||i.footerTemplate||i._footerTemplate))},dependencies:[Ct,Lr,Bi,DP,cm,Wl,L0,Bt,zn,he,RV,xV],encapsulation:2,changeDetection:0})}return n})(),FV=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=$e({type:n});static \u0275inj=je({imports:[iT,Bt,zn,Bt,zn]})}return n})();function JG(n,e){if(n&1&&(Et(0),G(1,"div",20)(2,"label"),ie(3),L(),pe(4,"input",21),L(),wt()),n&2){let t=e.$implicit,r=fe();V(3),Pt(t),V(),F("formControl",r.getControl("measurements.stringsAtSaddles."+r.sKey(t)+".received"))}}function XG(n,e){if(n&1&&(Et(0),G(1,"div",20)(2,"label"),ie(3),L(),pe(4,"input",21),L(),wt()),n&2){let t=e.$implicit,r=fe();V(3),Pt(t),V(),F("formControl",r.getControl("measurements.stringsAtSaddles."+r.sKey(t)+".initial"))}}function eW(n,e){if(n&1&&(Et(0),G(1,"label",34),pe(2,"p-checkbox",25),G(3,"span",35),ie(4),L()(),wt()),n&2){let t=e.$implicit,r=fe();V(2),F("formControl",r.getControl("fretCondition.affectedFrets.fret"+(t<10?"0"+t:t)))("binary",!0),V(2),Pt(t<10?"0"+t:""+t)}}var Ff=class n{constructor(e,t,r,i){this.fb=e;this.fs=t;this.route=r;this.router=i;this.form=this.fb.group({name:["",ev.required],manufacturer:[""],model:[""],color:[""],phone:[""],notes:[""],measurements:this.fb.group({fretboardRadius:this.fb.group({received:[""],initial:[""]}),highEStringGauge:this.fb.group({received:[""],initial:[""]}),lowEStringGauge:this.fb.group({received:[""],initial:[""]}),neckRelief8th:this.fb.group({received:[""],initial:[""]}),lowEAction12th:this.fb.group({received:[""],initial:[""]}),highEAction12th:this.fb.group({received:[""],initial:[""]}),stringsAtSaddles:this.fb.group({lowE:this.fb.group({received:[""],initial:[""]}),A:this.fb.group({received:[""],initial:[""]}),D:this.fb.group({received:[""],initial:[""]}),G:this.fb.group({received:[""],initial:[""]}),B:this.fb.group({received:[""],initial:[""]}),highE:this.fb.group({received:[""],initial:[""]})})}),fretCondition:this.fb.group({highFrets:[!1],affectedFrets:this.fb.group((()=>{let o={};for(let s=0;s<24;s++){let a=s+1,l="fret"+(a<10?"0"+a:a);o[l]=[!1]}return o})()),noticeableMarks:[!1],marksNotes:[""]})})}form;isEdit=!1;id=null;stringNames=["Low E","A","D","G","B","High E"];frets=Array.from({length:24}).map((e,t)=>t+1);sKey(e){return e==="Low E"?"lowE":e==="High E"?"highE":e}getControl(e){return this.form.get(e)}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.id&&(this.isEdit=!0,this.fs.getSetup(this.id).subscribe(e=>{if(!e)return;let l=e.form?e.form:e,{id:r,createdAt:i,updatedAt:o,version:s}=l,a=$a(l,["id","createdAt","updatedAt","version"]);this.form.patchValue({name:a.name??e.name??"",manufacturer:a.manufacturer??"",model:a.model??"",color:a.color??"",phone:a.phone??e.phone??"",notes:a.notes??""}),a.measurements&&this.form.get("measurements")?.patchValue(a.measurements),a.fretCondition&&this.form.get("fretCondition")?.patchValue(a.fretCondition)}))}async save(){let e=this.form.value,t=N({},e);this.id?await this.fs.updateSetup(this.id,t):await this.fs.createSetup(t),this.router.navigate(["/"])}printPreview(){let e=this.form.value,t=this.buildPrintableHtml(e),r=null;try{r=window.open("","_blank")}catch{r=null}if(r){try{r.document.open(),r.document.write(t),r.document.close()}catch(o){console.warn("Could not write to new window, falling back to iframe",o)}let i=()=>{try{r&&r.focus(),r&&r.print()}catch(o){console.error("Print in popup failed",o)}};r.onload=i,setTimeout(i,700);return}try{let i=document.createElement("iframe");i.style.position="fixed",i.style.right="0",i.style.bottom="0",i.style.width="0",i.style.height="0",i.style.border="0",document.body.appendChild(i);let s=(i.contentWindow||i.contentDocument).document||i.contentDocument;s.open(),s.write(t),s.close(),setTimeout(()=>{try{i.contentWindow.focus(),i.contentWindow.print()}catch(l){console.error("Iframe print failed",l),alert("Print failed. Please try using your browser's Print command.")}finally{setTimeout(()=>{try{document.body.removeChild(i)}catch{}},1e3)}},700);return}catch(i){console.error("Print fallback failed",i),alert("Unable to open print preview. Please use your browser's Print command.")}}buildPrintableHtml(e){let t=u=>u==null?"":String(u),r=e.measurements||{},i=[{label:"Fretboard Radius",key:"fretboardRadius"},{label:"High E String Gauge",key:"highEStringGauge"},{label:"Low E String Gauge",key:"lowEStringGauge"},{label:"Neck Relief @8th",key:"neckRelief8th"},{label:"Low E Action @12th",key:"lowEAction12th"},{label:"High E Action @12th",key:"highEAction12th"}].map(u=>`
    <tr>
      <td>${u.label}</td>
      <td>${t(r[u.key]?.received)}</td>
      <td>${t(r[u.key]?.initial)}</td>
    </tr>
  `).join(""),o=r.stringsAtSaddles||{},s=this.stringNames.map(u=>{let d=this.sKey(u);return`
      <tr>
        <td>${u}</td>
        <td>${t(o[d]?.received)}</td>
        <td>${t(o[d]?.initial)}</td>
      </tr>
    `}).join(""),a=e.fretCondition?.affectedFrets||{},l=Object.keys(a).filter(u=>a[u]).map(u=>u.replace("fret","").replace(/^0+/,"")).join(", ")||"None";return`<!doctype html>
  <html>
    <head>
      <meta charset="utf-8" />
      <title>Setup Summary - ${t(e.name)}</title>
      <style>
        @page { margin: 20mm; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial; color:#222; margin:0; padding:0; }
        .container { max-width: 800px; margin: auto; padding: 12mm; }
        h1 { font-size: 20px; margin-bottom: 8px; }
        h2 { font-size: 16px; margin: 12px 0 6px 0; border-bottom: 1px solid #ccc; padding-bottom:2px; }
        table { width: 100%; border-collapse: collapse; margin-bottom: 12px; }
        th, td { border: 1px solid #ccc; padding: 6px 8px; text-align:left; }
        th { background: #f2f2f2; }
        .section { margin-bottom: 16px; }
        .footer { font-size: 12px; color:#555; margin-top: 20px; }
      </style>
    </head>
    <body>
  <div class="container">
  <h1>McCoy Guitars Setup</h1>
  <div style="margin-bottom:6px"><strong>Name:</strong> ${t(e.name)} &nbsp;&nbsp; <strong>Phone:</strong> ${t(e.phone)}</div>
  <div style="margin-bottom:10px"><strong>Manufacturer:</strong> ${t(e.manufacturer)} &nbsp;&nbsp; <strong>Model:</strong> ${t(e.model)} &nbsp;&nbsp; <strong>Color:</strong> ${t(e.color)}</div>

        <div class="section">
          <h2>Measurements</h2>
          <table>
            <thead>
              <tr><th>Measurement</th><th>Received</th><th>Outgoing</th></tr>
            </thead>
            <tbody>${i}</tbody>
          </table>
        </div>

        <div class="section">
          <h2>String Height at Saddles</h2>
          <table>
            <thead>
              <tr><th>String</th><th>Received</th><th>Outgoing</th></tr>
            </thead>
            <tbody>${s}</tbody>
          </table>
        </div>

        <div class="section">
          <h2>Fret Condition</h2>
          <table>
            <tr><td>High Frets</td><td>${e.fretCondition?.highFrets?"Yes":"No"}</td></tr>
            <tr><td>Affected Frets</td><td>${l}</td></tr>
            <tr><td>Marks / Notes</td><td>${t(e.fretCondition?.marksNotes)}</td></tr>
          </table>
        </div>

        <div class="section">
          <h2>Notes / Tuning / Details</h2>
          <div>${t(e.notes)}</div>
        </div>

        <div class="footer">Printed: ${new Date().toLocaleString()}</div>
      </div>
    </body>
  </html>`}cancel(){this.router.navigate(["/"])}static \u0275fac=function(t){return new(t||n)(te(cV),te(kc),te(ci),te(jo))};static \u0275cmp=Oe({type:n,selectors:[["app-setup-form"]],decls:122,vars:23,consts:[[3,"ngSubmit","formGroup"],[1,"p-field",2,"width","100%"],["for","name"],["id","name","pInputText","","formControlName","name","required",""],[2,"display","grid","grid-template-columns","1fr 1fr 1fr","gap","12px"],[1,"p-field"],["for","manufacturer"],["id","manufacturer","pInputText","","formControlName","manufacturer"],["for","model"],["id","model","pInputText","","formControlName","model"],["for","color"],["id","color","pInputText","","formControlName","color"],["for","phone"],["id","phone","pInputText","","formControlName","phone","inputmode","tel"],["for","notes"],["id","notes","pInputTextarea","","rows","4","formControlName","notes"],[2,"margin-top","12px"],[2,"display","grid","grid-template-columns","1fr 1fr","gap","16px"],["header","Received"],[2,"display","grid","gap","12px","padding","8px 0"],[1,"field"],["pInputText","",3,"formControl"],["header","Outgoing"],[4,"ngFor","ngForOf"],[1,"p-checkbox-label"],[3,"formControl","binary"],[2,"margin-top","8px"],[2,"display","grid","grid-template-columns","repeat(6,1fr)","gap","6px","margin-top","6px"],[2,"width","100%","margin-top","8px"],["pInputTextarea","","rows","3",3,"formControl"],[2,"display","flex","gap","8px","justify-content","flex-end","margin-top","12px"],["pButton","","type","button",1,"p-button-outlined",3,"click"],["pButton","","type","button",1,"p-button-secondary",3,"click"],["pButton","","type","submit",1,"p-button-success",3,"disabled"],[1,"fret-checkbox"],[1,"fret-label"]],template:function(t,r){t&1&&(G(0,"p-card")(1,"form",0),lt("ngSubmit",function(){return r.save()}),G(2,"h2"),ie(3),L(),G(4,"div",1)(5,"label",2),ie(6,"Name"),L(),pe(7,"input",3),L(),G(8,"div",4)(9,"div",5)(10,"label",6),ie(11,"Manufacturer"),L(),pe(12,"input",7),L(),G(13,"div",5)(14,"label",8),ie(15,"Model"),L(),pe(16,"input",9),L(),G(17,"div",5)(18,"label",10),ie(19,"Color / Finish"),L(),pe(20,"input",11),L()(),G(21,"div",1)(22,"label",12),ie(23,"Phone"),L(),pe(24,"input",13),L(),G(25,"div",1)(26,"label",14),ie(27,"Notes / Tuning / Details"),L(),pe(28,"textarea",15),L(),G(29,"section",16)(30,"h3"),ie(31,"Measurements"),L(),G(32,"div",17)(33,"p-panel",18)(34,"div",19)(35,"div",20)(36,"label"),ie(37,"Fretboard Radius"),L(),pe(38,"input",21),L(),G(39,"div",20)(40,"label"),ie(41,"High E string gauge"),L(),pe(42,"input",21),L(),G(43,"div",20)(44,"label"),ie(45,"Low E string gauge"),L(),pe(46,"input",21),L(),G(47,"div",20)(48,"label"),ie(49,"Neck relief @ 8th"),L(),pe(50,"input",21),L(),G(51,"div",20)(52,"label"),ie(53,"Low E action @12th"),L(),pe(54,"input",21),L(),G(55,"div",20)(56,"label"),ie(57,"High E action @12th"),L(),pe(58,"input",21),L()()(),G(59,"p-panel",22)(60,"div",19)(61,"div",20)(62,"label"),ie(63,"Fretboard Radius"),L(),pe(64,"input",21),L(),G(65,"div",20)(66,"label"),ie(67,"High E string gauge"),L(),pe(68,"input",21),L(),G(69,"div",20)(70,"label"),ie(71,"Low E string gauge"),L(),pe(72,"input",21),L(),G(73,"div",20)(74,"label"),ie(75,"Neck relief @ 8th"),L(),pe(76,"input",21),L(),G(77,"div",20)(78,"label"),ie(79,"Low E action @12th"),L(),pe(80,"input",21),L(),G(81,"div",20)(82,"label"),ie(83,"High E action @12th"),L(),pe(84,"input",21),L()()()()(),G(85,"section",16)(86,"h3"),ie(87,"String Height at Saddles"),L(),G(88,"div",17)(89,"p-panel",18)(90,"div",19),be(91,JG,5,2,"ng-container",23),L()(),G(92,"p-panel",22)(93,"div",19),be(94,XG,5,2,"ng-container",23),L()()()(),G(95,"section",16)(96,"h3"),ie(97,"Fret & Condition Assessment"),L(),G(98,"label",24),pe(99,"p-checkbox",25),G(100,"span"),ie(101,"High Frets"),L()(),G(102,"div",26),ie(103,"Affected Frets"),L(),G(104,"div",27),be(105,eW,5,3,"ng-container",23),L(),G(106,"div",26)(107,"label",24),pe(108,"p-checkbox",25),G(109,"span"),ie(110,"Noticeable Marks or Defects"),L()()(),G(111,"div",28)(112,"label"),ie(113,"Marks / Defects Notes"),L(),pe(114,"textarea",29),L()(),G(115,"div",30)(116,"button",31),lt("click",function(){return r.cancel()}),ie(117,"Cancel"),L(),G(118,"button",32),lt("click",function(){return r.printPreview()}),ie(119,"Print"),L(),G(120,"button",33),ie(121,"Save"),L()()()()),t&2&&(V(),F("formGroup",r.form),V(2),Pt(r.isEdit?"Edit Setup":"New Setup"),V(35),F("formControl",r.getControl("measurements.fretboardRadius.received")),V(4),F("formControl",r.getControl("measurements.highEStringGauge.received")),V(4),F("formControl",r.getControl("measurements.lowEStringGauge.received")),V(4),F("formControl",r.getControl("measurements.neckRelief8th.received")),V(4),F("formControl",r.getControl("measurements.lowEAction12th.received")),V(4),F("formControl",r.getControl("measurements.highEAction12th.received")),V(6),F("formControl",r.getControl("measurements.fretboardRadius.initial")),V(4),F("formControl",r.getControl("measurements.highEStringGauge.initial")),V(4),F("formControl",r.getControl("measurements.lowEStringGauge.initial")),V(4),F("formControl",r.getControl("measurements.neckRelief8th.initial")),V(4),F("formControl",r.getControl("measurements.lowEAction12th.initial")),V(4),F("formControl",r.getControl("measurements.highEAction12th.initial")),V(7),F("ngForOf",r.stringNames),V(3),F("ngForOf",r.stringNames),V(5),F("formControl",r.getControl("fretCondition.highFrets"))("binary",!0),V(6),F("ngForOf",r.frets),V(3),F("formControl",r.getControl("fretCondition.noticeableMarks"))("binary",!0),V(6),F("formControl",r.getControl("fretCondition.marksNotes")),V(6),F("disabled",r.form.invalid))},dependencies:[Ct,Cl,uV,lV,uv,tV,nV,tT,JD,eT,XD,gV,pV,bV,_V,Wl,um,dm,B0,DV,hv,FV,iT],styles:["[_nghost-%COMP%]     .p-panel{border-radius:10px;overflow:hidden;border:1px solid rgba(0,0,0,.06)}[_nghost-%COMP%]     .p-panel .p-panel-header{background:#fafafa;font-weight:600;padding:.6rem 1rem}[_nghost-%COMP%]     .p-panel .p-panel-content{padding:.6rem 1rem}.p-field[_ngcontent-%COMP%], .field[_ngcontent-%COMP%]{margin-bottom:20px;display:flex;flex-direction:column;gap:6px}.p-field[_ngcontent-%COMP%]   input[pInputText][_ngcontent-%COMP%], .field[_ngcontent-%COMP%]   input[pInputText][_ngcontent-%COMP%], textarea[pInputTextarea][_ngcontent-%COMP%], .p-field[_ngcontent-%COMP%]   textarea[pInputTextarea][_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:.6rem;border-radius:8px;border:1px solid #dcdcdc;font-size:.95rem}label[_ngcontent-%COMP%]{font-size:.92rem;color:#222}@media(max-width:720px){[_nghost-%COMP%]     .p-panel{border-radius:6px}}"]})};var LV=[{path:"",component:Zy},{path:"new",component:Ff},{path:"setup/:id",component:Ff},{path:"**",redirectTo:""}];var VV={providers:[pb(),kR(),Qw(LV)]};var yv=class n{title=Te("McCoy Guitars");static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Oe({type:n,selectors:[["app-root"]],decls:9,vars:0,consts:[[1,"app-header",2,"display","flex","align-items","center","padding","12px 24px","background","linear-gradient(90deg,#ff6b00,#ff2d95)","color","white"],[1,"brand"],[1,"spacer"],["aria-label","Menu",2,"background","transparent","border","0","color","inherit","font-size","1.25rem"],[1,"pi","pi-bars"],["role","main",1,"app-shell"],[1,"container"]],template:function(t,r){t&1&&(G(0,"header",0)(1,"div",1),ie(2,"McCoy Guitars"),L(),pe(3,"div",2),G(4,"button",3),pe(5,"i",4),L()(),G(6,"main",5)(7,"div",6),pe(8,"router-outlet"),L()())},dependencies:[vd],styles:['[_nghost-%COMP%]{display:block;height:100%;font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;--bright-blue: oklch(51.01% .274 263.83);--electric-violet: oklch(53.18% .28 296.97);--french-violet: oklch(47.66% .246 305.88);--vivid-pink: oklch(69.02% .277 332.77);--hot-red: oklch(61.42% .238 15.34);--orange-red: oklch(63.32% .24 31.68);--gray-900: oklch(19.37% .006 300.98);--gray-700: oklch(36.98% .014 302.71);--gray-400: oklch(70.9% .015 304.04);--red-to-pink-to-purple-vertical-gradient: linear-gradient( 180deg, var(--orange-red) 0%, var(--vivid-pink) 50%, var(--electric-violet) 100% );--red-to-pink-to-purple-horizontal-gradient: linear-gradient( 90deg, var(--orange-red) 0%, var(--vivid-pink) 50%, var(--electric-violet) 100% )}.brand[_ngcontent-%COMP%]{font-weight:600;letter-spacing:.2px}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.app-shell[_ngcontent-%COMP%]{padding:24px;display:flex;justify-content:center}.container[_ngcontent-%COMP%]{width:100%;max-width:960px}h1[_ngcontent-%COMP%]{font-size:3.125rem;color:var(--gray-900);font-weight:500;line-height:100%;letter-spacing:-.125rem;margin:0;font-family:Inter Tight,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif}p[_ngcontent-%COMP%]{margin:0;color:var(--gray-700)}.pill-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:start;flex-wrap:wrap;gap:1.25rem}.pill[_ngcontent-%COMP%]{display:flex;align-items:center;--pill-accent: var(--bright-blue);background:color-mix(in srgb,var(--pill-accent) 5%,transparent);color:var(--pill-accent);padding:.375rem .75rem;border-radius:2.75rem;border:0;font-size:.875rem;font-weight:500;line-height:1.4rem;text-decoration:none;white-space:nowrap;transition:background .3s ease}.pill[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--pill-accent) 15%,transparent)}.pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+1){--pill-accent: var(--bright-blue)}.pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+2){--pill-accent: var(--electric-violet)}.pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+3){--pill-accent: var(--french-violet)}.pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+4), .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+5), .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+6){--pill-accent: var(--hot-red)}.pill-group[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-inline-start:.25rem}.social-links[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.73rem;margin-top:1.5rem}.social-links[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{transition:fill .3s ease;fill:var(--gray-400)}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:var(--gray-900)}@media screen and (max-width:650px){.content[_ngcontent-%COMP%]{flex-direction:column;width:max-content}.divider[_ngcontent-%COMP%]{height:1px;width:100%;background:var(--red-to-pink-to-purple-horizontal-gradient);margin-block:1.5rem}}']})};var tW="firebase",nW="12.9.0";Ko(tW,nW,"app");var rW={apiKey:"AIzaSyCnJd63tJB1L1f2VgHbhxWMXWHeidYntYY",authDomain:"guitarsetupchecklist.firebaseapp.com",projectId:"guitarsetupchecklist",storageBucket:"guitarsetupchecklist.firebasestorage.app",messagingSenderId:"1036639733374",appId:"1:1036639733374:web:12ecdb301701b42f513a2f"},BV=rW;var iW=sC(BV),fs=AD(iW);MD(fs).catch(n=>{console.warn("Could not enable IndexedDB persistence:",n?.code||n)});Iw(yv,VV).catch(n=>console.error(n));export{fs as db};
